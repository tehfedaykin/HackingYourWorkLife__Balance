!function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=12)}([function(t,n,e){"use strict";e.r(n);var r="http://www.w3.org/1999/xhtml",i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},o=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),i.hasOwnProperty(n)?{space:i[n],local:t}:t};var a=function(t){var n=o(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===r&&n.documentElement.namespaceURI===r?n.createElement(t):n.createElementNS(e,t)}})(n)};function u(){}var c=function(t){return null==t?u:function(){return this.querySelector(t)}};function s(){return[]}var l=function(t){return null==t?s:function(){return this.querySelectorAll(t)}},f=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var h=document.documentElement;if(!h.matches){var d=h.webkitMatchesSelector||h.msMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector;f=function(t){return function(){return d.call(this,t)}}}}var p=f,g=function(t){return new Array(t.length)};function _(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}_.prototype={constructor:_,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var y="$";function m(t,n,e,r,i,o){for(var a,u=0,c=n.length,s=o.length;u<s;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new _(t,o[u]);for(;u<c;++u)(a=n[u])&&(i[u]=a)}function v(t,n,e,r,i,o,a){var u,c,s,l={},f=n.length,h=o.length,d=new Array(f);for(u=0;u<f;++u)(c=n[u])&&(d[u]=s=y+a.call(c,c.__data__,u,n),s in l?i[u]=c:l[s]=c);for(u=0;u<h;++u)(c=l[s=y+a.call(t,o[u],u,o)])?(r[u]=c,c.__data__=o[u],l[s]=null):e[u]=new _(t,o[u]);for(u=0;u<f;++u)(c=n[u])&&l[d[u]]===c&&(i[u]=c)}function b(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var x=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function w(t,n){return t.style.getPropertyValue(n)||x(t).getComputedStyle(t,null).getPropertyValue(n)}function M(t){return t.trim().split(/^|\s+/)}function k(t){return t.classList||new S(t)}function S(t){this._node=t,this._names=M(t.getAttribute("class")||"")}function A(t,n){for(var e=k(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function E(t,n){for(var e=k(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}S.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function T(){this.textContent=""}function C(){this.innerHTML=""}function O(){this.nextSibling&&this.parentNode.appendChild(this)}function N(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function j(){return null}function z(){var t=this.parentNode;t&&t.removeChild(this)}function D(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function L(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var F={},R=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(F={mouseenter:"mouseover",mouseleave:"mouseout"}));function P(t,n,e){return t=I(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function I(t,n,e){return function(r){var i=R;R=r;try{t.call(this,this.__data__,n,e)}finally{R=i}}}function B(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function U(t,n,e){var r=F.hasOwnProperty(t.type)?P:I;return function(i,o,a){var u,c=this.__on,s=r(n,o,a);if(c)for(var l=0,f=c.length;l<f;++l)if((u=c[l]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=s,u.capture=e),void(u.value=n);this.addEventListener(t.type,s,e),u={type:t.type,name:t.name,value:n,listener:s,capture:e},c?c.push(u):this.__on=[u]}}function H(t,n,e,r){var i=R;t.sourceEvent=R,R=t;try{return n.apply(e,r)}finally{R=i}}function W(t,n,e){var r=x(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}var Y=[null];function G(t,n){this._groups=t,this._parents=n}function X(){return new G([[document.documentElement]],Y)}G.prototype=X.prototype={constructor:G,select:function(t){"function"!=typeof t&&(t=c(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],s=u.length,l=r[i]=new Array(s),f=0;f<s;++f)(o=u[f])&&(a=t.call(o,o.__data__,f,u))&&("__data__"in o&&(a.__data__=o.__data__),l[f]=a);return new G(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=l(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],c=u.length,s=0;s<c;++s)(a=u[s])&&(r.push(t.call(a,a.__data__,s,u)),i.push(a));return new G(r,i)},filter:function(t){"function"!=typeof t&&(t=p(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,c=r[i]=[],s=0;s<u;++s)(o=a[s])&&t.call(o,o.__data__,s,a)&&c.push(o);return new G(r,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),s=-1,this.each(function(t){d[++s]=t}),d;var e=n?v:m,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=new Array(o),u=new Array(o),c=new Array(o),s=0;s<o;++s){var l=r[s],f=i[s],h=f.length,d=t.call(l,l&&l.__data__,s,r),p=d.length,g=u[s]=new Array(p),_=a[s]=new Array(p);e(l,f,g,_,c[s]=new Array(h),d,n);for(var y,b,x=0,w=0;x<p;++x)if(y=g[x]){for(x>=w&&(w=x+1);!(b=_[w])&&++w<p;);y._next=b||null}}return(a=new G(a,r))._enter=u,a._exit=c,a},enter:function(){return new G(this._enter||this._groups.map(g),this._parents)},exit:function(){return new G(this._exit||this._groups.map(g),this._parents)},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,s=n[u],l=e[u],f=s.length,h=a[u]=new Array(f),d=0;d<f;++d)(c=s[d]||l[d])&&(h[d]=c);for(;u<r;++u)a[u]=n[u];return new G(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=b);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],c=u.length,s=i[o]=new Array(c),l=0;l<c;++l)(a=u[l])&&(s[l]=a);s.sort(n)}return new G(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=o(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):w(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=M(t+"");if(arguments.length<2){for(var r=k(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?A:E)(this,t)}}:n?function(t){return function(){A(this,t)}}:function(t){return function(){E(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?T:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?C:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(O)},lower:function(){return this.each(N)},append:function(t){var n="function"==typeof t?t:a(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:a(t),r=null==n?j:"function"==typeof n?n:c(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(z)},clone:function(t){return this.select(t?L:D)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?U:B,null==e&&(e=!1),r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var c,s=0,l=u.length;s<l;++s)for(r=0,c=u[s];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return W(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return W(this,t,n)}})(t,n))}};var q=X,V=function(t){return"string"==typeof t?new G([[document.querySelector(t)]],[document.documentElement]):new G([[t]],Y)},Z=function(t){return V(a(t).call(document.documentElement))},J=0;function $(){return new Q}function Q(){this._="@"+(++J).toString(36)}Q.prototype=$.prototype={constructor:Q,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var K=function(){for(var t,n=R;t=n.sourceEvent;)n=t;return n},tt=function(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]},nt=function(t){var n=K();return n.changedTouches&&(n=n.changedTouches[0]),tt(t,n)},et=function(t){return"string"==typeof t?new G([document.querySelectorAll(t)],[document.documentElement]):new G([null==t?[]:t],Y)},rt=function(t,n,e){arguments.length<3&&(e=n,n=K().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return tt(t,r);return null},it=function(t,n){null==n&&(n=K().touches);for(var e=0,r=n?n.length:0,i=new Array(r);e<r;++e)i[e]=tt(t,n[e]);return i};e.d(n,"create",function(){return Z}),e.d(n,"creator",function(){return a}),e.d(n,"local",function(){return $}),e.d(n,"matcher",function(){return p}),e.d(n,"mouse",function(){return nt}),e.d(n,"namespace",function(){return o}),e.d(n,"namespaces",function(){return i}),e.d(n,"clientPoint",function(){return tt}),e.d(n,"select",function(){return V}),e.d(n,"selectAll",function(){return et}),e.d(n,"selection",function(){return q}),e.d(n,"selector",function(){return c}),e.d(n,"selectorAll",function(){return l}),e.d(n,"style",function(){return w}),e.d(n,"touch",function(){return rt}),e.d(n,"touches",function(){return it}),e.d(n,"window",function(){return x}),e.d(n,"event",function(){return R}),e.d(n,"customEvent",function(){return H})},function(t,n,e){"use strict";e.r(n);var r=new Date,i=new Date;function o(t,n,e,a){function u(n){return t(n=new Date(+n)),n}return u.floor=u,u.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},u.round=function(t){var n=u(t),e=u.ceil(t);return t-n<e-t?n:e},u.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},u.range=function(e,r,i){var o,a=[];if(e=u.ceil(e),i=null==i?1:Math.floor(i),!(e<r&&i>0))return a;do{a.push(o=new Date(+e)),n(e,i),t(e)}while(o<e&&e<r);return a},u.filter=function(e){return o(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););})},e&&(u.count=function(n,o){return r.setTime(+n),i.setTime(+o),t(r),t(i),Math.floor(e(r,i))},u.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?u.filter(a?function(n){return a(n)%t==0}:function(n){return u.count(0,n)%t==0}):u:null}),u}var a=o(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?o(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):a:null};var u=a,c=a.range,s=6e4,l=6048e5,f=o(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(+t+1e3*n)},function(t,n){return(n-t)/1e3},function(t){return t.getUTCSeconds()}),h=f,d=f.range,p=o(function(t){t.setTime(Math.floor(t/s)*s)},function(t,n){t.setTime(+t+n*s)},function(t,n){return(n-t)/s},function(t){return t.getMinutes()}),g=p,_=p.range,y=o(function(t){var n=t.getTimezoneOffset()*s%36e5;n<0&&(n+=36e5),t.setTime(36e5*Math.floor((+t-n)/36e5)+n)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getHours()}),m=y,v=y.range,b=o(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*s)/864e5},function(t){return t.getDate()-1}),x=b,w=b.range;function M(t){return o(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*s)/l})}var k=M(0),S=M(1),A=M(2),E=M(3),T=M(4),C=M(5),O=M(6),N=k.range,j=S.range,z=A.range,D=E.range,L=T.range,F=C.range,R=O.range,P=o(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),I=P,B=P.range,U=o(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});U.every=function(t){return isFinite(t=Math.floor(t))&&t>0?o(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};var H=U,W=U.range,Y=o(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*s)},function(t,n){return(n-t)/s},function(t){return t.getUTCMinutes()}),G=Y,X=Y.range,q=o(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getUTCHours()}),V=q,Z=q.range,J=o(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/864e5},function(t){return t.getUTCDate()-1}),$=J,Q=J.range;function K(t){return o(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/l})}var tt=K(0),nt=K(1),et=K(2),rt=K(3),it=K(4),ot=K(5),at=K(6),ut=tt.range,ct=nt.range,st=et.range,lt=rt.range,ft=it.range,ht=ot.range,dt=at.range,pt=o(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),gt=pt,_t=pt.range,yt=o(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});yt.every=function(t){return isFinite(t=Math.floor(t))&&t>0?o(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};var mt=yt,vt=yt.range;e.d(n,"timeInterval",function(){return o}),e.d(n,"timeMillisecond",function(){return u}),e.d(n,"timeMilliseconds",function(){return c}),e.d(n,"utcMillisecond",function(){return u}),e.d(n,"utcMilliseconds",function(){return c}),e.d(n,"timeSecond",function(){return h}),e.d(n,"timeSeconds",function(){return d}),e.d(n,"utcSecond",function(){return h}),e.d(n,"utcSeconds",function(){return d}),e.d(n,"timeMinute",function(){return g}),e.d(n,"timeMinutes",function(){return _}),e.d(n,"timeHour",function(){return m}),e.d(n,"timeHours",function(){return v}),e.d(n,"timeDay",function(){return x}),e.d(n,"timeDays",function(){return w}),e.d(n,"timeWeek",function(){return k}),e.d(n,"timeWeeks",function(){return N}),e.d(n,"timeSunday",function(){return k}),e.d(n,"timeSundays",function(){return N}),e.d(n,"timeMonday",function(){return S}),e.d(n,"timeMondays",function(){return j}),e.d(n,"timeTuesday",function(){return A}),e.d(n,"timeTuesdays",function(){return z}),e.d(n,"timeWednesday",function(){return E}),e.d(n,"timeWednesdays",function(){return D}),e.d(n,"timeThursday",function(){return T}),e.d(n,"timeThursdays",function(){return L}),e.d(n,"timeFriday",function(){return C}),e.d(n,"timeFridays",function(){return F}),e.d(n,"timeSaturday",function(){return O}),e.d(n,"timeSaturdays",function(){return R}),e.d(n,"timeMonth",function(){return I}),e.d(n,"timeMonths",function(){return B}),e.d(n,"timeYear",function(){return H}),e.d(n,"timeYears",function(){return W}),e.d(n,"utcMinute",function(){return G}),e.d(n,"utcMinutes",function(){return X}),e.d(n,"utcHour",function(){return V}),e.d(n,"utcHours",function(){return Z}),e.d(n,"utcDay",function(){return $}),e.d(n,"utcDays",function(){return Q}),e.d(n,"utcWeek",function(){return tt}),e.d(n,"utcWeeks",function(){return ut}),e.d(n,"utcSunday",function(){return tt}),e.d(n,"utcSundays",function(){return ut}),e.d(n,"utcMonday",function(){return nt}),e.d(n,"utcMondays",function(){return ct}),e.d(n,"utcTuesday",function(){return et}),e.d(n,"utcTuesdays",function(){return st}),e.d(n,"utcWednesday",function(){return rt}),e.d(n,"utcWednesdays",function(){return lt}),e.d(n,"utcThursday",function(){return it}),e.d(n,"utcThursdays",function(){return ft}),e.d(n,"utcFriday",function(){return ot}),e.d(n,"utcFridays",function(){return ht}),e.d(n,"utcSaturday",function(){return at}),e.d(n,"utcSaturdays",function(){return dt}),e.d(n,"utcMonth",function(){return gt}),e.d(n,"utcMonths",function(){return _t}),e.d(n,"utcYear",function(){return mt}),e.d(n,"utcYears",function(){return vt})},function(t,n,e){"use strict";e.r(n);var r=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},i=function(t){return 1===t.length&&(t=function(t){return function(n,e){return r(t(n),e)}}(t)),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}};var o=i(r),a=o.right,u=o.left,c=a,s=function(t,n){null==n&&(n=l);for(var e=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);e<r;)o[e]=n(i,i=t[++e]);return o};function l(t,n){return[t,n]}var f=function(t,n,e){var r,i,o,a,u=t.length,c=n.length,s=new Array(u*c);for(null==e&&(e=l),r=o=0;r<u;++r)for(a=t[r],i=0;i<c;++i,++o)s[o]=e(a,n[i]);return s},h=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},d=function(t){return null===t?NaN:+t},p=function(t,n){var e,r,i=t.length,o=0,a=-1,u=0,c=0;if(null==n)for(;++a<i;)isNaN(e=d(t[a]))||(c+=(r=e-u)*(e-(u+=r/++o)));else for(;++a<i;)isNaN(e=d(n(t[a],a,t)))||(c+=(r=e-u)*(e-(u+=r/++o)));if(o>1)return c/(o-1)},g=function(t,n){var e=p(t,n);return e?Math.sqrt(e):e},_=function(t,n){var e,r,i,o=t.length,a=-1;if(null==n){for(;++a<o;)if(null!=(e=t[a])&&e>=e)for(r=i=e;++a<o;)null!=(e=t[a])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++a<o;)if(null!=(e=n(t[a],a,t))&&e>=e)for(r=i=e;++a<o;)null!=(e=n(t[a],a,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]},y=Array.prototype,m=y.slice,v=y.map,b=function(t){return function(){return t}},x=function(t){return t},w=function(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o},M=Math.sqrt(50),k=Math.sqrt(10),S=Math.sqrt(2),A=function(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=E(t,n,e))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),n=Math.floor(n/a),o=new Array(i=Math.ceil(n-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),n=Math.ceil(n*a),o=new Array(i=Math.ceil(t-n+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o};function E(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=M?10:o>=k?5:o>=S?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=M?10:o>=k?5:o>=S?2:1)}function T(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=M?i*=10:o>=k?i*=5:o>=S&&(i*=2),n<t?-i:i}var C=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},O=function(){var t=x,n=_,e=C;function r(r){var i,o,a=r.length,u=new Array(a);for(i=0;i<a;++i)u[i]=t(r[i],i,r);var s=n(u),l=s[0],f=s[1],h=e(u,l,f);Array.isArray(h)||(h=T(l,f,h),h=w(Math.ceil(l/h)*h,Math.floor(f/h)*h,h));for(var d=h.length;h[0]<=l;)h.shift(),--d;for(;h[d-1]>f;)h.pop(),--d;var p,g=new Array(d+1);for(i=0;i<=d;++i)(p=g[i]=[]).x0=i>0?h[i-1]:l,p.x1=i<d?h[i]:f;for(i=0;i<a;++i)l<=(o=u[i])&&o<=f&&g[c(h,o,0,d)].push(r[i]);return g}return r.value=function(n){return arguments.length?(t="function"==typeof n?n:b(n),r):t},r.domain=function(t){return arguments.length?(n="function"==typeof t?t:b([t[0],t[1]]),r):n},r.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Array.isArray(t)?b(m.call(t)):b(t),r):e},r},N=function(t,n,e){if(null==e&&(e=d),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t);return a+(+e(t[o+1],o+1,t)-a)*(i-o)}},j=function(t,n,e){return t=v.call(t,d).sort(r),Math.ceil((e-n)/(2*(N(t,.75)-N(t,.25))*Math.pow(t.length,-1/3)))},z=function(t,n,e){return Math.ceil((e-n)/(3.5*g(t)*Math.pow(t.length,-1/3)))},D=function(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&e>r&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&e>r&&(r=e);return r},L=function(t,n){var e,r=t.length,i=r,o=-1,a=0;if(null==n)for(;++o<r;)isNaN(e=d(t[o]))?--i:a+=e;else for(;++o<r;)isNaN(e=d(n(t[o],o,t)))?--i:a+=e;if(i)return a/i},F=function(t,n){var e,i=t.length,o=-1,a=[];if(null==n)for(;++o<i;)isNaN(e=d(t[o]))||a.push(e);else for(;++o<i;)isNaN(e=d(n(t[o],o,t)))||a.push(e);return N(a.sort(r),.5)},R=function(t){for(var n,e,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(e=new Array(a);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--a]=r[n];return e},P=function(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&r>e&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&r>e&&(r=e);return r},I=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r},B=function(t,n){if(e=t.length){var e,i,o=0,a=0,u=t[a];for(null==n&&(n=r);++o<e;)(n(i=t[o],u)<0||0!==n(u,u))&&(u=i,a=o);return 0===n(u,u)?a:void 0}},U=function(t,n,e){for(var r,i,o=(null==e?t.length:e)-(n=null==n?0:+n);o;)i=Math.random()*o--|0,r=t[o+n],t[o+n]=t[i+n],t[i+n]=r;return t},H=function(t,n){var e,r=t.length,i=-1,o=0;if(null==n)for(;++i<r;)(e=+t[i])&&(o+=e);else for(;++i<r;)(e=+n(t[i],i,t))&&(o+=e);return o},W=function(t){if(!(i=t.length))return[];for(var n=-1,e=P(t,Y),r=new Array(e);++n<e;)for(var i,o=-1,a=r[n]=new Array(i);++o<i;)a[o]=t[o][n];return r};function Y(t){return t.length}var G=function(){return W(arguments)};e.d(n,"bisect",function(){return c}),e.d(n,"bisectRight",function(){return a}),e.d(n,"bisectLeft",function(){return u}),e.d(n,"ascending",function(){return r}),e.d(n,"bisector",function(){return i}),e.d(n,"cross",function(){return f}),e.d(n,"descending",function(){return h}),e.d(n,"deviation",function(){return g}),e.d(n,"extent",function(){return _}),e.d(n,"histogram",function(){return O}),e.d(n,"thresholdFreedmanDiaconis",function(){return j}),e.d(n,"thresholdScott",function(){return z}),e.d(n,"thresholdSturges",function(){return C}),e.d(n,"max",function(){return D}),e.d(n,"mean",function(){return L}),e.d(n,"median",function(){return F}),e.d(n,"merge",function(){return R}),e.d(n,"min",function(){return P}),e.d(n,"pairs",function(){return s}),e.d(n,"permute",function(){return I}),e.d(n,"quantile",function(){return N}),e.d(n,"range",function(){return w}),e.d(n,"scan",function(){return B}),e.d(n,"shuffle",function(){return U}),e.d(n,"sum",function(){return H}),e.d(n,"ticks",function(){return A}),e.d(n,"tickIncrement",function(){return E}),e.d(n,"tickStep",function(){return T}),e.d(n,"transpose",function(){return W}),e.d(n,"variance",function(){return p}),e.d(n,"zip",function(){return G})},function(t,n,e){"use strict";e.r(n);var r=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t};function i(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function o(){}var a="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",s=/^#([0-9a-f]{3})$/,l=/^#([0-9a-f]{6})$/,f=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),h=new RegExp("^rgb\\("+[c,c,c]+"\\)$"),d=new RegExp("^rgba\\("+[a,a,a,u]+"\\)$"),p=new RegExp("^rgba\\("+[c,c,c,u]+"\\)$"),g=new RegExp("^hsl\\("+[u,c,c]+"\\)$"),_=new RegExp("^hsla\\("+[u,c,c,u]+"\\)$"),y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function m(t){var n;return t=(t+"").trim().toLowerCase(),(n=s.exec(t))?new M((n=parseInt(n[1],16))>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):(n=l.exec(t))?v(parseInt(n[1],16)):(n=f.exec(t))?new M(n[1],n[2],n[3],1):(n=h.exec(t))?new M(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=d.exec(t))?b(n[1],n[2],n[3],n[4]):(n=p.exec(t))?b(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=g.exec(t))?k(n[1],n[2]/100,n[3]/100,1):(n=_.exec(t))?k(n[1],n[2]/100,n[3]/100,n[4]):y.hasOwnProperty(t)?v(y[t]):"transparent"===t?new M(NaN,NaN,NaN,0):null}function v(t){return new M(t>>16&255,t>>8&255,255&t,1)}function b(t,n,e,r){return r<=0&&(t=n=e=NaN),new M(t,n,e,r)}function x(t){return t instanceof o||(t=m(t)),t?new M((t=t.rgb()).r,t.g,t.b,t.opacity):new M}function w(t,n,e,r){return 1===arguments.length?x(t):new M(t,n,e,null==r?1:r)}function M(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function k(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new A(t,n,e,r)}function S(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof A)return new A(t.h,t.s,t.l,t.opacity);if(t instanceof o||(t=m(t)),!t)return new A;if(t instanceof A)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),u=NaN,c=a-i,s=(a+i)/2;return c?(u=n===a?(e-r)/c+6*(e<r):e===a?(r-n)/c+2:(n-e)/c+4,c/=s<.5?a+i:2-a-i,u*=60):c=s>0&&s<1?0:u,new A(u,c,s,t.opacity)}(t):new A(t,n,e,null==r?1:r)}function A(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function E(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}r(o,m,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),r(M,w,i(o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new M(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new M(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),r(A,S,i(o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new A(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new A(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new M(E(t>=240?t-240:t+120,i,r),E(t,i,r),E(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var T=Math.PI/180,C=180/Math.PI,O=.95047,N=1,j=1.08883,z=4/29,D=6/29,L=3*D*D,F=D*D*D;function R(t){if(t instanceof I)return new I(t.l,t.a,t.b,t.opacity);if(t instanceof G){var n=t.h*T;return new I(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof M||(t=x(t));var e=W(t.r),r=W(t.g),i=W(t.b),o=B((.4124564*e+.3575761*r+.1804375*i)/O),a=B((.2126729*e+.7151522*r+.072175*i)/N);return new I(116*a-16,500*(o-a),200*(a-B((.0193339*e+.119192*r+.9503041*i)/j)),t.opacity)}function P(t,n,e,r){return 1===arguments.length?R(t):new I(t,n,e,null==r?1:r)}function I(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function B(t){return t>F?Math.pow(t,1/3):t/L+z}function U(t){return t>D?t*t*t:L*(t-z)}function H(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function W(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Y(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof G)return new G(t.h,t.c,t.l,t.opacity);t instanceof I||(t=R(t));var n=Math.atan2(t.b,t.a)*C;return new G(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new G(t,n,e,null==r?1:r)}function G(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}r(I,P,i(o,{brighter:function(t){return new I(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new I(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return t=N*U(t),new M(H(3.2404542*(n=O*U(n))-1.5371385*t-.4985314*(e=j*U(e))),H(-.969266*n+1.8760108*t+.041556*e),H(.0556434*n-.2040259*t+1.0572252*e),this.opacity)}})),r(G,Y,i(o,{brighter:function(t){return new G(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new G(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return R(this).rgb()}}));var X=-.14861,q=1.78277,V=-.29227,Z=-.90649,J=1.97294,$=J*Z,Q=J*q,K=q*V-Z*X;function tt(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof nt)return new nt(t.h,t.s,t.l,t.opacity);t instanceof M||(t=x(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(K*r+$*n-Q*e)/(K+$-Q),o=r-i,a=(J*(e-i)-V*o)/Z,u=Math.sqrt(a*a+o*o)/(J*i*(1-i)),c=u?Math.atan2(a,o)*C-120:NaN;return new nt(c<0?c+360:c,u,i,t.opacity)}(t):new nt(t,n,e,null==r?1:r)}function nt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}r(nt,tt,i(o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new nt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new nt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*T,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new M(255*(n+e*(X*r+q*i)),255*(n+e*(V*r+Z*i)),255*(n+e*(J*r)),this.opacity)}})),e.d(n,"color",function(){return m}),e.d(n,"rgb",function(){return w}),e.d(n,"hsl",function(){return S}),e.d(n,"lab",function(){return P}),e.d(n,"hcl",function(){return Y}),e.d(n,"cubehelix",function(){return tt})},function(t,n,e){"use strict";var r=e(3);function i(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}var o=function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),o=t[r],a=t[r+1],u=r>0?t[r-1]:2*o-a,c=r<n-1?t[r+2]:2*a-o;return i((e-r/n)*n,u,o,a,c)}},a=function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),o=t[(r+n-1)%n],a=t[r%n],u=t[(r+1)%n],c=t[(r+2)%n];return i((e-r/n)*n,o,a,u,c)}},u=function(t){return function(){return t}};function c(t,n){return function(e){return t+e*n}}function s(t,n){var e=n-t;return e?c(t,e>180||e<-180?e-360*Math.round(e/360):e):u(isNaN(t)?n:t)}function l(t){return 1==(t=+t)?f:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):u(isNaN(n)?e:n)}}function f(t,n){var e=n-t;return e?c(t,e):u(isNaN(t)?n:t)}var h=function t(n){var e=l(n);function i(t,n){var i=e((t=Object(r.rgb)(t)).r,(n=Object(r.rgb)(n)).r),o=e(t.g,n.g),a=e(t.b,n.b),u=f(t.opacity,n.opacity);return function(n){return t.r=i(n),t.g=o(n),t.b=a(n),t.opacity=u(n),t+""}}return i.gamma=t,i}(1);function d(t){return function(n){var e,i,o=n.length,a=new Array(o),u=new Array(o),c=new Array(o);for(e=0;e<o;++e)i=Object(r.rgb)(n[e]),a[e]=i.r||0,u[e]=i.g||0,c[e]=i.b||0;return a=t(a),u=t(u),c=t(c),i.opacity=1,function(t){return i.r=a(t),i.g=u(t),i.b=c(t),i+""}}}d(o),d(a);var p=function(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=S(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}},g=function(t,n){var e=new Date;return n-=t=+t,function(r){return e.setTime(t+n*r),e}},_=function(t,n){return n-=t=+t,function(e){return t+n*e}},y=function(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=S(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}},m=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,v=new RegExp(m.source,"g");var b,x,w,M,k=function(t,n){var e,r,i,o=m.lastIndex=v.lastIndex=0,a=-1,u=[],c=[];for(t+="",n+="";(e=m.exec(t))&&(r=v.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,c.push({i:a,x:_(e,r)})),o=v.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?c[0]?function(t){return function(n){return t(n)+""}}(c[0].x):function(t){return function(){return t}}(n):(n=c.length,function(t){for(var e,r=0;r<n;++r)u[(e=c[r]).i]=e.x(t);return u.join("")})},S=function(t,n){var e,i=typeof n;return null==n||"boolean"===i?u(n):("number"===i?_:"string"===i?(e=Object(r.color)(n))?(n=e,h):k:n instanceof r.color?h:n instanceof Date?g:Array.isArray(n)?p:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?y:_)(t,n)},A=function(t,n){return n-=t=+t,function(e){return Math.round(t+n*e)}},E=180/Math.PI,T={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},C=function(t,n,e,r,i,o){var a,u,c;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,c/=u),t*r<n*e&&(t=-t,n=-n,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*E,skewX:Math.atan(c)*E,scaleX:a,scaleY:u}};function O(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],c=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var c=a.push("translate(",null,n,null,e);u.push({i:c-4,x:_(t,i)},{i:c-2,x:_(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,u,c),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:_(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,u,c),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:_(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,u,c),function(t,n,e,r,o,a){if(t!==e||n!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:_(t,e)},{i:u-2,x:_(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,c),o=a=null,function(t){for(var n,e=-1,r=c.length;++e<r;)u[(n=c[e]).i]=n.x(t);return u.join("")}}}var N=O(function(t){return"none"===t?T:(b||(b=document.createElement("DIV"),x=document.documentElement,w=document.defaultView),b.style.transform=t,t=w.getComputedStyle(x.appendChild(b),null).getPropertyValue("transform"),x.removeChild(b),t=t.slice(7,-1).split(","),C(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),j=O(function(t){return null==t?T:(M||(M=document.createElementNS("http://www.w3.org/2000/svg","g")),M.setAttribute("transform",t),(t=M.transform.baseVal.consolidate())?(t=t.matrix,C(t.a,t.b,t.c,t.d,t.e,t.f)):T)},", ",")",")");Math.SQRT2;function z(t){return function(n,e){var i=t((n=Object(r.hsl)(n)).h,(e=Object(r.hsl)(e)).h),o=f(n.s,e.s),a=f(n.l,e.l),u=f(n.opacity,e.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=a(t),n.opacity=u(t),n+""}}}z(s),z(f);function D(t){return function(n,e){var i=t((n=Object(r.hcl)(n)).h,(e=Object(r.hcl)(e)).h),o=f(n.c,e.c),a=f(n.l,e.l),u=f(n.opacity,e.opacity);return function(t){return n.h=i(t),n.c=o(t),n.l=a(t),n.opacity=u(t),n+""}}}D(s),D(f);function L(t){return function n(e){function i(n,i){var o=t((n=Object(r.cubehelix)(n)).h,(i=Object(r.cubehelix)(i)).h),a=f(n.s,i.s),u=f(n.l,i.l),c=f(n.opacity,i.opacity);return function(t){return n.h=o(t),n.s=a(t),n.l=u(Math.pow(t,e)),n.opacity=c(t),n+""}}return e=+e,i.gamma=n,i}(1)}L(s);var F=L(f);e.d(n,"a",function(){return S}),e.d(n,!1,function(){return p}),e.d(n,!1,function(){return o}),e.d(n,!1,function(){return a}),e.d(n,!1,function(){return g}),e.d(n,"c",function(){return _}),e.d(n,!1,function(){return y}),e.d(n,"e",function(){return A}),e.d(n,"f",function(){return k}),e.d(n,"g",function(){return N}),e.d(n,"h",function(){return j}),e.d(n,!1,function(){}),e.d(n,"d",function(){return h}),e.d(n,!1,function(){}),e.d(n,!1,function(){}),e.d(n,!1,function(){}),e.d(n,!1,function(){}),e.d(n,!1,function(){}),e.d(n,!1,function(){}),e.d(n,!1,function(){}),e.d(n,!1,function(){}),e.d(n,"b",function(){return F}),e.d(n,!1,function(){})},function(t,n,e){window,t.exports=function(t,n,e,r,i,o,a,u,c,s,l,f,h,d,p){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=28)}([function(n,e){n.exports=t},function(t,n,e){"use strict";e.r(n);var r={};e.d(r,"traverseJSON",function(){return lt}),e.d(r,"traverseSpec",function(){return ft}),e.d(r,"clone",function(){return wt}),e.d(r,"isDate",function(){return Mt}),e.d(r,"isObject",function(){return kt}),e.d(r,"niceZeroBased",function(){return St}),e.d(r,"niceTimeDomain",function(){return At}),e.d(r,"generateHash",function(){return Ct}),e.d(r,"generateRatioFunction",function(){return Ot}),e.d(r,"isSpecRectCoordsOnly",function(){return Nt}),e.d(r,"throttleLastEvent",function(){return jt}),e.d(r,"splitEvenly",function(){return zt}),e.d(r,"extRGBColor",function(){return Dt}),e.d(r,"extCSSClass",function(){return Lt}),e.d(r,"toRadian",function(){return Ft}),e.d(r,"normalizeAngle",function(){return Rt}),e.d(r,"range",function(){return Pt}),e.d(r,"flatten",function(){return It}),e.d(r,"unique",function(){return Bt}),e.d(r,"groupBy",function(){return Ut}),e.d(r,"union",function(){return Ht}),e.d(r,"intersection",function(){return Wt}),e.d(r,"defaults",function(){return Yt}),e.d(r,"omit",function(){return Gt}),e.d(r,"memoize",function(){return Xt}),e.d(r,"createMultiSorter",function(){return qt}),e.d(r,"pick",function(){return Vt}),e.d(r,"escape",function(){return Zt}),e.d(r,"template",function(){return Jt}),e.d(r,"escapeHtml",function(){return $t}),e.d(r,"xml",function(){return nn}),e.d(r,"take",function(){return en}),e.d(r,"isChartElement",function(){return on}),e.d(r,"isFacetUnit",function(){return an});var i={};e.d(i,"appendTo",function(){return sn}),e.d(i,"getScrollbarSize",function(){return ln}),e.d(i,"setScrollPadding",function(){return fn}),e.d(i,"getStyle",function(){return hn}),e.d(i,"getStyleAsNum",function(){return dn}),e.d(i,"getContainerSize",function(){return pn}),e.d(i,"getAxisTickLabelSize",function(){return gn}),e.d(i,"getLabelSize",function(){return _n}),e.d(i,"getCharSize",function(){return yn}),e.d(i,"selectOrAppend",function(){return mn}),e.d(i,"selectImmediate",function(){return vn}),e.d(i,"selectAllImmediate",function(){return bn}),e.d(i,"sortChildren",function(){return xn}),e.d(i,"classes",function(){return wn}),e.d(i,"dispatchMouseEvent",function(){return Mn});var o={};e.d(o,"translate",function(){return kn}),e.d(o,"rotate",function(){return Sn}),e.d(o,"getOrientation",function(){return An}),e.d(o,"isIntersect",function(){return En}),e.d(o,"getDeepTransformTranslate",function(){return Tn}),e.d(o,"raiseElements",function(){return Cn});var a=e(0),u=e(2),c=e(3),s={},l={};function f(t){var n=l[t];return n||(n=function(){for(var n,e,r=this,i=0,o=[];r=r.handler;){if("function"==typeof(e=r.callbacks[t])){if(!n)for(n=[this],i=0;i<arguments.length;i++)n.push(arguments[i]);o.unshift({fn:e,context:r.context,args:n})}if("function"==typeof(e=r.callbacks["*"])){if(!n)for(n=[this],i=0;i<arguments.length;i++)n.push(arguments[i]);o.unshift({fn:e,context:r.context,args:[{sender:this,type:t,args:n}]})}}o.forEach(function(t){return t.fn.apply(t.context,t.args)})},l[t]=n),n}var h,d=function(){function t(){this.handler=null,this.emit_destroy=f("destroy")}return t.prototype.addHandler=function(t,n){n=n||this,this.handler={callbacks:t,context:n,handler:this.handler}},t.prototype.on=function(t,n,e){var r={};return r[t]=n,this.addHandler(r,e),r},t.prototype.fire=function(t,n){f.call(this,t).call(this,n)},t.prototype.removeHandler=function(t,n){var e,r=this;for(n=n||this;e=r,r=r.handler;)if(r.callbacks===t&&r.context===n)return r.callbacks=s,void(e.handler=r.handler)},t.prototype.destroy=function(){this.emit_destroy(),this.handler=null},t}(),p=(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])},function(t,n){function e(){this.constructor=t}h(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),g=((Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t})({},a),function(t){function n(n){var e=t.call(this)||this;return e.screenModel=null,e._elementNameSpace=n.namespace||"default",e._elementScalesHub={},e}return p(n,t),n.prototype.regScale=function(t,n){return this._elementScalesHub[t]=n,this},n.prototype.getScale=function(t){return this._elementScalesHub[t]||null},n.prototype.fireNameSpaceEvent=function(t,n){var e=this._elementNameSpace;this.fire(t+"."+e,n)},n.prototype.subscribe=function(t,n,e){void 0===n&&(n=function(t){return t}),void 0===e&&(e=function(t){return t});var r=this,i={};[{event:"mouseover",limit:0},{event:"mouseout",limit:0},{event:"click",limit:0},{event:"mousemove",limit:"requestAnimationFrame"}].forEach(function(o){var u=o.event,c=o.limit;t.on(u,jt(i,u,function(t){var i={data:n.call(this,t),event:e.call(this,a.event,t)};r.fire(u,i),r.fireNameSpaceEvent(u,i)},c))})},n.prototype.allocateRect=function(){return{left:0,top:0,width:0,height:0}},n.prototype.defineGrammarModel=function(t){return{}},n.prototype.getGrammarRules=function(){return[]},n.prototype.getAdjustScalesRules=function(){return[]},n.prototype.createScreenModel=function(t){return null},n.prototype.getClosestElement=function(t,n){return null},n.prototype.addInteraction=function(){},n.prototype.draw=function(){this.config.options.container=this.config.options.slot(this.config.uid),this.drawFrames(this.config.frames)},n.prototype.data=function(){return this.config.frames.reduce(function(t,n){return t.concat(n.part())},[])},n.prototype.node=function(){return this},n}(d)),_={day:{cast:function(t){var n=new Date(t);return new Date(n.setHours(0,0,0,0))},next:function(t){var n=new Date(t),e=new Date(n.setDate(n.getDate()+1));return this.cast(e)}},week:{cast:function(t){var n=new Date(t);return n=new Date(n.setHours(0,0,0,0)),new Date(n.setDate(n.getDate()-n.getDay()))},next:function(t){var n=new Date(t),e=new Date(n.setDate(n.getDate()+7));return this.cast(e)}},month:{cast:function(t){var n=new Date(t);return n=new Date(n.setHours(0,0,0,0)),n=new Date(n.setDate(1))},next:function(t){var n=new Date(t),e=new Date(n.setMonth(n.getMonth()+1));return this.cast(e)}},quarter:{cast:function(t){var n=new Date(t);n=new Date(n.setHours(0,0,0,0));var e=(n=new Date(n.setDate(1))).getMonth(),r=e-e%3;return new Date(n.setMonth(r))},next:function(t){var n=new Date(t),e=new Date(n.setMonth(n.getMonth()+3));return this.cast(e)}},year:{cast:function(t){var n=new Date(t);return n=new Date(n.setHours(0,0,0,0)),n=new Date(n.setDate(1)),n=new Date(n.setMonth(0))},next:function(t){var n=new Date(t),e=new Date(n.setFullYear(n.getFullYear()+1));return this.cast(e)}}},y={day:{cast:function(t){var n=new Date(t);return new Date(n.setUTCHours(0,0,0,0))},next:function(t){var n=new Date(t),e=new Date(n.setUTCDate(n.getUTCDate()+1));return this.cast(e)}},week:{cast:function(t){var n=new Date(t);return n=new Date(n.setUTCHours(0,0,0,0)),new Date(n.setUTCDate(n.getUTCDate()-n.getUTCDay()))},next:function(t){var n=new Date(t),e=new Date(n.setUTCDate(n.getUTCDate()+7));return this.cast(e)}},month:{cast:function(t){var n=new Date(t);return n=new Date(n.setUTCHours(0,0,0,0)),n=new Date(n.setUTCDate(1))},next:function(t){var n=new Date(t),e=new Date(n.setUTCMonth(n.getUTCMonth()+1));return this.cast(e)}},quarter:{cast:function(t){var n=new Date(t);n=new Date(n.setUTCHours(0,0,0,0));var e=(n=new Date(n.setUTCDate(1))).getUTCMonth(),r=e-e%3;return new Date(n.setUTCMonth(r))},next:function(t){var n=new Date(t),e=new Date(n.setUTCMonth(n.getUTCMonth()+3));return this.cast(e)}},year:{cast:function(t){var n=new Date(t);return n=new Date(n.setUTCHours(0,0,0,0)),n=new Date(n.setUTCDate(1)),n=new Date(n.setUTCMonth(0))},next:function(t){var n=new Date(t),e=new Date(n.setUTCFullYear(n.getUTCFullYear()+1));return this.cast(e)}}},m={add:function(t,n,e){return((void 0===e?{utc:!1}:e).utc?y:_)[t.toLowerCase()]=n,this},get:function(t,n){return((void 0===n?{utc:!1}:n).utc?y:_)[(t||"").toLowerCase()]||null},generate:function(t,n,e,r){var i=(void 0===r?{utc:!1}:r).utc,o=[],a=m.get(e,{utc:i});if(a){var u=a.cast(new Date(n)),c=a.cast(new Date(t));for(o.push(c);(c=a.next(new Date(c)))<=u;)o.push(c)}return o}},v=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),b=function(t){function n(n,e,r){var i=t.call(this)||this;return i.name="TauChartError",i.message=n,i.errorCode=e,i.errorArgs=r,i}return v(n,t),n}(Error),x={STACKED_FIELD_NOT_NUMBER:"STACKED_FIELD_NOT_NUMBER",NO_DATA:"NO_DATA",NOT_SUPPORTED_TYPE_CHART:"NOT_SUPPORTED_TYPE_CHART",UNKNOWN_UNIT_TYPE:"UNKNOWN_UNIT_TYPE",INVALID_LOG_DOMAIN:"INVALID_LOG_DOMAIN"},w={},M={get:function(t){return w[t]},reg:function(t,n){return w[t]=n,this}};M.reg("identity",function(){return{}}).reg("flip",function(t){var n=t.scaleY,e=t.scaleX,r=e.domain(),i=e.discrete?r[0]:Math.max(0,Math.min.apply(Math,r)),o=e.value(i)+-.5*e.stepSize(i);return{flip:!0,scaleX:n,scaleY:e,xi:function(t){return n.value(t[n.dim])},yi:function(t){return e.value(t[e.dim])},y0:function(){return o}}}).reg("obsoleteVerticalStackOrder",function(){return{obsoleteVerticalStackOrder:!0}}).reg("positioningByColor",function(t){return(t.scaleX.discrete?function(t){var n=t.data().reduce(function(n,e){var r=e[t.scaleX.dim],i=e[t.scaleColor.dim];return n.hasOwnProperty(r)||(n[r]=[]),n[r].indexOf(i)<0&&n[r].push(i),n},{}),e=t.scaleX,r=t.scaleColor,i=r.discrete?r.domain():r.originalSeries().sort(function(t,n){return t-n}),o=i.length||1,a=i.reduce(function(t,n,e){return t[n]=e,t},{});return Object.keys(n).forEach(function(t){return n[t].sort(function(t,n){return a[t]-a[n]})}),{xi:function(r){var i=r[t.scaleX.dim],a=n[i]||[r[t.scaleColor.dim]],u=a.length,c=a.indexOf(r[t.scaleColor.dim]),s=function(t){return e.stepSize(t[e.dim])*(o/(1+o))}(r)/(o+1);return t.xi(r)-(u+1)*s/2+(1+c)*s}}}:function(){return{}})(t)}).reg("groupOrderByAvg",function(t){var n=t.data().reduce(function(n,e){var r=t.group(e);return n[r]=n[r]||[],n[r].push(e),n},{}),e=Object.keys(n).map(function(e){return[e,(r=n[e],r.map(t.yi).reduce(function(t,n){return t+n},0)/r.length)];var r}).sort(function(t,n){return t[1]-n[1]}).map(function(t){return t[0]});return{order:function(t){var n=e.indexOf(t);return n<0?Number.MAX_VALUE:n}}}).reg("stack",function(t){var n=t.data(),e=t.scaleX,r=t.scaleY;if(r.discrete||r.domain().some(function(t){return"number"!=typeof t}))throw new b("Stacked field ["+r.dim+"] should be a number",x.STACKED_FIELD_NOT_NUMBER,{field:r.dim});var i=function(t){return function(n){var i=n[e.dim],o=n[r.dim],a=o>=0?t.positive:t.negative,u=a[i]||0,c=u+o;return a[i]=c,{nextStack:c,prevStack:u}}},o=i({positive:{},negative:{}}),a=i({positive:{},negative:{}}),u=function(n){return Xt(n,t.id)},c=Number.MAX_VALUE,s=Number.MIN_VALUE,l=function(t){return c=t<c?t:c,s=t>s?t:s,r.value(t)},f=u(function(t){return l(o(t).nextStack)}),h=u(function(t){return l(a(t).prevStack)}),d=function(n){return t.group(n)+"/"+(n[r.dim]>=0?1:-1)},p=Ut(n,d),g=Object.keys(p).sort(t.flip||!t.flip&&t.obsoleteVerticalStackOrder?function(n,e){return t.order(n)-t.order(e)}:function(n,e){return t.order(e)-t.order(n)}).reduce(function(t,n){return t.concat(p[n])},[]);return g.forEach(function(t){f(t),h(t)}),r.fixup(function(t){var n={};return(!t.hasOwnProperty("max")||t.max<s)&&(n.max=s),(!t.hasOwnProperty("min")||t.min>c)&&(n.min=c),n}),{group:d,data:function(){return g},yi:f,y0:h}}).reg("size_distribute_evenly",function(t,n){var e=n.minLimit,r=n.maxLimit,i=n.defMin,o=n.defMax,a=t.data(),u=function(t,n){return t-n},c=t.scaleX.discrete?t.scaleX.stepSize()/2:Number.MAX_VALUE,s=a.map(function(n){return t.xi(n)}).sort(u),l=s[0],f=s.slice(1).map(function(t){var n=t-l;return l=t,n}).filter(function(t){return t>0}).sort(u).concat(Number.MAX_VALUE)[0],h=Math.min(f,c),d="number"==typeof e?e:i,p={minSize:d,maxSize:"number"==typeof r?r:Math.max(d,Math.min(o,h))};return t.scaleSize.fixup(function(t){var n={};return t.fixed?t.maxSize>p.maxSize&&(n.maxSize=p.maxSize):(n.fixed=!0,n.minSize=p.minSize,n.maxSize=p.maxSize),n}),{}}).reg("adjustStaticSizeScale",function(t,n){var e=n.minLimit,r=n.maxLimit,i=n.defMin,o=n.defMax,a={minSize:"number"==typeof e?e:i,maxSize:"number"==typeof r?r:o};return t.scaleSize.fixup(function(t){var n={};return t.fixed||(n.fixed=!0,n.minSize=a.minSize,n.maxSize=a.maxSize),n}),{}}).reg("adjustSigmaSizeScale",function(t,n){var e,r,i,o,a=n.minLimit,u=n.maxLimit,c=n.defMin,s=n.defMax,l=function(t,n){return t-n},f=t.data().map(function(n){return t.xi(n)}).sort(l),h=f[0],d=f.slice(1).map(function(t){var n=t-h;return h=t,n}).filter(function(t){return t>0}).sort(l).concat(Number.MAX_VALUE)[0],p=t.scaleX.discrete?t.scaleX.stepSize()/2:Number.MAX_VALUE,g=Math.min(d,p),_="number"==typeof a?a:c,y="number"==typeof u?u:s,m={minSize:_,maxSize:Math.max(_,Math.min(y,(e=g,r=(_+y)/2,i=y,o=_,Math.round(r+(i-r)/(1+Math.exp(-(e-o)/.5))))))};return t.scaleSize.fixup(function(t){var n={};return t.fixed?t.maxSize>m.maxSize&&(n.maxSize=m.maxSize):(n.fixed=!0,n.minSize=m.minSize,n.maxSize=m.maxSize),n}),{}}).reg("avoidScalesOverflow",function(t,n){var e,r,i=n.sizeDirection,o=function(t,n){return!t||t.discrete||"logarithmic"===t.scaleType||i.indexOf(n)<0},a=o(t.scaleX,"x"),u=o(t.scaleY,"y");if(a&&u)return{};t.scaleSize.fixup(function(t){return e=t.minSize,r=t.maxSize,t});var c=t.data().reduce(function(n,i){var o,c,s=t.size(i),l=(s>=e?s:e+s*(r-e))/2;return a||(o=t.xi(i),n.left=Math.min(n.left,o-l),n.right=Math.max(n.right,o+l)),u||(c=t.yi(i),n.top=Math.min(n.top,c-l),n.bottom=Math.max(n.bottom,c+l)),n},{top:Number.MAX_VALUE,right:-Number.MAX_VALUE,bottom:-Number.MAX_VALUE,left:Number.MAX_VALUE}),s=function(n,e,r,i){var o=n.domain(),a=Math.abs(n.value(o[1])-n.value(o[0])),u=(o[1]-o[0])/a;if(0===a)return 1;var c=Math.max(0,-e),s=Math.max(0,r-a),l=t.flip?s:c,f=t.flip?c:s,h=Number(o[0])-(i?f:l)*u,d=Number(o[1])+(i?l:f)*u;return n.fixup(function(t){var n={};if(t.fixedBorders){var i=t.fixedBorders.slice(),o=i[0],a=i[1];(o>e||a<r)&&(n.min=Math.min(t.min,h),n.max=Math.max(t.max,d),o=Math.min(e,o),a=Math.max(r,a)),n.fixedBorders=[o,a]}else n.fixed=!0,n.min=h,n.max=d,n.nice=!1,n.fixedBorders=[e,r];return n}),a/(l+a+f)},l=a?1:s(t.scaleX,c.left,c.right,!1),f=u?1:s(t.scaleY,c.top,c.bottom,!0),h=Math.min(e*l,e*f),d=Math.min(r*l,r*f);return t.scaleSize.fixup(function(){return{minSize:h,maxSize:d}}),{}}).reg("fillGaps",function(t,n){var e=n.isStack,r=n.xPeriod,i=n.utc,o=Ut(t.data(),t.group),a=Object.keys(o).sort(function(n,e){return t.order(n)-t.order(e)}).reduce(function(t,n){return t.concat([o[n]])},[]),u=t.scaleX.dim,c=t.scaleY.dim,s=t.scaleColor.dim,l=t.scaleSplit.dim,f=function(t){return t[c]>=0?1:-1},h=function(n,e,r){var i=Ut(e,function(t){return t[u]}),o=e[0];return n.reduce(function(n,e){return n.concat(i[e]||function(n,e,r){var i,o=[n,t.id(e),r].join(" ");return(i={})[u]=n,i[c]=1e-10*r,i[l]=e[l],i[s]=e[s],i.taucharts_synthetic_record=!0,i.taucharts_synthetic_recordid=o,i}(e,o,r))},[])},d=function(t,n){return t-n},p=function(){return Bt(a.reduce(function(t,n){return t.concat(n.map(function(t){return t[u]}))},[])).sort(d)},g=r?function(){var n=p(),e=Math.max.apply(Math,n.map(function(t){return Number(t)})),o=t.scaleX.domain(),a=m.generate(o[0],o[1],r,{utc:i}).filter(function(t){return t>=o[0]&&t<=o[1]}),u=0,c=[],s=m.get(r,{utc:i});return a.forEach(function(t){var r=Number(t);if(!(r>=e)){for(var i=u;i<n.length;i++)if(Number(s.cast(n[i]))===r)return void u++;c.push(t)}}),n.concat(c).sort(d)}():p(),_=a.map(function(n){return n.sort(function(n,e){return t.xi(n)-t.xi(e)})}).reduce(e?function(t,n){var e=Ut(n,function(t){return String(f(t))});return Object.keys(e).reduce(function(t,n){return t.concat(h(g,e[n],n))},t)}:function(t,n){Ut(n,function(t){return String(f(t))});var e=Math.max.apply(Math,n.map(function(t){return t[u]}));return t.concat(h(g.filter(function(t){return t<=e}),n,0))},[]);return{data:function(){return _},size:function(n){return n.taucharts_synthetic_record?t.scaleSize(0):t.size(n)},id:function(n){return n.taucharts_synthetic_record?n.taucharts_synthetic_recordid:t.id(n)}}});var k=e(5);function S(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];return 2===n.length?n[0]*(1-t)+n[1]*t:3===n.length?n[0]*(1-t)*(1-t)+2*n[1]*(1-t)*t+n[2]*t*t:n[0]*(1-t)*(1-t)*(1-t)+3*n[1]*(1-t)*(1-t)*t+3*n[2]*(1-t)*t*t+n[3]*t*t*t}function A(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];var r=n.map(function(t){return t.x}),i=n.map(function(t){return t.y});return{x:S.apply(void 0,[t].concat(r)),y:S.apply(void 0,[t].concat(i))}}function E(t,n,e,r,i){var o=A(t,n,e),a=A(t,n,e,r),u=A(t,e,r,i),c=A(t,r,i);return[n,o,a,A(t,a,u),u,c,i]}function T(t){var n=t.polylineFrom,e=t.polylineTo,r=t.isCubic,i=t.toOppositeScale,o=n.length>e.length?n:e,a=1===e.length,u=n[0].id!==e[0].id,c=Boolean(u!==a);return function(t){var n=(r?R:F)({t:t,polyline:o,decreasing:a,rightToLeft:c});a===c?n.shift():n.pop();var e=L(n.map(i),n,a?1-t:t);return e.forEach(function(t){return t.positionIsBeingChanged=!0}),e}}function C(t){var n=t.polylineFrom,e=t.polylineTo,r=t.isCubic,i=n.length,o=e.length;if(o!==i){var a=o<i,u=a?n:e,c=(r?function(t){var n=t.smallerPolyline,e=t.biggerPolyline,r=t.decreasing,i=(n.length-1)/3,o=(e.length-1)/3,a=Math.floor(o/i)+1,u=o%i,c=Pt(i).map(function(t){return a+Number(t<u)}),s=[n[0]],l=3;return c.forEach(function(t){if(t>2){var i=function(t,n){for(var e,r,i=[n[0]],o=0;o<t.length;o++)e=0===o?t[0]:t[o]/(1-t[o-1]),r=B(e,n),j(i,r.slice(1,4)),n=r.slice(3);return j(i,n.slice(1)),i}(Pt(1,t-1).map(function(n){return n/(t-1)}),n.slice(l-3,l+1));Pt(t-2).forEach(function(t){return i[3*(t+1)].id=e[s.length-1+3*t].id}),r&&i.forEach(function(t,n){n>0&&n<i.length-1&&(t.isInterpolated=!0)}),j(s,i.slice(1))}else{var o=Object.assign({},n[l-2]),a=Object.assign({},n[l-1]),u=Object.assign({},n[l]);r||(u.id=e[s.length+2].id),s.push(o,a,u)}l+=3}),s}:function(t){var n=t.smallerPolyline,e=t.biggerPolyline,r=t.decreasing,i=n.length-1,o=e.length-1,a=Math.floor(o/i)+1,u=o%i,c=Pt(i).map(function(t){return a+Number(t<u)}),s=[n[0]],l=1;return c.forEach(function(t){Pt(1,t).forEach(function(i){var o;i===t-1?(o=Object.assign({},n[l]),r||(o.id=e[s.length].id)):((o=D(n[l-1],n[l],i/(t-1))).id=e[s.length].id,r&&(o.isInterpolated=!0)),s.push(o)}),l++}),s})({smallerPolyline:a?e:n,biggerPolyline:u,decreasing:a}),s=u.slice(1,u.length-1),l=c.slice(1,c.length-1);return function(t){var n=L(l,s,a?1-t:t);return n.forEach(function(t){return t.positionIsBeingChanged=!0}),n}}var f=n.slice(1,n.length-1),h=e.slice(1,e.length-1);return function(t){var n=L(f,h,t);return n.forEach(function(t){return t.positionIsBeingChanged=!0}),n}}function O(t){var n=t.pointFrom,e=t.pointTo;return function(t){return[D(n,e,t)]}}function N(t){var n=t.polylineFrom,e=t.polylineTo,r=t.isCubic,i=0===e.length,o=i,a=i?n:e;return function(t){var n=(r?R:F)({t:t,polyline:a,decreasing:i,rightToLeft:o});return n.forEach(function(t,n){n>0&&(t.positionIsBeingChanged=!0)}),n}}function j(t,n){return Array.prototype.push.apply(t,n)}function z(t,n,e){return void 0===n?t:"number"==typeof n?t+e*(n-t):n}function D(t,n,e){if(t===n)return n;var r={};return Object.keys(t).forEach(function(i){return r[i]=z(t[i],n[i],e)}),void 0!==n.id&&(r.id=n.id),r}function L(t,n,e){return t.map(function(t,r){return D(t,n[r],e)})}function F(t){var n=t.t,e=t.polyline,r=t.decreasing,i=t.rightToLeft,o=Boolean(r)!==Boolean(i),a=function(t,n){var e=0;if(t>0){for(var r,i,o,a,u=[0],c=0,s=1;s<n.length;s++)o=n[s-1].x,a=n[s-1].y,r=n[s].x,i=n[s].y,c+=Math.sqrt((r-o)*(r-o)+(i-a)*(i-a)),u.push(c);var l=t*c;for(s=1;s<u.length;s++)if(l<=u[s]){e=Math.min(1,(s-1+(l-u[s-1])/(u[s]-u[s-1]))/(n.length-1));break}}var f=Math.floor((n.length-1)*e)+1,h=n.length-f,d=f,p=n.slice(0,f);if(e<1){var g=e*(n.length-1)%1,_=D(n[f-1],n[f],g);j(p,Pt(h).map(function(t){return Object.assign({},_,{id:n[d+t].id,isInterpolated:!0})}))}return p}(r?1-n:n,o?e.slice(0).reverse():e);return o&&a.reverse(),a}function R(t){var n=t.t,e=t.polyline,r=t.decreasing,i=t.rightToLeft,o=Boolean(r)!==Boolean(i),a=function(t,n){var e=(n.length-1)/3+1,r=0;if(t>0){for(var i,o,a,u,c,s,l,f,h=[0],d=0,p=1;p<e;p++)a=n[3*p-3].x,u=n[3*p-3].y,c=n[3*p-2].x,s=n[3*p-2].y,l=n[3*p-1].x,f=n[3*p-1].y,i=n[3*p].x,o=n[3*p].y,d+=(I(a,u,c,s)+I(c,s,l,f)+I(l,f,i,o)+I(i,o,a,u))/2,h.push(d);var g=t*d;for(p=1;p<h.length;p++)if(g<=h[p]){r=Math.min(1,(p-1+(g-h[p-1])/(h[p]-h[p-1]))/(e-1));break}}var _=Math.floor((e-1)*r)+1,y=e-_,m=3*_,v=n.slice(0,3*(_-1)+1);if(r<1){var b=B(r*(e-1)%1,n.slice(3*(_-1),3*_+1)).slice(1,4);b.forEach(function(t){return t.isInterpolated=!0}),b[2].id=n[m].id,j(v,b),Pt(1,y).forEach(function(t){j(v,[{x:b[2].x,y:b[2].y,isCubicControl:!0,isInterpolated:!0},{x:b[2].x,y:b[2].y,isCubicControl:!0,isInterpolated:!0},Object.assign({},b[2],{id:n[m+3*t].id,isInterpolated:!0})])})}return v}(r?1-n:n,o?e.slice(0).reverse():e);return o&&a.reverse(),a}function P(t,n){var e,r,i,o,a=[],u=[],c=0,s=t.length,l=n.length;for(e=0;e<s;e++)for(i=t[e],r=c;r<l;r++)if(o=n[r],i.id===o.id){c=r+1,a.push(i),u.push(o);break}if(a.length<1||u.length<1)return function(t){return t};var f=Object.keys(a[0]).filter(function(t){return"number"==typeof a[0][t]}).filter(function(t){return"id"!==t}),h={},d=function(t,n,e,r){return function(i){return r+(i-n)*(r-e)/(n-t)}};return f.forEach(function(t){for(var n,e,r=a[0][t],i=u[0][t],o=a.length-1;o>0;o--)if((n=a[o][t])!==r)return e=u[o][t],void(h[t]=d(r,n,i,e));h[t]=function(t,n){return function(e){return e-t+n}}(r,i)}),function(t){var n=Object.assign({},t);return f.forEach(function(e){n[e]=h[e](t[e])}),n}}function I(t,n,e,r){return Math.sqrt((e-t)*(e-t)+(r-n)*(r-n))}function B(t,n){var e=n[0],r=n[1],i=n[2],o=n[3],a=E(t,e,r,i,o);return[a[1],a[2],a[4],a[5]].forEach(function(t){return t.isCubicControl=!0}),Object.keys(o).forEach(function(n){"x"!==n&&"y"!==n&&"id"!==n&&(a[3][n]=z(e[n],o[n],t))}),a}function U(t,n){if(t.length<2)return t.slice(0);if(2===t.length)return[t[0],{x:H(t[0].x,t[1].x,1/3),y:H(t[0].y,t[1].y,1/3)},{x:H(t[0].x,t[1].x,2/3),y:H(t[0].y,t[1].y,2/3)},t[1]];for(var e,r,i,o,a,u,c,s,l,f,h,d,p,g,_=new Array(3*(t.length-1)+1),y=_.length-1,m=0;m<t.length;m++)_[3*m]=t[m],m>0&&(_[3*m-2]=A(1/3,t[m-1],t[m]),_[3*m-1]=A(2/3,t[m-1],t[m]));for(var v=_.slice(0),b=0;b<3;b++){for(_[1]={x:H(_[0].x,_[3].x,1/3),y:H(_[0].y,H(_[3].y,_[2].y,1.5),2/3)},_[y-1]={x:H(_[y].x,_[y-3].x,1/3),y:H(_[y].y,H(_[y-3].y,_[y-2].y,1.5),2/3)},n&&((_[1].y-_[0].y)*(_[3].y-_[2].y)<0&&(_[1]={x:_[1].x,y:_[0].y}),(_[y-1].y-_[y].y)*(_[y-3].y-_[y-2].y)<0&&(_[y-1]={x:_[y-1].x,y:_[y].y})),m=6;m<v.length;m+=3)e=v[m-5],r=v[m-3],i=v[m-1],(r.x-e.x)*(i.x-r.x)*1e12<1?(o=H(e.x,r.x,.5),u=H(r.x,i.x,.5),a=H(e.y,r.y,.5),c=H(r.y,i.y,.5)):(f=(r.x-e.x)/(i.x-e.x),s=(r.x-e.x*(1-f)*(1-f)-i.x*f*f)/(2*(1-f)*f),l=(r.y-e.y*(1-f)*(1-f)-i.y*f*f)/(2*(1-f)*f),o=H(e.x,s,f),u=H(s,i.x,f),a=H(e.y,l,f),c=H(l,i.y,f),n&&(d=r.x-o,p=u-r.x,h=(c-r.y)/p,(r.y-e.y)*(i.y-r.y)<=0?h=0:(r.y>e.y==c>i.y&&(p=H(p*(g=(i.y-r.y)/(c-r.y)),p,1/(1+Math.abs(g))),h=(i.y-r.y)/p),r.y>e.y==a<e.y&&(d=H(d*(g=(r.y-e.y)/(r.y-a)),d,1/(1+Math.abs(g))),h=(r.y-e.y)/d)),o=r.x-d,u=r.x+p,a=r.y-h*d,c=r.y+h*p)),_[m-4]={x:o,y:a},_[m-2]={x:u,y:c};v=_.slice(0)}return v}function H(t,n,e){return t+e*(n-t)}var W={linear:function(t){return t},step:function(t){for(var n,e,r,i,o=[],a=void 0!==t[0].id,u=void 0!==t[0].size,c=1;c<t.length;c++)n=t[c-1],e=t[c],r={x:(n.x+e.x)/2,y:n.y},i={x:(n.x+e.x)/2,y:e.y},a&&(r.id=n.id+"-"+e.id+"-1",i.id=n.id+"-"+e.id+"-2"),u&&(r.size=n.size,i.size=e.size),1===c&&o.push(n),o.push(r,i,e);return o},"step-before":function(t){for(var n,e,r,i=[],o=void 0!==t[0].id,a=void 0!==t[0].size,u=1;u<t.length;u++)n=t[u-1],e=t[u],r={x:n.x,y:e.y},o&&(r.id=n.id+"-"+e.id),a&&(r.size=e.size),1===u&&i.push(n),i.push(r,e);return i},"step-after":function(t){for(var n,e,r,i=[],o=void 0!==t[0].id,a=void 0!==t[0].size,u=1;u<t.length;u++)n=t[u-1],r={x:(e=t[u]).x,y:n.y},o&&(r.id=n.id+"-"+e.id),a&&(r.size=n.size),1===u&&i.push(n),i.push(r,e);return i}},Y={smooth:function(t){return U(t,!1)},"smooth-keep-extremum":function(t){return U(t,!0)}};function G(t){return W[t]||Y[t]}function X(t){return void 0!==Y[t]?"cubic":"polyline"}var q=(Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t})({},a,k),V=function(){return Xt(function(t){return t.node().getComputedTextLength()},function(t){return t.node().textContent.length})},Z=function(t,n,e){e=e||V(),t.each(function(){var t=q.select(this.parentNode).data()[0],r=n(t),i=q.select(this),o=!1,a=i.text().split(/\s+/).reduce(function(t,n,a){if(o)return t;var u=a>0?[t,n].join(" "):n,c=e(i.text(u));if(c<r)t=u;else{var s=Math.floor(r/c*u.length);t=u.substr(0,s-4)+"...",o=!0}return t},"");i.text(a)})},J=function(t,n,e,r,i,o){o=o||V();var a=function(t,n,e,r,i,o,a){var u=a*e+o;return t.append("tspan").attr("x",r).attr("y",i).attr("dy",u+"em").text(n)};t.each(function(){var t=q.select(this.parentNode).data()[0],u=n(t),c=q.select(this),s=c.text().split(/\s+/),l=c.attr("x"),f=c.attr("y"),h=parseFloat(c.attr("dy"));c.text(null);var d=a(c,null,1.1,l,f,h,0),p=!1,g=s.length-1,_=s.reduce(function(t,n,r){if(p)return t;var i=t.length===e||r===g,a=t[t.length-1],c=""!==a?a+" "+n:n,s=o(d.text(c)),l=s>u;if(l&&i){var f=Math.floor(u/s*c.length);t[t.length-1]=c.substr(0,f-4)+"...",p=!0}return l&&!i&&t.push(n),l||(t[t.length-1]=c),t},[""]).filter(function(t){return t.length>0});f=i?-1*(_.length-1)*Math.floor(.5*r):f,_.forEach(function(t,n){return a(c,t,1.1,l,f,h,n)}),d.remove()})},$=function(t,n,e){return n>0&&!document.hidden&&((t=t.transition(e).duration(n)).attr=Q),t.onTransitionEnd=function(t){return nt(this,t),this},t},Q=function(t,n){var e,r=this,i=q.transition.prototype.attr.apply(this,arguments);if(0===arguments.length)throw new Error("Unexpected `transition().attr()` arguments.");1===arguments.length?e=t:arguments.length>1&&((c={})[t]=n,e=c);var o="__transitionAttrs__",a="__lastTransitions__",u=tt();this.each(function(){var t=this,n={};for(var r in e)"function"==typeof e[r]?n[r]=e[r].apply(this,arguments):n[r]=e[r];this[o]=Object.assign(this[o]||{},n),this[o][a]||Object.defineProperty(this[o],a,{value:{}}),Object.keys(n).forEach(function(n){return t[o][a][n]=u})});var c,s=function(){var t=this;this[o]&&(Object.keys(e).filter(function(n){return t[o][a][n]===u}).forEach(function(n){return delete t[o][n]}),0===Object.keys(this[o]).length&&delete this[o])};return this.on("interrupt."+u,function(){return r.each(s)}),this.on("end."+u,function(){return r.each(s)}),i},K=0,tt=function(){return++K},nt=function(t,n){if(q.transition.prototype.isPrototypeOf(t)&&!t.empty()){var e=function(){return n.call(null,t)};return t.on("interrupt.d3_on_transition_end",e),t.on("end.d3_on_transition_end",e),t}n.call(null,t)},et=function(t,n,e,r){var i=r||function(t){return t},o=function(){i(this)};return function(r){var i=r;return n&&(i=i.call(ot(Yt(n,e)))),i=(i=$(i,t)).call(ot(e)),t>0?i.on("end.d3_animationInterceptor",function(){return i.each(o)}):i.each(o),i}},rt=function(t,n){var e=t.node();return t.selectAll(n).filter(function(){return this.parentNode===e})},it=function(t,n,e,r,i){void 0===i&&(i="linear");var o="__pathPoints__";return function(t){var a=this;this[o]||(this[o]=e.map(function(){return[]}));var u=e.map(function(n,e){var u=Bt(t,r).map(n),c=(G(i)||G("linear"))(u),s=a[o][e];return{pointsFrom:s,pointsTo:c,interpolate:function(t,n,e){var r;return void 0===e&&(e="polyline"),function(i){return 0===i?t:1===i?n:(r||(r=("cubic"===e?function(t,n){for(var e=2;e<t.length-1;e+=3)t[e-1].isCubicControl=!0,t[e].isCubicControl=!0;for(e=2;e<n.length-1;e+=3)n[e-1].isCubicControl=!0,n[e].isCubicControl=!0;var r,i;for(t=t.filter(function(t){return!t.isInterpolated}),e=t.length-2;e>=0;e--)i=t[e+1],(r=t[e]).isCubicControl||i.isCubicControl||(t.splice(e+1,0,A(1/3,i,r),A(2/3,i,r)),t[e+1].isCubicControl=!0,t[e+2].isCubicControl=!0);var o=t.filter(function(t,n){return n%3==0}),a=n.filter(function(t,n){return n%3==0}),u=o.map(function(t){return t.id}),c=a.map(function(t){return t.id}),s=u.reduce(function(n,e){return n[e]=t.findIndex(function(t){return t.id===e}),n},{}),l=c.reduce(function(t,e){return t[e]=n.findIndex(function(t){return t.id===e}),t},{}),f=u.filter(function(t){return c.indexOf(t)>=0}),h=o.filter(function(t){return!t.positionIsBeingChanged}),d=a.filter(function(t){return!t.positionIsBeingChanged}),p=P(h,d),g=P(d,h),_=[];return f.forEach(function(e,r){var i,o,a,u=s[e],c=l[e];if(0===r&&(u>0||c>0)&&_.push(T({polylineFrom:t.slice(0,u+1),polylineTo:n.slice(0,c+1),toOppositeScale:0===c?p:g,isCubic:!0})),r>0){var h=s[f[r-1]],d=l[f[r-1]];u-h>3||c-d>3?_.push(C({polylineFrom:t.slice(h,u+1),polylineTo:n.slice(d,c+1),isCubic:!0})):_.push((i={polylineFrom:t.slice(h,u+1),polylineTo:n.slice(d,c+1)},o=i.polylineFrom,a=i.polylineTo,function(t){return L(o.slice(1,3),a.slice(1,3),t)}))}_.push(O({pointFrom:t[u],pointTo:n[c]})),r===f.length-1&&(t.length-u-1>0||n.length-c-1>0)&&_.push(T({polylineFrom:t.slice(u),polylineTo:n.slice(c),toOppositeScale:n.length-c==1?p:g,isCubic:!0}))}),0===_.length&&(n.length>0&&0===f.length||t.length>0&&0===f.length)&&_.push(N({polylineFrom:t.slice(0),polylineTo:n.slice(0),isCubic:!0})),function(t){var n=[];return _.forEach(function(e){var r=e(t);j(n,r)}),n}}:function(t,n){var e=(t=t.filter(function(t){return!t.isInterpolated})).map(function(t){return t.id}),r=n.map(function(t){return t.id}),i=e.filter(function(t){return r.indexOf(t)>=0}),o=t.filter(function(t){return!t.positionIsBeingChanged}),a=n.filter(function(t){return!t.positionIsBeingChanged}),u=P(o,a),c=P(a,o),s=[];return i.forEach(function(o,a){var l=e.indexOf(o),f=r.indexOf(o);if(0===a&&(l>0||f>0)&&s.push(T({isCubic:!1,polylineFrom:t.slice(0,l+1),polylineTo:n.slice(0,f+1),toOppositeScale:0===f?u:c})),a>0){var h=e.indexOf(i[a-1]),d=r.indexOf(i[a-1]);(l-h>1||f-d>1)&&s.push(C({isCubic:!1,polylineFrom:t.slice(h,l+1),polylineTo:n.slice(d,f+1)}))}s.push(O({pointFrom:t[l],pointTo:n[f]})),a===i.length-1&&(t.length-l-1>0||n.length-f-1>0)&&s.push(T({isCubic:!1,polylineFrom:t.slice(l),polylineTo:n.slice(f),toOppositeScale:n.length-f==1?u:c}))}),0===s.length&&(n.length>0&&0===i.length||t.length>0&&0===i.length)&&s.push(N({isCubic:!1,polylineFrom:t.slice(0),polylineTo:n.slice(0)})),function(t){var n=[];return s.forEach(function(e){var r=e(t);j(n,r)}),n}})(t,n)),r(i))}}(s,c,X(i))}});return function(t){if(0===t){var e=u.map(function(t){return t.pointsFrom});return n.apply(void 0,e)}if(1===t){var r=u.map(function(t){return t.pointsTo});return a[o]=r,n.apply(void 0,r)}var i=u.map(function(n){return n.interpolate(t)});return a[o]=i,n.apply(void 0,i)}}},ot=function(t){return function(n){return Object.keys(t).forEach(function(e){return n.attr(e,t[e])}),n}},at=function(t){return function(n){return Object.keys(t).forEach(function(e){return n.classed(e,t[e])}),n}},ut=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ct=function(t){function n(n){var e=t.call(this,n)||this;e.config=n,e.config.guide=Yt(e.config.guide||{},{animationSpeed:0,enableColorToBarPosition:!1}),e.config.guide.size=e.config.guide.size||{};var r=e.config.stack,i=e.config.guide.enableColorToBarPosition,o=[n.flip&&M.get("flip"),r&&M.get("stack"),i&&M.get("positioningByColor")];return e.decorators=(e.config.transformRules||o).concat(n.transformModel||[]),e.adjusters=(e.config.adjustRules||[]).concat(n.adjustScales||[]),e}return ut(n,t),n.prototype.defineGrammarModel=function(t){var n=this,e=this.config;this.regScale("x",t("pos",e.x,[0,e.options.width])).regScale("y",t("pos",e.y,[e.options.height,0])).regScale("y",t("pos",e.y,function(t){return["ordinal","period"].indexOf(t.type)>=0?[0,e.options.height]:[e.options.height,0]})).regScale("size",t("size",e.size,{})).regScale("color",t("color",e.color,{})).regScale("split",t("split",e.split,{})).regScale("label",t("label",e.label,{})).regScale("identity",t("identity",e.identity,{}));var r=this.getScale("x"),i=this.getScale("y"),o=this.getScale("size"),a=this.getScale("label"),u=this.getScale("color"),c=this.getScale("split"),s=this.getScale("identity"),l=i.domain(),f=i.discrete?l[0]:Math.max(0,Math.min.apply(Math,l)),h=i.value(f)+.5*i.stepSize(f),d=u.domain(),p={data:function(){return n.data()},flip:!1,scaleX:r,scaleY:i,scaleSize:o,scaleLabel:a,scaleColor:u,scaleSplit:c,scaleIdentity:s,color:function(t){return u.value(t[u.dim])},label:function(t){return a.value(t[a.dim])},group:function(t){return t[u.dim]+"(@taucharts@)"+t[c.dim]},order:function(t){var n=t.split("(@taucharts@)")[0],e=d.indexOf(n);return e<0?Number.MAX_VALUE:e},size:function(t){return o.value(t[o.dim])},id:function(t){return s.value(t[s.dim],t)},xi:function(t){return r.value(t[r.dim])},yi:function(t){return i.value(t[i.dim])},y0:function(){return h}};return p.data().forEach(function(t){return p.id(t)}),p},n.prototype.getGrammarRules=function(){return this.decorators.filter(function(t){return t})},n.prototype.getAdjustScalesRules=function(){return(this.adjusters||[]).filter(function(t){return t})},n.prototype.createScreenModel=function(t){var n=t.flip,e=function(t,n,e){return t?n:e};return{flip:n,id:t.id,x:e(n,t.yi,t.xi),y:e(n,t.xi,t.yi),x0:e(n,t.y0,t.xi),y0:e(n,t.xi,t.y0),size:t.size,group:t.group,order:t.order,label:t.label,color:function(n){return t.scaleColor.toColor(t.color(n))},class:function(n){return t.scaleColor.toClass(t.color(n))},model:t,toFibers:function(){var n=Ut(t.data(),t.group);return Object.keys(n).sort(function(n,e){return t.order(n)-t.order(e)}).reduce(function(t,e){return t.concat([n[e]])},[])}}},n.prototype.drawFrames=function(){var t=this,n=this.config.options,e=function(n){return e=t.screenModel.size(n)/2,r=Math.pow(10,4),Math.round(r*e)/r;var e,r},r=et,i=function(n,e,i){var o=t.config.guide.animationSpeed,u=n.selectAll("."+e).data(function(t){return[t]},t.screenModel.id);u.exit().call(r(o,null,{width:0},function(t){return a.select(t).remove()})),u.call(r(o,null,i)),u.enter().append("rect").style("stroke-width",0).call(r(o,{width:0},i))},o=this.config.flip,u=o?"y":"x",c=o?"x":"y",s=o?"x0":"y0",l=o?"height":"width",f=o?"width":"height",h=function(n){var r,o,a;i(n,"lvl-top",((r={})[l]=function(t){return e(t)},r[f]=1,r[u]=function(n){return t.screenModel[u](n)-e(n)/2},r[c]=function(n){return t.screenModel[c](n)},r.fill=function(n){return t.screenModel.color(n)},r.class=function(n){return"lvl-top "+t.screenModel.class(n)},r)),i(n,"lvl-btm",((o={})[l]=function(t){return e(t)},o[f]=1,o[u]=function(n){return t.screenModel[u](n)-e(n)/2},o[c]=function(n){return t.screenModel[s](n)},o.fill=function(n){return t.screenModel.color(n)},o.class=function(n){return"lvl-btm "+t.screenModel.class(n)},o)),i(n,"lvl-link",((a={})[l]=.5,a[f]=function(n){return Math.abs(t.screenModel[c](n)-t.screenModel[s](n))},a[u]=function(n){return t.screenModel[u](n)-.25},a[c]=function(n){return Math.min(t.screenModel[c](n),t.screenModel[s](n))},a.fill=function(n){return t.screenModel.color(n)},a.class=function(n){return"lvl-link "+t.screenModel.class(n)},a))},d=function(n){n.attr("class","frame-id-"+t.config.uid).call(function(n){var e=n.selectAll(".generic").data(function(t){return t},t.screenModel.id);e.exit().remove(),e.call(h),e.enter().append("g").attr("class","generic").call(h)})},p=Ut(this.data(),t.screenModel.group),g=Object.keys(p).sort(function(n,e){return t.screenModel.order(n)-t.screenModel.order(e)}).reduce(function(t,n){return t.concat([p[n]])},[]),_=n.container.selectAll(".frame-id-"+t.config.uid).data(g);_.exit().remove(),_.call(d),_.enter().append("g").call(d)},n}(g),st=(Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t})({},u,c);function lt(t,n,e,r){var i=r(e(t),t);return(i[n]||[]).forEach(function(t){return lt(t,n,e,r)}),i}function ft(t,n,e,r){void 0===r&&(r=0),n(t,r)&&(t.units||[]).map(function(t){return ft(t,n,e,r+1)}),e(t,r)}var ht=function(){var t=[];function n(t){for(var n in t)this[n]=t[n]}function e(){this.copiedObjects=[];var t=this;this.recursiveDeepCopy=function(n){return t.deepCopy(n)},this.depth=0}function r(t,n){var r=new e;return n&&(r.maxDepth=n),r.deepCopy(t)}return n.prototype={constructor:n,canCopy:function(t){return!1},create:function(t){},populate:function(t,n,e){}},e.prototype={constructor:e,maxDepth:256,cacheResult:function(t,n){this.copiedObjects.push([t,n])},getCachedResult:function(t){for(var n=this.copiedObjects,e=n.length,r=0;r<e;r++)if(n[r][0]===t)return n[r][1]},deepCopy:function(n){if(null===n)return null;if("object"!=typeof n)return n;var e=this.getCachedResult(n);if(e)return e;for(var r=0;r<t.length;r++){var i=t[r];if(i.canCopy(n))return this.applyDeepCopier(i,n)}throw new Error("no DeepCopier is able to copy "+n)},applyDeepCopier:function(t,n){var e=t.create(n);if(this.cacheResult(n,e),this.depth++,this.depth>this.maxDepth)throw new Error("Exceeded max recursion depth in deep copy.");return t.populate(this.recursiveDeepCopy,n,e),this.depth--,e}},r.DeepCopier=n,r.deepCopiers=t,r.register=function(e){e instanceof n||(e=new n(e)),t.unshift(e)},r.register({canCopy:function(){return!0},create:function(t){return t instanceof t.constructor?"object"==typeof(n=t.constructor.prototype)?JSON.parse(JSON.stringify(n)):n:{};var n},populate:function(t,n,e){for(var r in n)n.hasOwnProperty(r)&&(e[r]=t(n[r]));return e}}),r.register({canCopy:function(t){return t instanceof Array},create:function(t){return new t.constructor},populate:function(t,n,e){for(var r=0;r<n.length;r++)e.push(t(n[r]));return e}}),r.register({canCopy:function(t){return t instanceof Date},create:function(t){return new Date(t)}}),r}(),dt=function(t){return/^(#|rgb\(|rgba\()/.test(t)},pt=/(.)^/,gt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},_t={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},yt=/\\|'|\r|\n|\u2028|\u2029/g,mt="(?:"+Object.keys(gt).join("|")+")",vt=RegExp(mt),bt=RegExp(mt,"g"),xt={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};function wt(t){return ht(t)}function Mt(t){return t instanceof Date&&!isNaN(Number(t))}function kt(t){return null!=t&&"object"==typeof t}function St(t){var n=parseFloat(Math.min.apply(Math,t).toFixed(15)),e=parseFloat(Math.max.apply(Math,t).toFixed(15));n===e&&(e-=(e>=0?-1:1)*(e||1)/10);for(var r=[n=Math.min(0,n),e=Math.max(0,e)],i=r[1]-r[0],o=Math.pow(10,Math.floor(Math.log(i/10)/Math.LN10)),a=10/i*o,u=[[.15,10],[.35,5],[.75,2],[1,1],[2,1]],c=-1;a>u[++c][0];);o*=u[c][1],r[0]=Math.floor(r[0]/o)*o,r[1]=Math.ceil(r[1]/o)*o;var s=n-r[0],l=r[1]-e,f=o/2;if(n<0){var h=s>=f?-s:0;r[0]=r[0]-h}if(e>0){var d=l>=f?-l:0;r[1]=r[1]+d}return[parseFloat(r[0].toFixed(15)),parseFloat(r[1].toFixed(15))]}function At(t,n,e){var r=(void 0===e?{utc:!1}:e).utc,i=st.extent(t),o=i[0],a=i[1],u=+a-+o,c=r?st.scaleUtc:st.scaleTime;if(0===u)return o=new Date(o.getTime()-864e5),a=new Date(a.getTime()+864e5),c().domain([o,a]).nice(n).domain();var s=c().domain([o,a]).nice(n);if(n)return s.domain();var l=c().domain([o,a]).nice(n).domain(),f=l[0],h=l[1],d=s.ticks(),p=d.length-1;return(+o-+f)/(+d[1]-+f)<.5&&(o=f),(+h-+a)/(+h-+d[p-1])<.5&&(a=h),[o,a]}var Et=0,Tt={};function Ct(t){var n=btoa(encodeURIComponent(t)).replace(/=/g,"_");return Tt.hasOwnProperty(n)||(Tt[n]="H"+ ++Et),Tt[n]}function Ot(t,n,e){var r=0,i=null,o=Xt(function(t,n){return Bt(t.map(function(t){return n.reduce(function(n,e){return n.concat(Mt(r=t[e])?r.getTime():r);var r},[])}),function(t){return JSON.stringify(t)}).reduce(function(t,n){var e=n[0];return t[e]=t[e]||0,t[e]+=1,t},{})},function(t,n){var e=i===t?r:++r;return i=t,n.join("")+"-"+e});return function(r,i,a){var u=a.length,c=e.getSpec(),s=c.sources["/"].data,l=c.unit.units[0].guide||{};l.padding=l.padding||{l:0,r:0,t:0,b:0};var f=0;"x"===t?f=l.padding.l+l.padding.r:"y"===t&&(f=l.padding.t+l.padding.b);var h,d=(i-u*f)/(h=o(s,n),Object.keys(h).reduce(function(t,n){return t+h[n]},0));return(function(t,n){return o(s,t)[n]}(n,r)*d+f)/i}}function Nt(t){var n=!0;try{ft(t,function(t){if(0===t.type.indexOf("COORDS.")&&"COORDS.RECT"!==t.type)throw new Error("Not applicable")},function(t){return t})}catch(t){"Not applicable"===t.message&&(n=!1)}return n}function jt(t,n,e,r){if(void 0===r&&(r=0),"requestAnimationFrame"===r){var i=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];i||(requestAnimationFrame(function(){i=!1}),e.apply(this,r),i=!0),t.e=n,t.ts=Date.now()}}return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a={e:n,ts:Date.now()};(t.e&&t.e===a.e?a.ts-t.ts:r)>=r&&e.apply(this,i),t.e=a.e,t.ts=a.ts}}function zt(t,n){var e=t[0],r=t[1],i=(r-e)/(n-1),o=n>=2?Pt(n-2).map(function(t){return e+i*(t+1)}):[];return[e].concat(o,[r])}function Dt(t){return dt(t)?t:""}function Lt(t){return dt(t)?"":t}function Ft(t){return t/180*Math.PI}function Rt(t){return Math.abs(t)>=360&&(t%=360),t<0&&(t=360+t),t}function Pt(t,n){1===arguments.length&&(n=t,t=0);for(var e=[],r=t;r<n;r++)e.push(r);return e}function It(t){return Array.isArray(t)?[].concat.apply([],t.map(function(t){return It(t)})):t}function Bt(t,n){for(var e={},r=[],i=t.length,o=n||function(t){return String(t)},a=0;a<i;++a){var u=t[a],c=o(u);e.hasOwnProperty(c)||(e[c]=!0,r.push(u))}return r}function Ut(t,n){return t.reduce(function(t,e){var r=n(e);return t[r]=t[r]||[],t[r].push(e),t},{})}function Ht(t,n){return Bt(t.concat(n))}function Wt(t,n){return t.filter(function(t){return-1!==n.indexOf(t)})}function Yt(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];var r=n.length;if(0===r||!t)return t;for(var i=0;i<r;i++)for(var o=n[i],a=kt(o)?Object.keys(o):[],u=a.length,c=0;c<u;c++){var s=a[c];void 0===t[s]&&(t[s]=o[s])}return t}function Gt(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];var r=Object.assign({},t);return n.forEach(function(t){delete r[t]}),r}function Xt(t,n){var e=function(r){var i=e.cache,o=String(n?n.apply(this,arguments):r);return i.hasOwnProperty(o)||(i[o]=t.apply(this,arguments)),i[o]};return e.cache={},e}function qt(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(n,e){var r=0;return t.every(function(t){return 0===(r=t(n,e))}),r}}function Vt(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];return null==t?{}:n.reduce(function(n,e){var r=t[e];return r&&(n[e]=r),n},{})}function Zt(t){return t=null==t?"":String(t),vt.test(t)?t.replace(bt,function(t){return gt[t]}):t}function Jt(t,n,e){!n&&e&&(n=e),n=Yt({},n,xt);var r=RegExp([(n.escape||pt).source,(n.interpolate||pt).source,(n.evaluate||pt).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,function(n,e,r,a,u){return o+=t.slice(i,u).replace(yt,function(t){return"\\"+_t[t]}),i=u+n.length,e?o+="'+\n((__t=("+e+"))==null?'':utils.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),n}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(n.variable||"obj",o)}catch(t){throw t.source=o,t}var u=function(t){return a.call(this,t)},c=n.variable||"obj";return u.source="function("+c+"){\n"+o+"}",u}function $t(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}var Qt="  ",Kt=32,tn=["img","input","br","embed","link","meta","area","base","basefont","bgsound","col","command","frame","hr","image","isindex","keygen","menuitem","nextid","param","source","track","wbr","circle","ellipse","line","path","polygon","rect"].reduce(function(t,n){return t[n]=!0,t},{});function nn(t){var n=2,e=arguments[1];("object"!=typeof arguments[1]||Array.isArray(arguments[1]))&&(n=1,e={});var r=It(Array.prototype.slice.call(arguments,n)),i=1===r.length&&"<"!==r[0].trim()[0],o=tn[t];if(o&&r.length>0)throw new Error('Tag "'+t+'" is void but content is assigned to it');var a="<"+t,u=Object.keys(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("");u.length>Kt&&(u=Object.keys(e).map(function(t){return"\n"+Qt+t+'="'+e[t]+'"'}).join(""));var c=i?r[0]:"\n"+r.map(function(t){return String(t).split("\n").map(function(t){return""+Qt+t}).join("\n")}).join("\n")+"\n";return""+a+u+(o?"/>":">"+c+"</"+t+">")}function en(t){var n=t,e={then:function(t){return n=t(n),e},result:function(){return n}};return e}var rn=[ct];function on(t){return rn.some(function(n){return t instanceof n})}function an(t){return(t.units||[]).some(function(t){return t.hasOwnProperty("units")})}var un=document.createElement("div"),cn=new WeakMap;function sn(t,n){var e;return t instanceof Node?e=t:(un.insertAdjacentHTML("afterbegin",t),e=un.childNodes[0]),n.appendChild(e),e}function ln(t){if(cn.has(t))return cn.get(t);var n=t.style.overflow;t.style.overflow="scroll";var e={width:t.offsetWidth-t.clientWidth,height:t.offsetHeight-t.clientHeight};return t.style.overflow=n,cn.set(t,e),e}function fn(t,n){var e="horizontal"===(n=n||"both")||"both"===n,r="vertical"===n||"both"===n,i=ln(t),o=r?i.width+"px":"0",a=e?i.height+"px":"0";t.style.overflow="hidden",t.style.padding="0 "+o+" "+a+" 0";var u=t.scrollWidth>t.clientWidth,c=t.scrollHeight>t.clientHeight,s=r&&!c?i.width+"px":"0",l=e&&!u?i.height+"px":"0";return t.style.padding="0 "+s+" "+l+" 0",t.style.overflow="",t.style.overflowX=u?"scroll":"hidden",t.style.overflowY=c?"scroll":"hidden",i}function hn(t,n){return window.getComputedStyle(t).getPropertyValue(n)}function dn(t,n){return parseInt(hn(t,n)||"0",10)}function pn(t){var n=dn(t,"padding-left"),e=dn(t,"padding-right"),r=dn(t,"padding-bottom"),i=dn(t,"padding-top"),o=dn(t,"border-top-width")+dn(t,"border-left-width")+dn(t,"border-right-width")+dn(t,"border-bottom-width"),a=t.getBoundingClientRect();return{width:a.width-n-e-2*o,height:a.height-r-i-2*o}}function gn(t){var n=document.createElement("div");n.style.position="absolute",n.style.visibility="hidden",n.style.width="100px",n.style.height="100px",n.style.border="1px solid green",n.style.top="0",document.body.appendChild(n),n.innerHTML='<svg class="tau-chart__svg">\n                <g class="tau-chart__cell cell">\n                <g class="x axis">\n                <g class="tick"><text>'+t+"</text></g>\n                </g>\n                </g>\n                </svg>";var e={width:0,height:0},r=n.querySelector(".x.axis .tick text").getBoundingClientRect();e.width=r.right-r.left,e.height=r.bottom-r.top;var i=0!==t.length?e.width/t.length:0;return e.width=e.width+1.5*i,document.body.removeChild(n),e}function _n(t,n){for(var e=n.fontSize,r=n.fontFamily,i=n.fontWeight,o="string"==typeof e?e:e+"px",a=0,u=0,c=t.length-1,s=0;s<=c;s++){var l=t.charAt(s),f=yn(l,{fontSize:o,fontFamily:r,fontWeight:i});a+=f.width,u=Math.max(u,f.height)}return{width:a,height:parseInt(o)}}var yn=Xt(function(t,n){var e=n.fontSize,r=n.fontFamily,i=n.fontWeight,o=document.createElement("div");o.style.position="absolute",o.style.visibility="hidden",o.style.border="0px",o.style.top="0",o.style.fontSize=e,o.style.fontFamily=r,o.style.fontWeight=i,document.body.appendChild(o),o.innerHTML=" "===t?"&nbsp;":t;var a={width:0,height:0},u=o.getBoundingClientRect();return a.width=u.right-u.left,a.height=u.bottom-u.top,document.body.removeChild(o),a},function(t,n){return t+"_"+JSON.stringify(n)});function mn(t,n){var e={".":function(t,n){return n.classed(t,!0)},"#":function(t,n){return n.attr("id",t)}},r=Object.keys(e).join("");if(n.indexOf(" ")>=0)throw new Error("Selector should not contain whitespaces.");if(r.indexOf(n[0])>=0)throw new Error("Selector must have tag at the beginning.");var i,o=t instanceof Element,u=o?a.select(t):t,c=function(t){return o?t.node():t},s=u.selectAll(n).filter(function(){return this.parentNode===u.node()}).filter(function(t,n){return 0===n});if(!s.empty())return c(s);for(var l,f=-1,h=null,d=1,p=n.length;d<=p;d++)(d==p||r.indexOf(n[d])>=0)&&(l=n.substring(f+1,d),f<0?i=u.append(l):e[h].call(null,l,i),h=n[d],f=d);return c(i)}function vn(t,n){return bn(t,n)[0]||null}function bn(t,n){for(var e=[],r=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,i=t.firstElementChild;Boolean(i);i=i.nextElementSibling)r.call(i,n)&&e.push(i);return e}function xn(t,n){if(t.childElementCount>0){var e,r,i=Array.prototype.filter.call(t.childNodes,function(t){return t.nodeType===Node.ELEMENT_NODE}),o=i.slice().sort(n),a=i.reduce(function(t,n,e){return t.set(n,e),t},new Map),u=o.reduce(function(t,n,i){var u=a.get(n),c=i-u;return c!==r&&(e&&t.push(e),r=c,e={from:u,to:i,elements:[]}),e.elements.push(n),i===o.length-1&&t.push(e),t},[]),c=u.slice().sort(function(t,n){return t.from-n.from}),s=c.reduce(function(t,n,e){return t.set(n,e),t},new Map),l=function(t){for(var n,e,r,i=u.map(function(t,n){return{elements:t.elements,from:s.get(t),to:n}}).sort(qt(function(t,n){return t.elements.length-n.elements.length},t?function(t,n){return n.to-t.to}:function(t,n){return t.to-n.to})),o=0;o<i.length;o++){if((e=i[o]).from>e.to)for(n=o+1;n<i.length;n++)(r=i[n]).from>=e.to&&r.from<e.from&&r.from++;if(e.from<e.to)for(n=o+1;n<i.length;n++)(r=i[n]).from>e.from&&r.from<=e.to&&r.from--}return i.filter(function(t){return t.from!==t.to})},f=l(!0),h=l(!1),d=f.length<h.length?f:h,p=c.map(function(t){return t.elements});d.forEach(function(n){var e,r=p.splice(n.from,1)[0],i=p[n.to],o=i?i[0]:null;1===n.elements.length?e=r[0]:(e=document.createDocumentFragment(),r.forEach(function(t){e.appendChild(t)})),t.insertBefore(e,o),p.splice(n.to,0,r)})}}function wn(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=[];return t.filter(function(t){return Boolean(t)}).forEach(function(t){"string"==typeof t?e.push(t):"object"==typeof t&&e.push.apply(e,Object.keys(t).filter(function(n){return Boolean(t[n])}))}),Bt(e).join(" ").trim().replace(/\s{2,}/g," ")}function Mn(t,n){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];var i,o=document.createEvent("MouseEvents"),a=[!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null],u=e.concat(a.slice(e.length));(i=o).initMouseEvent.apply(i,[n].concat(u)),t.dispatchEvent(o)}function kn(t,n){return"translate("+t+","+n+")"}function Sn(t){return"rotate("+t+")"}function An(t){return["bottom","top"].indexOf(t.toLowerCase())>=0?"h":"v"}function En(t,n,e,r,i,o,a,u){var c,s,l,f,h,d;return d=((l=a-i)*(n-o)-(f=u-o)*(t-i))/(-l*(s=r-n)+(c=e-t)*f),(h=(-s*(t-i)+c*(n-o))/(-l*s+c*f))>=0&&h<=1&&d>=0&&d<=1}function Tn(t){for(var n,e,r=function(t){var n={x:0,y:0},e=t.indexOf("translate(");if(e>=0){var r=t.indexOf(")",e+10),i=t.substring(e+10,r).trim().replace(","," ").replace(/\s+/," ").split(" ");n.x=parseFloat(i[0]),i.length>1&&(n.y=parseFloat(i[1]))}return n},i={x:0,y:0},o=t;o&&"SVG"!==o.nodeName.toUpperCase();)(e=o.getAttribute("transform"))&&(n=r(e),i.x+=n.x,i.y+=n.y),o=o.parentNode;return i}function Cn(t,n,e){var r=t.selectAll(n).filter(e);if(!r.empty()){var i=a.select(r.node().parentNode).selectAll(n).filter(function(t){return!e(t)}).nodes(),o=i[i.length-1];if(o){var u=Array.prototype.indexOf.call(o.parentNode.childNodes,o),c=o.nextSibling;r.each(function(){Array.prototype.indexOf.call(this.parentNode.childNodes,this)>u||this.parentNode.insertBefore(this,c)})}}}var On=function(t){return Mt(t)?t.getTime():t},Nn={cross:function(t,n,e){var r=t(),i=Bt(r.map(function(t){return t[n]}),On),o=Bt(r.map(function(t){return t[e]}),On),a=0===i.length?[null]:i;return(0===o.length?[null]:o).reduce(function(t,r){return t.concat(a.map(function(t){var i={};return n&&(i[n]=On(t)),e&&(i[e]=On(r)),i}))},[])},cross_period:function(t,n,e,r,i,o){var a=t(),u=!!o&&o.utcTime,c=Bt(a.map(function(t){return t[n]}),On),s=Bt(a.map(function(t){return t[e]}),On),l=0===c.length?[null]:c,f=0===s.length?[null]:s;return r&&(l=m.generate(Math.min.apply(Math,c),Math.max.apply(Math,c),r,{utc:u})),i&&(f=m.generate(Math.min.apply(Math,s),Math.max.apply(Math,s),i,{utc:u})),f.reduce(function(t,r){return t.concat(l.map(function(t){var i={};return n&&(i[n]=On(t)),e&&(i[e]=On(r)),i}))},[])},groupBy:function(t,n){return Bt(t().map(function(t){return t[n]}),On).map(function(t){return(e={})[n]=On(t),e;var e})},none:function(){return[null]}},jn=function(){function t(t,n,e){var r=t.key,i=t.pipe,o=t.source,a=t.units;void 0===e&&(e={}),this.key=r,this.pipe=i||[],this.source=o,this.units=a,this._frame={key:r,source:o,pipe:this.pipe},this._data=n,this._pipeReducer=function(t,n){return e[n.type](t,n.args)}}return t.prototype.hash=function(){return Ct([this._frame.pipe,this._frame.key,this._frame.source].map(function(t){return JSON.stringify(t)}).join(""))},t.prototype.full=function(){return this._data},t.prototype.part=function(t){return void 0===t&&(t=function(t){return t}),this._frame.pipe.map(t).reduce(this._pipeReducer,this._data)},t}(),zn=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Dn=function(t){return Mt(t)?t.getTime():t},Ln=function(t){var n=this;Object.keys(t).forEach(function(e){return n[e]=t[e]})},Fn=function(t,n,e){return t.map(function(t){return"string"==typeof t?e.get(t):t}).filter(function(t){return t}).reduce(function(t,n){return e=t,void 0===(r=n(t,{}))&&(r={}),Object.assign(new Ln(e),r);var e,r},n)},Rn=function(t){function n(n,e,r,i){var o=t.call(this)||this;return Yt(n.scales,{size_null:{type:"size",source:"?"},split_null:{type:"value",source:"?"},label_null:{type:"value",source:"?"},color_null:{type:"color",source:"?"},identity_null:{type:"identity",source:"?"},"size:default":{type:"size",source:"?"},"color:default":{type:"color",source:"?"},"split:default":{type:"value",source:"?"},"label:default":{type:"value",source:"?"},"identity:default":{type:"identity",source:"?"}}),n.settings=n.settings||{},o.config=n,o.sources=n.sources,o.scales=n.scales,o.unitSet=r,o.grammarRules=i,o.scalesHub=e,o.transformations=Object.assign(n.transformations||{},{where:function(t,n){var e=Object.keys(n||{}).map(function(t){return function(e){return Dn(e[t])===n[t]}});return t.filter(function(t){return e.every(function(n){return n(t)})})}}),o}return zn(n,t),n.traverseSpec=function(t,n,e,r,i){void 0===r&&(r=null),void 0===i&&(i=null);var o=[],a=function(t,n,e,r,i){o.push(function(){n(t,r,i)}),t.frames&&t.frames.forEach(function(r){(r.units||[]).map(function(i){return a(i,n,e,t,r)})}),o.push(function(){return e(t,r,i)})};return a(t.unit,n,e,r,i),o},n.prototype.unfoldStructure=function(){return this.root=this._expandUnitsStructure(this.config.unit),this.config},n.prototype.getDrawScenarioQueue=function(t){var n=this,e=this.grammarRules,r=this._flattenDrawScenario(t,function(t,r,i){var o=!1===r.expression.inherit?null:i,a=n._createFrameScalesFactoryMethod(o),u=n.unitSet.create(r.type,Object.assign({},r,{options:t.allocateRect(i.key)})),c=new Ln(u.defineGrammarModel(a)),s=Fn(u.getGrammarRules(),c,e);return Fn(u.getAdjustScalesRules(),s,e),u.node().screenModel=u.createScreenModel(s),u}),i=this._flattenDrawScenario(t,function(t,r,i){var o=!1===r.expression.inherit?null:i,a=n._createFrameScalesFactoryMethod(o),u=n.unitSet.create(r.type,Object.assign({},r,{options:t.allocateRect(i.key)})),c=new Ln(u.defineGrammarModel(a)),s=Fn(u.getGrammarRules(),c,e);return u.node().screenModel=u.createScreenModel(s),u.parentUnit=t,u.addInteraction(),u});return r.concat(function(){Object.keys(n.scales).forEach(function(t){return n.scalesHub.createScaleInfo(n.scales[t]).commit()})}).concat(i)},n.prototype._flattenDrawScenario=function(t,e){var r={},i=[],o=[t],a=n.traverseSpec({unit:this.root},function(t,n,a){var u;t.uid=(u=Ct((n?n.uid+"/":"")+JSON.stringify(Object.keys(t).filter(function(n){return"string"==typeof t[n]}).reduce(function(n,e){return n[e]=t[e],n},{}))+"-"+JSON.stringify(a.pipe)),r.hasOwnProperty(u)?u+="-"+ ++r[u]:r[u]=0,u),t.guide=wt(t.guide);var c,s=e(o[0],t,a);i.push(s),0===t.type.indexOf("COORDS.")&&(c=s,o.unshift(c))},function(t){0===t.type.indexOf("COORDS.")&&o.shift()},null,this._datify({source:this.root.expression.source,pipe:[]}));return a.push(function(){return i}),a},n.prototype._expandUnitsStructure=function(t,n){var e=this;void 0===n&&(n=[]);var r=this;if(!1===t.expression.operator)t.frames=t.frames.map(function(t){return r._datify(t)});else{var i=this._parseExpression(t.expression,n,t.guide);t.transformation=t.transformation||[],t.frames=i.exec().map(function(e){var o=(i.inherit?n:[]).concat([{type:"where",args:e}]).concat(t.transformation);return r._datify({key:e,pipe:o,source:i.source,units:t.units?t.units.map(function(t){var n=wt(t);return n.guide=t.guide,n}):[]})})}return t.frames.forEach(function(t){return t.units.forEach(function(n){return e._expandUnitsStructure(n,t.pipe)})}),t},n.prototype._createFrameScalesFactoryMethod=function(t){var n=this;return function(e,r,i){var o=r||e+":default";return n.scalesHub.createScaleInfo(n.scales[o],t).create("function"==typeof i?i(n.scales[o]):i)}},n.prototype._datify=function(t){return new jn(t,this.sources[t.source].data,this.transformations)},n.prototype._parseExpression=function(t,n,e){var r=this,i=t.operator||"none",o=t.source,a=!1!==t.inherit,u=t.params,c={source:o,pipe:a?n:[]},s=Nn[i];if(!s)throw new Error(i+" operator is not supported");return{source:o,inherit:a,func:s,args:u,exec:function(){return s.apply(void 0,[function(){return r._datify(c).part()}].concat(u||[],[e]))}}},n}(d),Pn="tau-chart__",In=e(10),Bn=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();In.Tooltip.defaults.baseClass=Pn+"tooltip";var Un,Hn,Wn=["top","bottom"],Yn=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Bn(n,t),n.prototype._pickPlace=function(t){if(!this.options.auto)return this.options.place;var n,e,r,i,o,a,u,c,s=0|this.options.winBound,l=(n=s,r=window,i=document.documentElement,o=(r.pageYOffset||i.scrollTop)-i.clientTop,a=(r.pageXOffset||i.scrollLeft)-i.clientTop,u=r.innerWidth||i.clientWidth,c=r.innerHeight||i.clientHeight,{top:(e={top:o,right:a+u,bottom:o+c,left:a,width:u,height:c}).top+n,right:e.right-n,bottom:e.bottom-n,left:e.left+n,width:e.width-2*n,height:e.height-2*n}),f=this.options.place.split("-"),h=this.spacing;if(-1!==Wn.indexOf(f[0]))switch(t.top-this.height-h<=l.top?f[0]="bottom":t.bottom+this.height+h>=l.bottom&&(f[0]="top"),f[1]){case"left":t.right-this.width<=l.left&&(f[1]="right");break;case"right":t.left+this.width>=l.right&&(f[1]="left");break;default:t.left+t.width/2+this.width/2>=l.right?f[1]="left":t.right-t.width/2-this.width/2<=l.left&&(f[1]="right")}else switch(t.left-this.width-h<=l.left?f[0]="right":t.right+this.width+h>=l.right&&(f[0]="left"),f[1]){case"top":t.bottom-this.height<=l.top&&(f[1]="bottom");break;case"bottom":t.top+this.height>=l.bottom&&(f[1]="top");break;default:t.top+t.height/2+this.height/2>=l.bottom?f[1]="top":t.bottom-t.height/2-this.height/2<=l.top&&(f[1]="bottom")}return f.join("-")},n}(In.Tooltip),Gn=function(){function t(t,n){this.chart=n,this.handlers=new Map,this.plugins=t.map(this.initPlugin,this)}return t.prototype.initPlugin=function(t){var n=this;t.init&&t.init(this.chart);var e=[];this.handlers.set(t,e);var r=function(r,i){e.push(n.chart.on(r,i,t))};return t.destroy&&r("destroy",t.destroy.bind(t)),Object.keys(t).forEach(function(n){if(0===n.indexOf("on")){var e=n.substr(2).toLowerCase();r(e,t[n].bind(t))}}),t},t.prototype.destroyPlugin=function(t){var n=this;t.destroy&&t.destroy(),this.handlers.get(t).forEach(function(e){n.chart.removeHandler(e,t)})},t.prototype.destroy=function(){var t=this;this.plugins.forEach(function(n){return t.destroyPlugin(n)})},t}(),Xn={},qn={},Vn={reg:function(t,n,e){return e?(qn[t]=e,Xn[t]=function(t,n){this.___tauchartsseed___=new n(this.init(t))},Xn[t].prototype=Object.assign({init:function(t){return t},defineGrammarModel:function(t){return this.node().defineGrammarModel(t)},getGrammarRules:function(t){return this.node().getGrammarRules(t)},getAdjustScalesRules:function(t){return this.node().getAdjustScalesRules(t)},createScreenModel:function(t){return this.node().createScreenModel(t)},addInteraction:function(){this.node().addInteraction()},node:function(){return this.___tauchartsseed___},draw:function(){this.node().draw()}},n)):Xn[t]=n,this},get:function(t){if(!Xn.hasOwnProperty(t))throw new b("Unknown unit type: "+t,x.UNKNOWN_UNIT_TYPE);return Xn[t]},create:function(t,n){var e=this.get(t);return qn[t]?new e(n,this.get(qn[t])):new e(n)}},Zn={},Jn={},$n={reg:function(t,n,e){return void 0===e&&(e=function(t){return t}),Zn[t]=n,Jn[t]=e,$n},get:function(t){return Zn[t]},instance:function(t){return void 0===t&&(t={}),{create:function(n,e,r){return new($n.get(n))(e,(0,Jn[n])(r,t))}}}},Qn=function(){function t(t,n,e){this.registry=t,this.sources=n,this.scales=e}return t.prototype.createScaleInfo=function(t,n){void 0===n&&(n=null);var e=t.dim,r=t.source,i=(this.sources[r].dims[e]||{}).type,o=this.sources[r].data,a=n||new jn({source:r},o);return t.dimType=i,this.registry.create(t.type,a,t)},t.prototype.createScaleInfoByName=function(t,n){return void 0===n&&(n=null),this.createScaleInfo(this.scales[t],n)},t}(),Kn=function(t,n,e){var r=!0,i=null;try{t.reduce(function(t,r){var o=function(t,n){var e=r[n],i=kt(e)?JSON.stringify(e):e;return t.push(i),t},a=n.reduce(o,[]).join("/"),u=e.reduce(o,[]).join("/");if(t.hasOwnProperty(a)){var c=t[a];if(c!==u)throw i={type:"RelationIsNotAFunction",keyX:n.join("/"),keyY:e.join("/"),valX:a,errY:[c,u]},new Error("RelationIsNotAFunction")}else t[a]=u;return t},{})}catch(t){if("RelationIsNotAFunction"!==t.message)throw t;r=!1}return{result:r,error:i}},te=function(t,n,e){var r=t,i=["period","time"].indexOf(e.scale)>=0?function(t){return new Date(t)}:function(t){return t},o=t.reduce(function(t,n,e){return t.set(n,e),t},new Map);if("measure"===e.type||"period"===e.scale)r=t.slice().sort(qt(function(t,e){return i(t[n])-i(e[n])},function(t,n){return o.get(t)-o.get(n)}));else if(e.order){var a=e.order.reduce(function(t,n,e){return t[n]=e,t},{}),u=e.order.length,c="(___"+n+"___)";r=t.map(function(t){var e=a[t[n]];return e=e>=0?e:u,t[c]=e,t}).sort(qt(function(t,n){return t[c]-n[c]},function(t,n){return o.get(t)-o.get(n)})).map(function(t){return delete t[c],t})}return r},ne=function(t,n){var e=document.createElement("div");return e.classList.add(Pn+t),n&&n.appendChild(e),e},ee=function(){var t=ne("layout"),n=ne("layout__header",t),e=ne("layout__container",t),r=ne("layout__sidebar",e),i=ne("layout__content",e),o=ne("layout__content__wrap",i),a=ne("layout__sidebar-right",e);return{layout:t,header:n,content:o,contentContainer:i,leftSidebar:r,rightSidebar:ne("layout__sidebar-right__wrap",a),rightSidebarContainer:a,footer:ne("layout__footer",t)}},re=function(){function t(t){this.spec=t,this.dist={sources:{"?":{dims:{},data:[{}]},"/":{dims:{},data:[]}},scales:{x_null:{type:"ordinal",source:"?"},y_null:{type:"ordinal",source:"?"},size_null:{type:"size",source:"?"},color_null:{type:"color",source:"?"},split_null:{type:"value",source:"?"},"pos:default":{type:"ordinal",source:"?"},"size:default":{type:"size",source:"?"},"label:default":{type:"value",source:"?"},"color:default":{type:"color",source:"?"},"split:default":{type:"value",source:"?"}},settings:t.settings}}return t.prototype.convert=function(){var t=this.spec,n=this.dist;return this.ruleAssignSourceDims(t,n),this.ruleAssignStructure(t,n),this.ruleAssignSourceData(t,n),this.ruleApplyDefaults(n),n},t.prototype.ruleApplyDefaults=function(t){var n=t.settings||{},e=function(t,n,r){n(t,r),(t.units||[]).map(function(r){return e(r,n,t)})};e(t.unit,function(t,e){if(t.namespace="chart",t.guide=Yt(t.guide||{},{animationSpeed:n.animationSpeed||0,utcTime:n.utcTime||!1}),e&&!t.hasOwnProperty("units")){t=Yt(t,{x:e.x,y:e.y});var r=wt(e.guide)||{};t.guide.x=Yt(t.guide.x||{},r.x),t.guide.y=Yt(t.guide.y||{},r.y),t.expression.inherit=e.expression.inherit}return!e||t.guide&&t.guide.hasOwnProperty("obsoleteVerticalStackOrder")||(t.guide=Object.assign(t.guide||{},{obsoleteVerticalStackOrder:(e.guide||{}).obsoleteVerticalStackOrder})),t},null)},t.prototype.ruleAssignSourceData=function(t,n){var e=t.spec.dimensions||{},r=n.sources["/"].dims,i=function(t,n){var e=t[n];return kt(e)&&!Mt(e)&&Object.keys(e).forEach(function(r){return t[n+"."+r]=e[r]}),t};n.sources["/"].data=t.data.map(function(t){var n=Object.keys(t).reduce(i,t);return Object.keys(r).reduce(function(t,n){return t.hasOwnProperty(n)||(t[n]=null),null!==t[n]&&e[n]&&["period","time"].indexOf(e[n].scale)>=0&&(t[n]=new Date(t[n])),t},n)})},t.prototype.ruleAssignSourceDims=function(t,n){var e=t.spec.dimensions;n.sources["/"].dims=Object.keys(e).reduce(function(t,n){return t[n]={type:e[n].type},t},{})},t.prototype.ruleAssignStructure=function(t,n){var e=this,r=function(t){var i=wt(Gt(t,"unit"));return e.ruleCreateScales(t,i,n.settings),i.expression=e.ruleInferExpression(t),t.unit&&(i.units=t.unit.map(r)),i},i=r(t.spec.unit);i.expression.inherit=!1,n.unit=i},t.prototype.ruleCreateScales=function(t,n,e){var r=this,i=t.guide||{};["identity","color","size","label","x","y","split"].forEach(function(o){t.hasOwnProperty(o)&&(n[o]=r.scalesPool(o,t[o],i[o]||{},e))})},t.prototype.ruleInferDim=function(t,n){var e=t,r=this.spec.spec.dimensions;if(!r.hasOwnProperty(e))return e;n.hasOwnProperty("tickLabel")?e=t+"."+n.tickLabel:r[t].value&&(e=t+"."+r[t].value);var i=this.dist.sources["/"].dims;return i.hasOwnProperty(e)||(i[e]={type:i[t].type},delete i[t]),e},t.prototype.scalesPool=function(t,n,e,r){var i=t+"_"+n;if(this.dist.scales.hasOwnProperty(i))return i;var o=this.spec.spec.dimensions,a={};if("color"===t&&null!==n&&(a={type:"color",source:"/",dim:this.ruleInferDim(n,e)},e.hasOwnProperty("brewer")&&(a.brewer=e.brewer),o[n]&&o[n].hasOwnProperty("order")&&(a.order=o[n].order),e.hasOwnProperty("min")&&(a.min=e.min),e.hasOwnProperty("max")&&(a.max=e.max),e.hasOwnProperty("nice")&&(a.nice=e.nice)),"size"===t&&null!==n&&(a={type:"size",source:"/",dim:this.ruleInferDim(n,e)},e.hasOwnProperty("func")&&(a.func=e.func),e.hasOwnProperty("min")&&(a.min=e.min),e.hasOwnProperty("max")&&(a.max=e.max),e.hasOwnProperty("minSize")&&(a.minSize=e.minSize),e.hasOwnProperty("maxSize")&&(a.maxSize=e.maxSize)),"label"===t&&null!==n&&(a={type:"value",source:"/",dim:this.ruleInferDim(n,e)}),"split"===t&&null!==n&&(a={type:"value",source:"/",dim:this.ruleInferDim(n,e)}),"identity"===t&&null!==n&&(a={type:"identity",source:"/",dim:this.ruleInferDim(n,e)}),o.hasOwnProperty(n)&&("x"===t||"y"===t)){if(a={type:o[n].scale,source:"/",dim:this.ruleInferDim(n,e)},o[n].hasOwnProperty("order")&&(a.order=o[n].order),e.hasOwnProperty("min")&&(a.min=e.min),e.hasOwnProperty("max")&&(a.max=e.max),e.hasOwnProperty("autoScale")?a.autoScale=e.autoScale:a.autoScale=!0,e.hasOwnProperty("nice")?a.nice=e.nice:a.nice=a.autoScale,e.hasOwnProperty("niceInterval")?a.niceInterval=e.niceInterval:a.niceInterval=null,e.hasOwnProperty("tickPeriod")&&(a.period=e.tickPeriod,a.type="period"),e.hasOwnProperty("tickPeriod")&&e.hasOwnProperty("timeInterval"))throw new Error('Use "tickPeriod" for period scale, "timeInterval" for time scale, but not both');if(e.hasOwnProperty("timeInterval")){a.period=e.timeInterval,a.type="time";var u=m.get(a.period,{utc:r.utcTime});e.hasOwnProperty("min")&&(a.min=u.cast(new Date(e.min))),e.hasOwnProperty("max")&&(a.max=u.cast(new Date(e.max)))}a.fitToFrameByDims=e.fitToFrameByDims,a.ratio=e.ratio}return this.dist.scales[i]=a,i},t.prototype.getScaleConfig=function(t,n){var e=t+"_"+n;return this.dist.scales[e]},t.prototype.ruleInferExpression=function(t){var n={operator:"none",params:[]},e=t.guide||{},r=e.x||{},i=e.y||{},o=this.getScaleConfig("x",t.x),a=this.getScaleConfig("y",t.y);return 0===t.type.indexOf("ELEMENT.")?t.color&&(n={operator:"groupBy",params:[this.ruleInferDim(t.color,e.color||{})]}):"COORDS.RECT"===t.type&&1===t.unit.length&&"COORDS.RECT"===t.unit[0].type&&(n=o.period||a.period?{operator:"cross_period",params:[this.ruleInferDim(t.x,r),this.ruleInferDim(t.y,i),o.period,a.period]}:{operator:"cross",params:[this.ruleInferDim(t.x,r),this.ruleInferDim(t.y,i)]}),Object.assign({inherit:!0,source:"/"},n)},t}(),ie=e(9),oe=e(8),ae=(Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t})({},ie,oe),ue=ae.format(".4s"),ce=ae.format(".2r"),se=ae.format(".1e"),le=(Un=/\.0+([^\d].*)?$/,Hn=/(\.\d+?)0+([^\d].*)?$/,function(t){return t.replace(Un,"$1").replace(Hn,"$1$2")}),fe={"x-num-auto":function(t){if(isNaN(t))return"NaN";var n=Math.abs(t);return le(n<1?0===n?"0":n<1e-6?se(t):ce(t):ue(t))},percent:function(t){return parseFloat((100*t).toFixed(2)).toString()+"%"},day:ae.timeFormat("%d-%b-%Y"),"day-utc":ae.utcFormat("%d-%b-%Y"),"day-short":ae.timeFormat("%d-%b"),"day-short-utc":ae.utcFormat("%d-%b"),week:ae.timeFormat("%d-%b-%Y"),"week-utc":ae.utcFormat("%d-%b-%Y"),"week-short":ae.timeFormat("%d-%b"),"week-short-utc":ae.utcFormat("%d-%b"),month:function(t){var n=0===new Date(t).getMonth()?"%B, %Y":"%B";return ae.timeFormat(n)(t)},"month-utc":function(t){var n=0===new Date(t).getUTCMonth()?"%B, %Y":"%B";return ae.utcFormat(n)(t)},"month-short":function(t){var n=0===new Date(t).getMonth()?"%b '%y":"%b";return ae.timeFormat(n)(t)},"month-short-utc":function(t){var n=0===new Date(t).getUTCMonth()?"%b '%y":"%b";return ae.utcFormat(n)(t)},"month-year":ae.timeFormat("%B, %Y"),"month-year-utc":ae.utcFormat("%B, %Y"),quarter:function(t){var n=new Date(t),e=n.getMonth();return"Q"+((e-e%3)/3+1)+" "+n.getFullYear()},"quarter-utc":function(t){var n=new Date(t),e=n.getUTCMonth();return"Q"+((e-e%3)/3+1)+" "+n.getUTCFullYear()},year:ae.timeFormat("%Y"),"year-utc":ae.utcFormat("%Y"),"x-time-auto":null},he={get:function(t,n){var e=n||"",r=function(t){return String(null===t||void 0===t?e:t)},i=fe.hasOwnProperty(t),o=i?fe[t]:r;return i&&(o=fe[t]),!i&&t&&(o=function(n){return(Mt(n)?ae.timeFormat(t):ae.format(t))(n)}),i||t||(o=r),o},add:function(t,n){fe[t]=n}},de=function(t){return t.reduce(function(t,n){return t+n},0)},pe=function(t,n,e){return t[n]=Yt(t[n]||{},{label:""}),t[n].label=kt(t[n].label)?t[n].label:{text:t[n].label},t[n].label=Yt(t[n].label,e||{},{padding:32,rotate:0,textAnchor:"middle",cssClass:"label",dock:null}),t[n]},ge=function(t,n,e){return t[n]=Yt(t[n],e||{},{padding:0,density:30,rotate:0,tickPeriod:null,tickFormat:null,autoScale:!0}),t[n].tickFormat=t[n].tickFormat||t[n].tickPeriod,t[n].nice=t[n].hasOwnProperty("nice")?t[n].nice:t[n].autoScale,t[n]},_e=function(t){var n=t.units||[],e=!t.hasOwnProperty("units"),r=!n.some(function(t){return t.hasOwnProperty("units")});return{type:t.type,isLeaf:e,isLeafParent:!e&&r}},ye=function(t,n,e,r){if(0===t.length)return{width:0,height:0};if(null===n){var i=e("TauChart Library");return i.width=.625*r,i}t.every(function(t){return"number"==typeof t})&&(t=c.scaleLinear().domain(t).ticks());var o=t.reduce(function(t,e){var r=n(e).toString().length;return!t.computed||r>t.computed?{value:e,computed:r}:t},{}).value;return e(n(o))},me=function(t,n){var e=t.dimType,r=t.scaleType,i=[e,r,"*"].join(":"),o=[e,r].join(":");return n[i]||n[o]||n[e]||null},ve=function(t,n,e){return t.hasOwnProperty(n+":"+e)?t[n+":"+e]:t[""+n]},be=function(t,n){return["day","week","month"].indexOf(t)>=0&&(t+="-short"+(n?"-utc":"")),t},xe=function(t,n){var e=t.width,r=t.height,i=Math.abs(Ft(n));return{width:Math.max(Math.cos(i)*e,r),height:Math.max(Math.sin(i)*e,r)}},we=function(t,n){void 0===n&&(n="x");var e=Rt(t),r="x"===n?[[0,45,"middle"],[45,135,"start"],[135,225,"middle"],[225,315,"end"],[315,360,"middle"]]:[[0,90,"end"],[90,135,"middle"],[135,225,"start"],[225,315,"middle"],[315,360,"end"]];return r[r.findIndex(function(t){return e>=t[0]&&e<t[1]})][2]},Me=function(t,n,e){var r=Math.ceil(t.width/n);return{height:Math.min(r,e)*t.height,width:n}};function ke(t,n,e,r,i,o){var a=e.values,u=r.values,c=e.isEmpty||t.x.hideTicks,s=r.isEmpty||t.y.hideTicks,l=ye(a,he.get(t.x.tickFormat,t.x.tickFormatNullAlias),n.getAxisTickLabelSize,n.xAxisTickLabelLimit),f=ye(u,he.get(t.y.tickFormat,t.y.tickFormatNullAlias),n.getAxisTickLabelSize,n.yAxisTickLabelLimit),h=l,d=f;l.width>n.xAxisTickLabelLimit&&(t.x.tickFormatWordWrap=!0,t.x.tickFormatWordWrapLines=n.xTickWordWrapLinesLimit,h=Me(l,n.xAxisTickLabelLimit,n.xTickWordWrapLinesLimit)),f.width>n.yAxisTickLabelLimit&&(t.y.tickFormatWordWrap=!0,t.y.tickFormatWordWrapLines=n.yTickWordWrapLinesLimit,d=Me(f,n.yAxisTickLabelLimit,n.yTickWordWrapLinesLimit)),o&&(t.y.tickFormatWordWrap=!1,t.y.tickFormatWordWrapLines=1,(d=Me(f,2*n.yAxisTickLabelLimit,1)).width=20);var p=c?0:1,g=s?0:1,_=t.x.label,y=t.y.label,m=_.text&&!_.hide?1:0,v=y.text&&!y.hide?1:0,b=xe(h,t.x.rotate),x=xe(d,t.y.rotate);i?(_.padding=(-n.xAxisPadding-n.xFontLabelHeight)/2+n.xFontLabelHeight,_.paddingNoTicks=_.padding,y.padding=(-n.yAxisPadding-n.yFontLabelHeight)/2,y.paddingNoTicks=y.padding,m=0,v=0):(_.padding=de([p*(n.xTickWidth+b.height),m*(n.distToXAxisLabel+n.xFontLabelHeight)]),_.paddingNoTicks=m*(n.distToXAxisLabel+n.xFontLabelHeight),y.padding=de([g*(n.yTickWidth+x.width),v*n.distToYAxisLabel]),y.paddingNoTicks=v*n.distToYAxisLabel),o&&(y.padding=0,y.paddingNoTicks=0);var w=n.xFontLabelDescenderLineHeight;return t.padding=Object.assign(t.padding,{b:t.x.hide?0:de([t.x.padding,p*(n.xTickWidth+b.height),m*(n.distToXAxisLabel+n.xFontLabelHeight+w)]),l:t.y.hide?0:de([t.y.padding,o?0:g*(n.yTickWidth+x.width),v*(n.distToYAxisLabel+n.yFontLabelHeight)])}),t.paddingNoTicks=Object.assign({},t.paddingNoTicks,{b:t.x.hide?0:de([t.x.padding,m*(n.distToXAxisLabel+n.xFontLabelHeight+w)]),l:t.y.hide?0:de([t.y.padding,v*(n.distToYAxisLabel+n.yFontLabelHeight)])}),t.x=Object.assign(t.x,{density:b.width+2*ve(n,"xDensityPadding",e.dimType),tickFontHeight:l.height,$minimalDomain:a.length,$maxTickTextW:h.width,$maxTickTextH:h.height,tickFormatWordWrapLimit:n.xAxisTickLabelLimit}),t.y=Object.assign(t.y,{density:x.height+2*ve(n,"yDensityPadding",r.dimType),tickFontHeight:f.height,$minimalDomain:u.length,$maxTickTextW:d.width,$maxTickTextH:d.height,tickFormatWordWrapLimit:n.yAxisTickLabelLimit}),t}var Se=function(t){var n=t.unit,e=t.meta,r=t.settings,i=t.allowXVertical,o=t.allowYVertical,a=t.inlineLabels,u=e.dimension(n.x),c=e.dimension(n.y),s=e.scaleMeta(n.x,n.guide.x),l=e.scaleMeta(n.y,n.guide.y),f=s.isEmpty,h=l.isEmpty;n.guide.x.tickFormat=be(n.guide.x.tickFormat||me(u,r.defaultFormats),r.utcTime),n.guide.y.tickFormat=be(n.guide.y.tickFormat||me(c,r.defaultFormats),r.utcTime);var d=!(!i||"measure"===u.dimType),p=!(!o||"measure"===c.dimType);if(n.guide.x.padding=f?0:r.xAxisPadding,n.guide.x.paddingNoTicks=n.guide.x.padding,n.guide.y.padding=h?0:r.yAxisPadding,n.guide.y.paddingNoTicks=n.guide.y.padding,n.guide.x.rotate=d?-90:0,n.guide.x.textAnchor=we(n.guide.x.rotate,"x"),n.guide.y.rotate=p?-90:0,n.guide.y.textAnchor=we(n.guide.y.rotate,"y"),n.guide=ke(n.guide,r,s,l,a,an(n)),a){var g=n.guide.x.label,_=n.guide.y.label;g.cssClass+=" inline",g.dock="right",g.textAnchor="end",_.cssClass+=" inline",_.dock="right",_.textAnchor="end"}return n},Ae={NONE:function(t,n,e){var r=wt(t);return Ee(wt(r.unit),r.unit,function(t,n){return n.guide.x.tickFontHeight=e.getAxisTickLabelSize("X").height,n.guide.y.tickFontHeight=e.getAxisTickLabelSize("Y").height,n.guide.x.tickFormatWordWrapLimit=e.xAxisTickLabelLimit,n.guide.y.tickFormatWordWrapLimit=e.yAxisTickLabelLimit,n}),r},"BUILD-LABELS":function(t,n){var e=wt(t),r=[],i=[],o=null,a=null;return lt(e.unit,"units",_e,function(t,e){if(t.isLeaf)return e;!o&&e.x&&(o=e),!a&&e.y&&(a=e),e.guide=e.guide||{},e.guide.x=e.guide.x||{label:{text:""}},e.guide.y=e.guide.y||{label:{text:""}},e.guide.x.label=kt(e.guide.x.label)?e.guide.x.label:{text:e.guide.x.label&&e.guide.x.label.text?e.guide.x.label.text:""},e.guide.y.label=kt(e.guide.y.label)?e.guide.y.label:{text:e.guide.y.label&&e.guide.y.label.text?e.guide.y.label.text:""},e.x&&(e.guide.x.label.text=e.guide.x.label.text||n.dimension(e.x).dimName),e.y&&(e.guide.y.label.text=e.guide.y.label.text||n.dimension(e.y).dimName);var u=e.guide.x.label.text;u&&(r.push(u),e.guide.x.tickFormatNullAlias=e.guide.x.hasOwnProperty("tickFormatNullAlias")?e.guide.x.tickFormatNullAlias:"No "+u,e.guide.x.label.text="",e.guide.x.label._original_text=u);var c=e.guide.y.label.text;return c&&(i.push(c),e.guide.y.tickFormatNullAlias=e.guide.y.hasOwnProperty("tickFormatNullAlias")?e.guide.y.tickFormatNullAlias:"No "+c,e.guide.y.label.text="",e.guide.y.label._original_text=c),e}),o&&(o.guide.x.label.text=o.guide.x.label.hide?"":r.join(" → ")),a&&(a.guide.y.label.text=a.guide.y.label.hide?"":i.join(" → ")),e},"BUILD-GUIDE":function(t,n,e){var r=wt(t);return Ee(wt(r.unit),r.unit,function(t,r){if(t.isLeaf)return r;var i=!t.isLeaf&&!t.isLeafParent,o=n.scaleMeta(r.x,r.guide.x),a=n.scaleMeta(r.y,r.guide.y),u=!i&&Boolean(o.dimType)&&"measure"!==o.dimType;return r.guide.x.rotate=u?-90:0,r.guide.x.textAnchor=we(r.guide.x.rotate),r.guide.x.tickFormat=r.guide.x.tickFormat||me(o,e.defaultFormats),r.guide.y.tickFormat=r.guide.y.tickFormat||me(a,e.defaultFormats),r.guide.x.padding=i?0:e.xAxisPadding,r.guide.x.paddingNoTicks=r.guide.x.padding,r.guide.y.padding=i?0:e.yAxisPadding,r.guide.y.paddingNoTicks=r.guide.y.padding,r.guide=ke(r.guide,Yt({distToXAxisLabel:o.isEmpty?e.xTickWidth:e.distToXAxisLabel,distToYAxisLabel:a.isEmpty?e.yTickWidth:e.distToYAxisLabel},e),o,a,null,an(r)),r.guide.x=Object.assign(r.guide.x,{cssClass:i?r.guide.x.cssClass+" facet-axis":r.guide.x.cssClass,avoidCollisions:!!i||r.guide.x.avoidCollisions}),r.guide.y=Object.assign(r.guide.y,{cssClass:i?r.guide.y.cssClass+" facet-axis":r.guide.y.cssClass,avoidCollisions:!i&&r.guide.y.avoidCollisions}),r.guide=Object.assign(r.guide,{showGridLines:r.guide.hasOwnProperty("showGridLines")?r.guide.showGridLines:t.isLeafParent?"xy":""}),r}),r},"BUILD-COMPACT":function(t,n,e){var r=wt(t);return Ee(wt(r.unit),r.unit,function(t,r){return t.isLeaf?r:(r.guide.hasOwnProperty("showGridLines")||(r.guide.showGridLines=t.isLeafParent?"xy":""),t.isLeafParent?Se({unit:r,meta:n,settings:Yt({xTickWordWrapLinesLimit:1,yTickWordWrapLinesLimit:1},e),allowXVertical:!0,allowYVertical:!1,inlineLabels:!0}):(r.guide.x.cssClass+=" facet-axis compact",r.guide.x.avoidCollisions=!0,r.guide.y.cssClass+=" facet-axis compact",r.guide.y.avoidCollisions=!0,Se({unit:r,meta:n,settings:Yt({xAxisPadding:0,yAxisPadding:0,distToXAxisLabel:0,distToYAxisLabel:0,xTickWordWrapLinesLimit:1,yTickWordWrapLinesLimit:1},e),allowXVertical:!1,allowYVertical:!0,inlineLabels:!1})))}),r},AUTO:function(t,n,e){return["BUILD-LABELS","BUILD-GUIDE"].reduce(function(t,r){return Ae[r](t,n,e)},t)},COMPACT:function(t,n,e){return["BUILD-LABELS","BUILD-COMPACT"].reduce(function(t,r){return Ae[r](t,n,e)},t)}},Ee=function(t,n,e){var r,i=((r=n).options=r.options||{},r.guide=r.guide||{},r.guide.padding=Yt(r.guide.padding||{},{l:0,b:0,r:0,t:0}),r.guide.x=pe(r.guide,"x"),r.guide.x=ge(r.guide,"x",{cssClass:"x axis",scaleOrient:"bottom",textAnchor:"middle"}),r.guide.y=pe(r.guide,"y",{rotate:-90}),r.guide.y=ge(r.guide,"y",{cssClass:"y axis",scaleOrient:"left",textAnchor:"end"}),r.guide.size=pe(r.guide,"size"),r.guide.color=pe(r.guide,"color"),r),o=Gt(i=function(t,n){var e=n.guide||{},r={x:["label"],y:["label"],size:["label"],color:["label"],padding:[]};return Object.keys(r).forEach(function(n){var i=r[n];!function(t,n,e,r){var i=t.hasOwnProperty(e)?t[e]:{};i=i||{},r.forEach(function(t){Object.assign(n.guide[e][t],i[t])})}(e,t,n,i)}),Object.assign(t.guide,Object.keys(e).reduce(function(t,n){return r.hasOwnProperty(n)||(t[n]=e[n]),t},{})),t}(i=e(_e(i),i),t),"units");return(i.units||[]).forEach(function(t){return Ee(wt(t),(r=o,(n=t).guide=n.guide||{},n.guide.padding=n.guide.padding||{l:0,t:0,r:0,b:0},n.hasOwnProperty("units")||((n=Yt(n,r)).guide=Yt(n.guide,wt(r.guide)),n.guide.x=Yt(n.guide.x,wt(r.guide.x)),n.guide.y=Yt(n.guide.y,wt(r.guide.y))),n),e);var n,r}),i},Te=function(){function t(t){this.spec=t,this.isApplicable=Nt(t.unit)}return t.prototype.transform=function(t){var n=this.spec;if(!this.isApplicable)return n;var e=n.settings.size,r=n.settings.specEngine.find(function(t){return e.width<=t.width||e.height<=t.height});return function(t,n,e,r){var i={dimension:function(t){var n=e.scales[t],r=e.sources[n.source].dims[n.dim]||{};return{dimName:n.dim,dimType:r.type,scaleType:n.type}},scaleMeta:function(t){var n=r("pos",t).domain(),i=e.scales[t],o=e.sources[i.source].dims[i.dim]||{};return{dimName:i.dim,dimType:o.type,scaleType:i.type,values:n,isEmpty:null==o.type}}},o=(Ae[t]||Ae.NONE)({unit:wt(e.unit)},i,n);return e.unit=o.unit,e}(r.name,n.settings,n,function(n,e){return t.getScaleInfo(e||n+":default")})},t}(),Ce=function(){function t(){}return t.optimizeXAxisLabel=function(t,n){var e=n.xAxisTickLabelLimit,r=function(t){if(!t.guide.x.hide&&!t.guide.x.hideTicks&&0!==t.guide.x.rotate){t.guide.x.rotate=0,t.guide.x.textAnchor="middle";var n=0-Math.min(e,t.guide.x.$maxTickTextW)+t.guide.x.$maxTickTextH;i(t,n)}(t.units||[]).filter(function(t){return"COORDS.RECT"===t.type}).forEach(function(t){return r(t)})},i=function(n,e){t!==n&&"extract-axes"===n.guide.autoLayout?(t.guide.x.padding+=e,t.guide.padding.b+=e):(n.guide.x.label.padding+=n.guide.x.label.padding>0?e:0,n.guide.padding.b+=n.guide.padding.b>0?e:0)};r(t)},t.hideAxisTicks=function(t,n,e){var r=function(t){var n="x"===e?"b":"l",i=t.guide;if(!i[e].hide&&!i[e].hideTicks){an(t)&&"y"===e||(i[e].hideTicks=!0);var o=i[e].label.text&&!i[e].label.hide;i.padding[n]=i.paddingNoTicks?i.paddingNoTicks[n]:0,i[e].padding=i[e].paddingNoTicks||0,i[e].label.padding=o?i[e].label.paddingNoTicks:0}(t.units||[]).filter(function(t){return"COORDS.RECT"===t.type}).forEach(function(t){return r(t)})};r(t)},t.facetsLabelsAtTop=function(t,n){var e=function(t){var n=t.units||[];if(an(t)){var r=t.guide;r.y.facetAxis=!0,r.y.rotate=0,r.y.textAnchor="start",n.forEach(function(t){t.guide.padding.t=20})}n.filter(function(t){return"COORDS.RECT"===t.type}).forEach(function(t){return e(t)})};e(t)},t}(),Oe=function(t){return t.$maxTickTextW},Ne=function(t){return 0==t.rotate?t.$maxTickTextW:t.$maxTickTextH},je=function(t){return t.density},ze=function(t){var n=[],e=[],r=function(t){if("COORDS.RECT"===t.type&&t.units&&t.units[0]&&"COORDS.RECT"===t.units[0].type){var i=t.x.replace(/^x_/,""),o=t.y.replace(/^y_/,"");"null"!==i&&n.push(i),"null"!==o&&e.push(o),t.units.forEach(r)}};r(t.unit);var i={},o={},a=function(t){"COORDS.RECT"===t.type&&t.frames.forEach(function(t){t.key&&(Object.keys(t.key).forEach(function(r){n.indexOf(r)>=0&&(i.hasOwnProperty(r)||(i[r]=[]),i[r].indexOf(t.key[r])<0&&i[r].push(t.key[r])),e.indexOf(r)>=0&&(o.hasOwnProperty(r)||(o[r]=[]),o[r].indexOf(t.key[r])<0&&o[r].push(t.key[r]))}),t.units&&t.units.forEach(a))})};return a(t.unit),{xFacetCount:Object.keys(i).reduce(function(t,n){return t*i[n].length},1),yFacetCount:Object.keys(o).reduce(function(t,n){return t*o[n].length},1)}},De={"entire-view":function(t,n,e,r){var i=e.unit.guide,o=ze(e),a=o.xFacetCount,u=o.yFacetCount;u>0&&Ce.facetsLabelsAtTop(e.unit,e.settings);var c=i.paddingNoTicks?i.padding.l-i.paddingNoTicks.l:0,s=i.paddingNoTicks?i.padding.b-i.paddingNoTicks.b:0,l=i.paddingNoTicks&&t.height-s<e.settings.minChartHeight||u*e.settings.minFacetHeight+s>t.height||a*e.settings.minFacetWidth+c>t.width,f=i.paddingNoTicks&&t.width-c<e.settings.minChartWidth||u*e.settings.minFacetHeight+s>t.height||a*e.settings.minFacetWidth+c>t.width;l&&Ce.hideAxisTicks(e.unit,e.settings,"x"),f&&Ce.hideAxisTicks(e.unit,e.settings,"y");var h=t.width;if(n("x",e.unit,Oe)<=t.width)r(e.unit,e.settings);else{var d=n("x",e.unit,Ne);if(d>t.width){var p=Math.max(t.width,n("x",e.unit,je));h=Math.min(d,p)}}var g=Math.max(t.height,n("y",e.unit,je));return!l&&h>t.width&&Ce.hideAxisTicks(e.unit,e.settings,"x"),!f&&g>t.height&&Ce.hideAxisTicks(e.unit,e.settings,"y"),{newW:t.width,newH:t.height}},minimal:function(t,n,e){return{newW:n("x",e.unit,je),newH:n("y",e.unit,je)}},normal:function(t,n,e,r){ze(e).yFacetCount>0&&Ce.facetsLabelsAtTop(e.unit,e.settings);var i=e.unit.guide;i.paddingNoTicks&&(t.width-i.padding.l+i.paddingNoTicks.l<e.settings.minChartWidth&&Ce.hideAxisTicks(e.unit,e.settings,"y"),t.height-i.padding.b+i.paddingNoTicks.b<e.settings.minChartHeight&&Ce.hideAxisTicks(e.unit,e.settings,"x"));var o=t.width;if(n("x",e.unit,Oe)<=t.width)r(e.unit,e.settings);else{var a=n("x",e.unit,Ne);if(a>t.width){var u=Math.max(t.width,n("x",e.unit,je));o=Math.min(a,u)}}return{newW:o,newH:Math.max(t.height,n("y",e.unit,je))}},"fit-width":function(t,n,e,r){var i=e.unit.guide,o=i.paddingNoTicks?i.padding.l-i.paddingNoTicks.l:0;return(i.paddingNoTicks&&t.width-o<e.settings.minChartWidth||ze(e).xFacetCount*e.settings.minFacetWidth+o>t.width)&&Ce.hideAxisTicks(e.unit,e.settings,"y"),n("x",e.unit,Oe)<=t.width&&r(e.unit,e.settings),{newW:t.width,newH:n("y",e.unit,je)}},"fit-height":function(t,n,e){var r=e.unit.guide,i=r.paddingNoTicks?r.padding.b-r.paddingNoTicks.b:0;return(r.paddingNoTicks&&t.height-i<e.settings.minChartHeight||ze(e).yFacetCount*e.settings.minFacetHeight+i>t.height)&&Ce.hideAxisTicks(e.unit,e.settings,"x"),{newW:n("x",e.unit,je),newH:t.height}}},Le=function(){function t(t){this.spec=t,this.isApplicable=Nt(t.unit)}return t.prototype.transform=function(t){var n=this.spec;if(!this.isApplicable)return n;var e=n.settings.fitModel;if(!e)return n;var r=n.scales,i=function(t,n){return t.discrete?n*t.domain().length:4*n},o=function(n,e,a,u){void 0===u&&(u=null);var c="x"===n?e.x:e.y,s="x"===n?e.y:e.x,l=e.guide,f=a("x"===n?l.x:l.y),h=e.units[0],d="x"===n?l.padding.l+l.padding.r:l.padding.b+l.padding.t;if("ELEMENT.INTERVAL"===h.type&&"y"===n===Boolean(h.flip)&&h.label&&!t.getScaleInfo(h.label,u).isEmpty()){var p,g=2*(l.label&&l.label.fontSize?l.label.fontSize:10),_=t.getScaleInfo(c,u);if(_.discrete&&(null==h.guide.enableColorToBarPosition?!h.stack:h.guide.enableColorToBarPosition)){var y=h.color;if(y){var m=t.getScaleInfo(y,u);m.discrete&&(m.domain(),p=m)}}var v=e.frames.reduce(function(t,n){return t+function(t){var n=t.part(),e=Bt(n.map(function(t){return t[_.dim]})).length,r=1;if(p){var i=n.reduce(function(t,n){var e=n[_.dim],r=n[p.dim];return t[e]=t[e]||{},t[e][r]||(t[e][r]=!0),t},{}),o=Object.keys(i).map(function(t){return Object.keys(i[t]).length});r=Math.max.apply(Math,o)}return e*r*g}(n)},0),b=i(_,f);return d+Math.max(v,b)}if("COORDS.RECT"!==h.type){var x=t.getScaleInfo(c,u);return d+i(x,f)}var w,M,k=(w=e.frames,M=r[s].dim,w.reduce(function(t,n){var e=(n.key||{})[M];return t[e]=t[e]||[],t[e].push(n),t},{})),S=Object.keys(k).map(function(t){return k[t].map(function(t){return o(n,t.units[0],a,t)}).reduce(function(t,n){return t+n},0)});return d+Math.max.apply(Math,S)},a=n.settings.size,u=a.width,c=a.height,s=De[e];if(s){var l=s(a,o,n,Ce.optimizeXAxisLabel);u=l.newW,c=l.newH}return n.settings.size=function(e,r,i){var o=n.settings.getScrollbarSize(t.getLayout().contentContainer),a=r.width>e.width&&r.width<=e.width*i?e.width:r.width,u=r.height>e.height&&r.height<=e.height*i?e.height:r.height,c=e.width-a,s=e.height-u>=0?0:o.width;return{height:u-(c>=0?0:o.height),width:a-s}}(a,{width:u,height:c},n.settings.avoidScrollAtRatio),n},t}(),Fe=function(){function t(t){this.spec=t,this.isApplicable=t.settings.autoRatio&&Nt(t.unit)}return t.prototype.transform=function(t){var n=this.spec;if(!this.isApplicable)return n;try{this.ruleApplyRatio(n,t)}catch(t){if("Not applicable"!==t.message)throw t}return n},t.prototype.ruleApplyRatio=function(t,n){var e=function(t){return"COORDS.RECT"===t.type||"RECT"===t.type},r=function(t,n,e,i){void 0===i&&(i=0),n(t,i)&&(t.units||[]).map(function(t){return r(t,n,e,i+1)}),e(t,i)},i=[],o=[];r(t.unit,function(t,n){if(n>1||!e(t))throw new Error("Not applicable");return i.push(t.x),o.push(t.y),1===(t.units||[]).map(function(t){if(!e(t)&&0!==t.type.indexOf("ELEMENT."))throw new Error("Not applicable");return t}).filter(e).length},function(){return 0});var a=function(n){return t.scales[n]},u=function(t){return"/"===t.source&&!t.ratio&&!t.fitToFrameByDims},c=function(t){return"ordinal"===t.type||"period"===t.type&&!t.period},s=i.map(a).filter(u),l=o.map(a).filter(u);if([s.length,l.length].some(function(t){return 2===t})){var f=function(t){return t.dim},h=function(t,n,e){t.fitToFrameByDims=e.slice(0,n).map(f)},d=function(t,e){2===e.filter(c).length&&(e.forEach(h),e[0].ratio=Ot(t,e.map(f),n))};d("x",s),d("y",l)}},t}(),Re=function(){function t(t){this.spec=t,this.isApplicable="EXTRACT"===t.settings.layoutEngine&&Nt(t.unit)}return t.prototype.transform=function(){var t=this.spec;if(!this.isApplicable)return t;try{this.ruleExtractAxes(t)}catch(t){if("Not applicable"!==t.message)throw t;console.log("[TauCharts]: can't extract axes for the given chart specification")}return t},t.prototype.ruleExtractAxes=function(t){var n=function(t){return"COORDS.RECT"===t.type||"RECT"===t.type},e=function(t){return t?10:0},r={l:0,r:10,t:10,b:0},i={l:0,b:0},o=[],a=[];ft(t.unit,function(t,e){if(e>1||!n(t))throw new Error("Not applicable");t.guide=t.guide||{};var u=t.guide,c=u.padding||{l:0,r:0,t:0,b:0},s=u.paddingNoTicks||{l:0,b:0};return r.l+=c.l,r.r+=c.r,r.t+=c.t,r.b+=c.b,i.l+=s.l,i.b+=s.b,o.push(Object.assign({},r)),a.push(Object.assign({},i)),1===(t.units||[]).map(function(t){if(!n(t)&&0!==t.type.indexOf("ELEMENT."))throw new Error("Not applicable");return t}).filter(n).length},function(t){var n=o.pop(),u=a.pop(),c=t.guide||{};c.x=c.x||{},c.x.padding=c.x.padding||0,c.x.paddingNoTicks=c.x.paddingNoTicks||0,c.y=c.y||{},c.y.padding=c.y.padding||0,c.y.paddingNoTicks=c.y.paddingNoTicks||0,c.padding={l:e(t.y),r:e(1),t:e(1),b:e(t.x)},c.paddingNoTicks={l:0,b:0},c.autoLayout="extract-axes",c.x.padding+=r.b-n.b,c.y.padding+=r.l-n.l,c.x.paddingNoTicks+=i.b-u.b,c.y.paddingNoTicks+=i.l-u.l}),t.unit.guide.padding=r,t.unit.guide.paddingNoTicks=i},t}(),Pe=function(){function t(t){var n=void 0===t?{}:t,e=n.src,r=void 0===e?null:e,i=n.timeout,o=void 0===i?Number.MAX_SAFE_INTEGER:i,a=n.syncInterval,u=void 0===a?Number.MAX_SAFE_INTEGER:a,c=n.callbacks,s=void 0===c?{}:c,l=this;this.setTimeoutDuration(o),this.setSyncInterval(u),this.setCallbacks(s),this._running=!1,this._queue=[],this._result=r,this._syncDuration=0,this._asyncDuration=0,this._requestedFrameId=null,this._visibilityChangeHandler=function(){if(l._running&&l._requestedFrameId){var t=l._getCancelFrameFunction(),n=l._getRequestFrameFunction();t(l._requestedFrameId),l._requestedFrameId=n(l._requestedFrameCallback)}},this._tasksCount=0,this._finishedTasksCount=0}return t.prototype.setTimeoutDuration=function(n){t.checkType(n,"number","timeout"),this._timeout=n},t.prototype.setSyncInterval=function(n){t.checkType(n,"number","syncInterval"),this._syncInterval=n},t.prototype.setCallbacks=function(n){t.checkType(n,"object","callbacks"),this._callbacks=Object.assign(this._callbacks||{},n)},t.prototype.addTask=function(t){return this._queue.push(t),this._tasksCount++,this},t.prototype.run=function(){if(this._running)throw new Error("Task Runner is already running");this._running=!0,t.runnersInProgress++,document.addEventListener("visibilitychange",this._visibilityChangeHandler),this._loopTasks()},t.prototype.isRunning=function(){return this._running},t.prototype._loopTasks=function(){for(var n,e,r,i,o=0,a=this._syncInterval/t.runnersInProgress;this._running&&!(r=this._asyncDuration>this._timeout)&&!(i=o>a)&&(n=this._queue.shift());){if(null===(e=this._runTask(n)))return;this._syncDuration+=e,this._asyncDuration+=e,o+=e}r&&this._queue.length>0&&(this.stop(),this._callbacks.timeout&&this._callbacks.timeout.call(null,this._asyncDuration,this)),!r&&i&&this._queue.length>0&&this._requestFrame(),0===this._queue.length&&(this.stop(),this._callbacks.done&&this._callbacks.done.call(null,this._result,this))},t.prototype._runTask=function(t){var n=performance.now();if(this._callbacks.error)try{this._result=t.call(null,this._result,this)}catch(t){return this.stop(),this._callbacks.error.call(null,t,this),null}else this._result=t.call(null,this._result,this);var e=performance.now()-n;return this._finishedTasksCount++,this._callbacks.progress&&this._callbacks.progress.call(null,this._finishedTasksCount/this._tasksCount,this),e},t.prototype._requestFrame=function(){var t=this,n=performance.now(),e=function(){t._requestedFrameId=null;var e=performance.now();t._asyncDuration+=e-n,t._loopTasks()},r=this._getRequestFrameFunction();this._requestedFrameCallback=e,this._requestedFrameId=r(e)},t.prototype._getRequestFrameFunction=function(){var t=this;return document.hidden?function(n){return t._requestedFrameType="idle",window.requestIdleCallback(n,{timeout:17})}:function(n){return t._requestedFrameType="animation",requestAnimationFrame(n)}},t.prototype._getCancelFrameFunction=function(){switch(this._requestedFrameType){case"animation":return function(t){return cancelAnimationFrame(t)};case"idle":return function(t){return window.cancelIdleCallback(t)}}},t.prototype.stop=function(){if(!this._running)throw new Error("Task Runner is already stopped");this._running=!1,t.runnersInProgress--,document.removeEventListener("visibilitychange",this._visibilityChangeHandler),this._requestedFrameId&&(this._getCancelFrameFunction()(this._requestedFrameId),this._requestedFrameId=null)},t.checkType=function(t,n,e){if(typeof t!==n)throw new Error('Task Runner "'+e+'" property is not "'+n+'"')},t.runnersInProgress=0,t}(),Ie=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Be=(Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t})({},a),Ue=mn,He=vn,We=function(t){function n(n){var e=t.call(this)||this;return e._nodes=[],e._svg=null,e._filtersStore={filters:{},tick:0},e._layout=ee(),e.transformers=[Fe,Te],e.onUnitsStructureExpandedTransformers=[Re,Le],e._chartDataModel=function(t){return t},e._reportProgress=null,e._taskRunner=null,e._renderingPhase=null,e.applyConfig(n),e}return Ie(n,t),n.prototype.on=function(n,e,r){return t.prototype.on.call(this,n,e,r)},n.prototype.updateConfig=function(t){this.applyConfig(t),this.refresh()},n.prototype.applyConfig=function(t){this._filtersStore.filters={},t=this.setupConfigSettings(t),this.configGPL=this.createGPLConfig(t),this._originData=Object.assign({},this.configGPL.sources),this._liveSpec=this.configGPL,this._emptyContainer=t.emptyContainer||"",this.setupPlugins(t)},n.prototype.createGPLConfig=function(t){var e;return this.isGPLConfig(t)?e=t:(t=this.setupConfig(t),e=new re(t).convert()),e=n.setupPeriodData(e)},n.prototype.isGPLConfig=function(t){return 2===["sources","scales"].filter(function(n){return t.hasOwnProperty(n)}).length},n.prototype.setupPlugins=function(t){var n=t.plugins||[];this._plugins&&this._plugins.destroy(),this._plugins=new Gn(n,this)},n.prototype.setupConfigSettings=function(t){var e;return this._dataRefs=this._dataRefs||(e=0,{references:new WeakMap,refCounter:function(){return++e}}),t.settings=n.setupSettings(Yt(t.settings||{},this._dataRefs)),t},n.prototype.destroy=function(){this.destroyNodes(),Be.select(this._svg).remove(),Be.select(this._layout.layout).remove(),this._cancelRendering(),t.prototype.destroy.call(this)},n.prototype.setupChartSourceModel=function(t){this._chartDataModel=t},n.prototype.setupConfig=function(t){if(!t.spec||!t.spec.unit)throw new Error("Provide spec for plot");var e=Yt(t,{spec:{},data:[],plugins:[],settings:{}});e.spec.dimensions=n.setupMetaInfo(e.spec.dimensions,e.data);var r=e.settings.log;return e.settings.excludeNull&&this.addFilter({tag:"default",src:"/",predicate:function(t,n){var e=Object.keys(t).reduce(function(n,e){var r=t[e];return r.hasOwnProperty("hasNull")&&!r.hasNull||"measure"!==r.type&&"period"!==r.scale||n.push(e),n},[]);return function(t){var r=!e.some(function(n){return!t.hasOwnProperty(n)||null===t[n]});return r||n(t),r}}(e.spec.dimensions,function(t){return r([t,"point was excluded, because it has undefined values."],"WARN")})}),e},n.setupPeriodData=function(t){var e=n.__api__.tickPeriod,r=t.settings.log;return Object.keys(t.scales).map(function(n){return t.scales[n]}).filter(function(t){return"period"===t.type}).forEach(function(n){e.get(n.period,{utc:t.settings.utcTime})||(r(['Unknown period "'+n.period+'".',"Docs: http://api.taucharts.com/plugins/customticks.html#how-to-add-custom-tick-period"],"WARN"),n.period=null)}),t},n.setupMetaInfo=function(t,n){var e=t||function(t){var n={type:"category",scale:"ordinal"};return t.reduce(function(t,e){return Object.keys(e).forEach(function(r){var i=e.hasOwnProperty(r)?e[r]:null;if(t[r]=t[r]||{type:null,hasNull:!1},null===i)t[r].hasNull=!0;else{var o=function(t,n){var e=n;return Mt(t)?(e.type="measure",e.scale="time"):kt(t)?(e.type="order",e.scale="ordinal"):Number.isFinite(t)&&(e.type="measure",e.scale="linear"),e}(i,wt(n)),a=o.type,u=o.scale,c=null!==t[r].type&&t[r].type!==a;t[r].type=c?n.type:a,t[r].scale=c?n.scale:u}}),t},{})}(n);return function(t){var n={category:"ordinal",order:"ordinal",measure:"linear"},e={};return Object.keys(t).forEach(function(r){var i=t[r],o=(i.type||"category").toLowerCase();e[r]=Object.assign({},i,{type:o,scale:i.scale||n[o],value:i.value})}),e}(e)},n.setupSettings=function(t){var e=n.globalSettings,r=Object.keys(e).reduce(function(t,n){return t[n]="function"==typeof e[n]?e[n]:wt(e[n]),t},{}),i=Yt(t||{},r);return Array.isArray(i.specEngine)||(i.specEngine=[{width:Number.MAX_VALUE,name:i.specEngine}]),i},n.prototype.insertToLeftSidebar=function(t){return sn(t,this._layout.leftSidebar)},n.prototype.insertToRightSidebar=function(t){return sn(t,this._layout.rightSidebar)},n.prototype.insertToFooter=function(t){return sn(t,this._layout.footer)},n.prototype.insertToHeader=function(t){return sn(t,this._layout.header)},n.prototype.addBalloon=function(t){return new Yn("",t||{})},n.prototype.destroyNodes=function(){this._nodes.forEach(function(t){return t.destroy()}),this._nodes=[],this._renderedItems=[]},n.prototype.onUnitDraw=function(t){var n=this;this._nodes.push(t),this.fire("unitdraw",t),["click","mouseover","mouseout"].forEach(function(e){return t.on(e,function(t,r){n.fire("element"+e,{element:t,data:r.data,event:r.event})})})},n.prototype.onUnitsStructureExpanded=function(t){var n=this;this.onUnitsStructureExpandedTransformers.forEach(function(e){return new e(t).transform(n)}),this.fire("unitsstructureexpanded",t)},n.prototype._getClosestElementPerUnit=function(t,n){return this._renderedItems.filter(function(t){return t.getClosestElement}).map(function(e){var r=e.getClosestElement(t,n);return{unit:e.node(),closest:r}})},n.prototype.disablePointerEvents=function(){this._layout.layout.style.pointerEvents="none"},n.prototype.enablePointerEvents=function(){this._layout.layout.style.pointerEvents=""},n.prototype._handlePointerEvent=function(t){var n=this._svg.getBoundingClientRect(),e=t.clientX-n.left,r=t.clientY-n.top,i="click"===t.type?"data-click":"data-hover",o=null,a=null,u=null,c=this._getClosestElementPerUnit(e,r),s=c.filter(function(t){return t.closest}).sort(function(t,n){return t.closest.distance===n.closest.distance?t.closest.secondaryDistance-n.closest.secondaryDistance:t.closest.distance-n.closest.distance});if(s.length>0){var l=s.findIndex(function(t){return t.closest.distance!==s[0].closest.distance||t.closest.secondaryDistance!==s[0].closest.secondaryDistance}),f=l<0?s:s.slice(0,l);if(1===f.length)o=f[0].closest.data,a=f[0].closest.node,u=f[0].unit;else{var h=f.reduce(function(t,n){return t+n.closest.x},0)/f.length,d=f.reduce(function(t,n){return t+n.closest.y},0)/f.length,p=Math.atan2(d-r,h-e)+Math.PI,g=Math.round((f.length-1)*p/2/Math.PI),_=f[g].closest;o=_.data,a=_.node,u=f[g].unit}}c.forEach(function(n){return n.unit.fire(i,{event:t,data:o,node:a,unit:u})})},n.prototype._initPointerEvents=function(){var t=this;this._liveSpec.settings.syncPointerEvents||(this._pointerAnimationFrameId=null);var n=Be.select(this._svg),e=this._liveSpec.settings.syncPointerEvents?function(t){return function(){return t(a.event)}}:function(n){return function(){var e=a.event;t._pointerAnimationFrameId&&"mousemove"!==e.type&&t._cancelPointerAnimationFrame(),t._pointerAnimationFrameId||(t._pointerAnimationFrameId=requestAnimationFrame(function(){t._pointerAnimationFrameId=null,n(e)}))}},r=function(n){return t._handlePointerEvent(n)};n.on("mousemove",e(r)),n.on("click",e(r)),n.on("mouseleave",e(function(n){"none"!==window.getComputedStyle(t._svg).pointerEvents&&t.select(function(){return!0}).forEach(function(t){return t.fire("data-hover",{event:n,data:null,node:null,unit:null})})}))},n.prototype._cancelPointerAnimationFrame=function(){cancelAnimationFrame(this._pointerAnimationFrameId),this._pointerAnimationFrameId=null},n.prototype._setupTaskRunner=function(t){var n=this;return this._resetTaskRunner(),this._taskRunner=new Pe({timeout:t.settings.renderingTimeout||Number.MAX_SAFE_INTEGER,syncInterval:t.settings.asyncRendering?t.settings.syncRenderingInterval:Number.MAX_SAFE_INTEGER,callbacks:{done:function(){n._completeRendering(),n._renderingPhase=null},timeout:function(t,e){n._displayTimeoutWarning({timeout:t,proceed:function(){n.disablePointerEvents(),e.setTimeoutDuration(Number.MAX_SAFE_INTEGER),e.run()},cancel:function(){n._cancelRendering()}}),n.enablePointerEvents(),n.fire("renderingtimeout",t)},progress:function(t){var e={spec:0,draw:1}[n._renderingPhase]/2+t/2;n._reportProgress(e)},error:t.settings.handleRenderingErrors?function(e){n._cancelRendering(),n._displayRenderingError(e),n.fire("renderingerror",e),t.settings.log(["An error occured during chart rendering.",'Set "handleRenderingErrors: false" in chart settings to debug.',"Error message: "+e.message].join(" "),"ERROR")}:null}}),this._taskRunner},n.prototype._resetTaskRunner=function(){this._taskRunner&&this._taskRunner.isRunning()&&(this._taskRunner.stop(),this._taskRunner=null)},n.prototype.renderTo=function(t,n){this._resetProgressLayout(),this.disablePointerEvents(),this._insertLayout(t,n);var e=this._createLiveSpec();if(!e)return this._svg=null,this._layout.content.innerHTML=this._emptyContainer,void this.enablePointerEvents();var r=this._createGPL(e),i=this._setupTaskRunner(e);this._scheduleDrawScenario(i,r),this._scheduleDrawing(i,r),i.run()},n.prototype._insertLayout=function(t,n){this._target=t,this._defaultSize=Object.assign({},n);var e=Be.select(t).node();if(null===e)throw new Error("Target element not found");this._layout.layout.parentNode!==e&&e.appendChild(this._layout.layout);var r=this._layout.content,i=ln(this._layout.contentContainer);this._layout.contentContainer.style.padding="0 "+i.width+"px "+i.height+"px 0",fn(this._layout.rightSidebarContainer,"vertical");var o=Object.assign({},n)||{};if(!o.width||!o.height){var a=r.parentElement,u=a.scrollLeft,c=a.scrollTop;r.style.display="none",o=Yt(o,pn(r.parentNode)),r.style.display="",r.parentElement.scrollLeft=u,r.parentElement.scrollTop=c,o.height||(o.height=pn(this._layout.layout).height)}this.configGPL.settings.size=o},n.prototype._createLiveSpec=function(){var t=this;return this._liveSpec=wt(Gt(this.configGPL,"plugins")),this._liveSpec.sources=this.getDataSources(),this._liveSpec.settings=this.configGPL.settings,this._experimentalSetupAnimationSpeed(this._liveSpec),this.isEmptySources(this._liveSpec.sources)?null:(this._liveSpec=this.transformers.reduce(function(n,e){return new e(n).transform(t)},this._liveSpec),this.destroyNodes(),this.fire("specready",this._liveSpec),this._liveSpec)},n.prototype._experimentalSetupAnimationSpeed=function(t){t.settings.initialAnimationSpeed=t.settings.initialAnimationSpeed||t.settings.animationSpeed;var n=t.settings.experimentalShouldAnimate(t)?t.settings.initialAnimationSpeed:0;t.settings.animationSpeed=n;var e=function(t){t.guide=t.guide||{},t.guide.animationSpeed=n,t.units&&t.units.forEach(e)};e(t.unit)},n.prototype._createGPL=function(t){var n=new Rn(t,this.getScaleFactory(),Vn,M),e=n.unfoldStructure();return this.onUnitsStructureExpanded(e),n},n.prototype._scheduleDrawScenario=function(t,n){var e=this,r=Be.select(this._layout.content),i=n.config.settings.size;t.addTask(function(){return e._renderingPhase="spec"}),n.getDrawScenarioQueue({allocateRect:function(){return{slot:function(t){return r.selectAll(".uid_"+t)},frameId:"root",left:0,top:0,width:i.width,containerWidth:i.width,height:i.height,containerHeight:i.height}}}).forEach(function(n){return t.addTask(n)})},n.prototype._scheduleDrawing=function(t,n){var e=this,r=n.config.settings.size;t.addTask(function(t){e._renderingPhase="draw",e._renderRoot({scenario:t,newSize:r}),e._cancelPointerAnimationFrame(),e._scheduleRenderScenario(t)})},n.prototype._resetProgressLayout=function(){this._createProgressBar(),this._clearRenderingError(),this._clearTimeoutWarning()},n.prototype._renderRoot=function(t){var n=this,e=t.scenario,r=t.newSize,i=Be.select(this._layout.content),o=e[0].config.uid,a=Ue(i,"svg").attr("width",Math.floor(r.width)).attr("height",Math.floor(r.height));a.attr("class")||a.attr("class",Pn+"svg"),this._svg=a.node(),this._initPointerEvents(),this.fire("beforerender",this._svg);var u=a.selectAll("g.frame-root").data([o],function(t){return t});u.enter().append("g").classed(Pn+"cell cell frame-root uid_"+o,!0).merge(u).call(function(t){t.classed("tau-active",!0),$(t,n.configGPL.settings.animationSpeed,"frameRootToggle").attr("opacity",1)}),u.exit().call(function(t){t.classed("tau-active",!1),$(t,n.configGPL.settings.animationSpeed,"frameRootToggle").attr("opacity",1e-6).remove()})},n.prototype._scheduleRenderScenario=function(t){var n=this;t.forEach(function(t){n._taskRunner.addTask(function(){t.draw(),n.onUnitDraw(t.node()),n._renderedItems.push(t)})})},n.prototype._completeRendering=function(){fn(this._layout.contentContainer),this._layout.rightSidebar.style.maxHeight=this._liveSpec.settings.size.height+"px",this.enablePointerEvents(),this._svg&&this.fire("render",this._svg),fn(this._layout.rightSidebarContainer,"vertical")},n.prototype._cancelRendering=function(){this.enablePointerEvents(),this._resetTaskRunner(),this._cancelPointerAnimationFrame()},n.prototype._createProgressBar=function(){var t=Be.select(this._layout.header),n=Ue(t,"div."+Pn+"progress");n.select("div."+Pn+"progress__value").remove();var e=n.append("div").classed(Pn+"progress__value",!0).style("width",0);this._reportProgress=function(t){requestAnimationFrame(function(){n.classed(Pn+"progress_active",t<1),e.style("width",100*t+"%")})}},n.prototype._displayRenderingError=function(t){this._layout.layout.classList.add(Pn+"layout_rendering-error")},n.prototype._clearRenderingError=function(){this._layout.layout.classList.remove(Pn+"layout_rendering-error")},n.prototype.getScaleFactory=function(t){return void 0===t&&(t=null),new Qn($n.instance(this._liveSpec.settings),t||this._liveSpec.sources,this._liveSpec.scales)},n.prototype.getScaleInfo=function(t,n){return void 0===n&&(n=null),this.getScaleFactory().createScaleInfoByName(t,n)},n.prototype.getSourceFiltersIterator=function(t){var n=this,e=It(Object.keys(this._filtersStore.filters).map(function(t){return n._filtersStore.filters[t]})).filter(function(n){return!t(n)}).map(function(t){return t.predicate});return function(t){return e.reduce(function(n,e){return n&&e(t)},!0)}},n.prototype.getDataSources=function(t){var n=this;void 0===t&&(t={});var e=this._chartDataModel(this._originData);return Object.keys(e).filter(function(t){return"?"!==t}).reduce(function(r,i){var o=e[i],a=n.getSourceFiltersIterator(function(n){return function(e){return t.excludeFilter&&-1!==t.excludeFilter.indexOf(e.tag)||e.src!==n}}(i));return r[i]={dims:o.dims,data:o.data.filter(a)},r},{"?":e["?"]})},n.prototype.isEmptySources=function(t){return!Object.keys(t).filter(function(t){return"?"!==t}).filter(function(n){return t[n].data.length>0}).length},n.prototype.getChartModelData=function(t,n){return void 0===t&&(t={}),void 0===n&&(n="/"),this.getDataSources(t)[n].data},n.prototype.getDataDims=function(t){return void 0===t&&(t="/"),this._originData[t].dims},n.prototype.getData=function(t){return void 0===t&&(t="/"),this._originData[t].data},n.prototype.setData=function(t,n){void 0===n&&(n="/"),this._originData[n].data=t,this.refresh()},n.prototype.getSVG=function(){return this._svg},n.prototype.addFilter=function(t){t.src=t.src||"/";var n=t.tag,e=this._filtersStore.filters[n]=this._filtersStore.filters[n]||[],r=this._filtersStore.tick++;return t.id=r,e.push(t),r},n.prototype.removeFilter=function(t){var n=this;return Object.keys(this._filtersStore.filters).map(function(e){n._filtersStore.filters[e]=n._filtersStore.filters[e].filter(function(n){return n.id!==t})}),this},n.prototype.refresh=function(){this._target&&this.renderTo(this._target,this._defaultSize)},n.prototype.resize=function(t){void 0===t&&(t={}),this.renderTo(this._target,t)},n.prototype.select=function(t){return this._nodes.filter(t)},n.prototype.traverseSpec=function(t,n){var e=function(t,n,r,i){n(t,r,i),t.frames?t.frames.forEach(function(r){(r.units||[]).map(function(i){return e(i,n,t,r)})}):(t.units||[]).map(function(r){return e(r,n,t,null)})};e(t.unit,n,null,null)},n.prototype.getSpec=function(){return this._liveSpec},n.prototype.getLayout=function(){return this._layout},n.prototype._displayTimeoutWarning=function(t){var n=this,e=t.proceed,r=t.cancel,i=t.timeout,o=Math.round(100/3/1.5),a=function(t){return Math.round(100/3/1.5*t)};this._layout.content.style.height="100%",this._layout.content.insertAdjacentHTML("beforeend",'\n            <div class="'+Pn+'rendering-timeout-warning">\n            <svg\n                viewBox="0 0 200 100">\n                <text\n                    text-anchor="middle"\n                    font-size="'+o+'">\n                    <tspan x="100" y="'+a(1)+'">Rendering took more than '+Math.round(i)/1e3+'s</tspan>\n                    <tspan x="100" y="'+a(2)+'">Would you like to continue?</tspan>\n                </text>\n                <text\n                    class="'+Pn+'rendering-timeout-continue-btn"\n                    text-anchor="end"\n                    font-size="'+o+'"\n                    cursor="pointer"\n                    text-decoration="underline"\n                    x="'+(100-o/3)+'"\n                    y="'+a(3)+'">\n                    Continue\n                </text>\n                <text\n                    class="'+Pn+'rendering-timeout-cancel-btn"\n                    text-anchor="start"\n                    font-size="'+o+'"\n                    cursor="pointer"\n                    text-decoration="underline"\n                    x="'+(100+o/3)+'"\n                    y="'+a(3)+'">\n                    Cancel\n                </text>\n            </svg>\n            </div>\n        '),this._layout.content.querySelector("."+Pn+"rendering-timeout-continue-btn").addEventListener("click",function(){n._clearTimeoutWarning(),e.call(n)}),this._layout.content.querySelector("."+Pn+"rendering-timeout-cancel-btn").addEventListener("click",function(){n._clearTimeoutWarning(),r.call(n)})},n.prototype._clearTimeoutWarning=function(){var t=He(this._layout.content,"."+Pn+"rendering-timeout-warning");t&&(this._layout.content.removeChild(t),this._layout.content.style.height="")},n}(d),Ye={},Ge={},Xe=function(t){var n="Chart type "+t+" is not supported.";throw console.log(n),console.log("Use one of "+Object.keys(Ye).join(", ")+"."),new b(n,x.NOT_SUPPORTED_TYPE_CHART)},qe={validate:function(t,n){return Ge.hasOwnProperty(t)||Xe(t),Ge[t].reduce(function(t,e){return t.concat(e(n)||[])},[])},get:function(t){var n=Ye[t];return"function"!=typeof n&&Xe(t),n},add:function(t,n,e){return void 0===e&&(e=[]),Ye[t]=n,Ge[t]=e,qe},getAllRegisteredTypes:function(){return Ye}},Ve=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ze=function(t){function n(e){var r=t.call(this,e)||this;return e.autoResize&&n.winAware.push(r),r}return Ve(n,t),n.prototype.applyConfig=function(n){var e=qe.validate(n.type,n);if(e.length>0)throw new Error(e[0]);var r=qe.get(n.type);(n=Yt(n,{autoResize:!0})).settings=We.setupSettings(n.settings),n.dimensions=We.setupMetaInfo(n.dimensions,n.data),t.prototype.applyConfig.call(this,r(n))},n.prototype.destroy=function(){var e=n.winAware.indexOf(this);-1!==e&&n.winAware.splice(e,1),t.prototype.destroy.call(this)},n}(We);function Je(t){return t}Ze.winAware=[],Ze.resizeOnWindowEvent=function(){var t;function n(){t=0;for(var n=0,e=Ze.winAware.length;n<e;n++)Ze.winAware[n].resize()}return function(){!t&&Ze.winAware.length&&(t=window.requestAnimationFrame(n))}}(),window.addEventListener("resize",Ze.resizeOnWindowEvent);var $e=1e-6;function Qe(t){return"translate("+(t+.5)+",0)"}function Ke(t){return"translate(0,"+(t+.5)+")"}var tr={top:1,right:2,bottom:3,left:4};function nr(t){var n=tr[t.scaleGuide.scaleOrient],e=t.scale,r=t.scaleGuide,i=r.label,o=Yt(t,{tickSize:6,tickPadding:3,gridOnly:!1}),a=o.ticksCount,u=o.tickFormat,c=o.tickSize,s=o.tickPadding,l=o.gridOnly,f="linear"===e.scaleType,h="ordinal"===e.scaleType||"period"===e.scaleType,d=n===tr.top||n===tr.bottom,p=n===tr.top||n===tr.left?-1:1,g=d?"x":"y",_=d?"y":"x",y=d?Qe:Ke,m=d?1:-1;return function(o){var v;if(e.ticks){v=e.ticks(a);for(var b=Math.floor(1.25*a);v.length>b&&b>2&&v.length>2;)v=e.ticks(--b)}else v=e.domain();r.hideTicks&&(v=l?v.filter(function(t){return 0==t}):[]);var x=null==u?e.tickFormat?e.tickFormat(a):Je:u,w=Math.max(c,0)+s,M=e.range(),k=M[0]+.5,S=M[M.length-1]+.5,A=(e.bandwidth?function(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return t(e)+n}}:Je)(e);if(r.facetAxis){var E=A;A=function(t){return E(t)-e.stepSize(t)/2}}var T,C=o.selection?o:null,O=C?C.selection():o;function N(t){var e=Rt(r.rotate);if(t.attr("transform",Sn(e)),Math.abs(e/90)%2>0){var i=e<180?1:-1,o=d?.5:-2,a=n===tr.top||n===tr.left?-1:1,u=o*(n===tr.top||n===tr.bottom?a<0?0:.71:.32);t.attr("x",9*i).attr("y",0).attr("dx",d?null:u+"em").attr("dy",u+"em")}}function j(t){!function(t,n){var e=n?-10:20,r=n?0:1,i=n?1:-1,o=[];t.each(function(){var t=q.select(this),n=t.attr("transform").replace("translate(","").replace(" ",",").split(",")[r],e=i*parseFloat(n),a=t.select("text"),u=a.node().getBBox().width/2,c=e-u,s=e+u;o.push({c:e,s:c,e:s,l:0,textRef:a,tickRef:t})});var a,u=o.sort(function(t,n){return t.c-n.c});a=function(t,r,i){var o,a,u,c=t.e>r.s,s=i.s<r.e;if(c||s){r.l=(o=t.l,a={"[T][1]":-1,"[T][-1]":0,"[T][0]":1,"[F][0]":-1},u="["+c.toString().toUpperCase().charAt(0)+"]["+o+"]",a.hasOwnProperty(u)?a[u]:0);var l=r.textRef.size(),f=r.textRef.text();l>1&&(f=f.replace(/([\.]*$)/gi,"")+"...");var h=11*r.l,d=parseFloat(r.textRef.attr("y"))+h,p=n?0:h,g=n?h:0,_=function(t){var n=0;if(!t)return n;var e=t.indexOf("rotate(");if(e>=0){var r=t.indexOf(")",e+7),i=t.substring(e+7,r);n=parseFloat(i.trim())}return n}(r.textRef.attr("transform"));r.textRef.text(function(t,n){return 0===n?f:""}).attr("transform","translate("+p+","+g+") rotate("+_+")");var y={x1:0,x2:0,y1:d+(n?-1:5),y2:e};n||(y.transform="rotate(-90)"),mn(r.tickRef,"line.label-ref").call(ot(y))}else r.tickRef.selectAll("line.label-ref").remove();return r},u.map(function(t,n,e){return a(e[n-1]||{e:-1/0,s:-1/0,l:0},t,e[n+1]||{e:1/0,s:1/0,l:0})})}(t,d)}O.attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===tr.right?"start":n===tr.left?"end":"middle"),l||(T=r.hideTicks||r.hide?[]:[null],en(O.selectAll(".domain").data(T)).then(function(t){return C&&t.exit().transition(C).attr("opacity",0).remove(),t.merge(t.enter().insert("path",".tick").attr("class","domain").attr("opacity",1).attr("stroke","#000"))}).then(function(t){return C?t.transition(C):t}).then(function(t){t.attr("d",n===tr.left||n==tr.right?"M"+p*c+","+k+"H0.5V"+S+"H"+p*c:"M"+k+","+p*c+"V0.5H"+S+"V"+p*c)}));var z=en(O.selectAll(".tick").data(v,function(t){return String(e(t))}).order()).then(function(t){var n=t.exit(),e=t.enter().append("g").attr("class","tick");return{tickExit:n,tickEnter:e,tick:t.merge(e)}}).then(function(t){if(f){var n=e.ticks(),r=e.domain(),i=v.length-1,o=n.length>1&&r[0]*r[1]<0&&-r[0]>(n[1]-n[0])/2&&r[1]>(n[i]-n[i-1])/2;t.tick.classed("zero-tick",function(t){return 0==t&&o})}return t}).result();!function(t){en(t).then(function(t){var n=t.tickEnter,e=t.tickExit,r=t.tick;return C?(n.attr("opacity",$e).attr("transform",function(t){var n=A(t);return y(n)}),{tick:r.transition(C),tickExit:e.transition(C).attr("opacity",$e).attr("transform",function(t){var n=A(t);return isFinite(n)?y(n):this.getAttribute("transform")})}):{tick:r,tickExit:e}}).then(function(t){var n=t.tick;t.tickExit.remove(),n.attr("opacity",1).attr("transform",function(t){return y(A(t))})})}(z),r.facetAxis||function(t){var n=p*c,r=h?function(t){return m*e.stepSize(t)/2}:null;en(t).then(function(t){var e=t.tick,i=t.tickEnter,o=e.select("line"),a=i.append("line").attr("stroke","#000").attr(_+"2",n);return h&&a.attr(g+"1",r).attr(g+"2",r),o.merge(a)}).then(function(t){return C?t.transition(C):t}).then(function(t){t.attr(_+"2",n),h&&t.attr(g+"1",r).attr(g+"2",r)})}(z),h&&l&&h&&v&&v.length&&en(O.selectAll(".extra-tick-line").data([null])).then(function(t){return t.merge(t.enter().insert("line",".tick").attr("class","extra-tick-line").attr("stroke","#000"))}).then(function(t){return C?t.transition(C):t}).then(function(t){t.attr(g+"1",k).attr(g+"2",k).attr(_+"1",0).attr(_+"2",p*c)}),l||(function(i){var o=r.textAnchor,a=p*w,u=n===tr.top?"0em":n===tr.bottom?"0.71em":"0.32em";function c(n){if(r.facetAxis)return n.attr("dx",18-t.position[0]).attr("dy",16)}en(i).then(function(t){var n=t.tick,e=t.tickEnter,r=n.select("text"),i=e.append("text").attr("fill","#000").attr(_,a).attr("dy",u);return N(i),c(i),r.merge(i)}).then(function(t){return t.text(x).attr("text-anchor",o),function(t){var n=function(t){return Math.max(e.stepSize(t),r.tickFormatWordWrapLimit)};r.tickFormatWordWrap?J(t,n,r.tickFormatWordWrapLines,r.tickFontHeight,!d):Z(t,n)}(t),d&&"time"===e.scaleType&&function(t){if(!(v.length<2)){var n=0,e=-1,r=t.nodes();r.forEach(function(t,r){var i=t.textContent||"",o=i.length;o>n&&(n=o,e=r)});var i=A(v[1])-A(v[0]),o=!1;if(e>=0){var a=r[e].getBoundingClientRect();o=i-a.width<8}O.classed(Pn+"time-axis-overflow",o)}}(t),!d||"time"!==e.scaleType&&"linear"!==e.scaleType||function(t){if(0!==v.length){for(var n=v[0],e=v[v.length-1],r=O.node();r&&"svg"!==r.tagName;)r=r.parentNode;var i=r.getBoundingClientRect(),o=O.append("line").attr("x1",A(n)).attr("x2",A(n)).attr("y1",0).attr("y2",1),a=O.append("line").attr("x1",A(e)).attr("x2",A(e)).attr("y1",0).attr("y2",1),u={left:o.node().getBoundingClientRect().left-i.left,right:i.right-a.node().getBoundingClientRect().right};o.remove(),a.remove();var c=function(t,n,e){var r=t.getBoundingClientRect(),i=n>0?"right":"left",o=(A(e),u[i]),a=Math.ceil(r.width/2-o+1);t.setAttribute("dx",String(a>0?-n*a:0))},s=t.filter(function(t){return t===n}).node(),l=t.filter(function(t){return t===e}).node();t.attr("dx",null),c(s,-1,n),c(l,1,e)}}(t),t}).then(function(t){return C?t.transition(C):t}).then(function(t){t.attr(_,a),N(t),c(t),h&&r.avoidCollisions&&(C?C.on("end.fixTickTextCollision",function(){return j(i.tick)}):j(i.tick))})}(z),i.hide||function(){var t=i,n=mn(O,"text.label").attr("class",wn("label",t.cssClass)).attr("transform",Sn(t.rotate)).attr("text-anchor",t.textAnchor);en(n).then(function(t){return C?t.transition(C):t}).then(function(n){var e=m*t.padding,r=Math.abs(S-k),i=d?r:0;n.attr("x",i).attr("y",e).attr("text-anchor","end")});for(var e=t.text.split(" → "),r=e.length-1;r>0;r--)e.splice(r,0," → ");n.selectAll("tspan").data(e).enter().append("tspan").attr("class",function(t,n){return n%2?"label-token-delimiter label-token-delimiter-"+n:"label-token label-token-"+n}).text(function(t){return t}).exit().remove()}())}}function er(t){return nr({scale:t.scale,scaleGuide:t.scaleGuide,ticksCount:t.ticksCount,tickSize:t.tickSize,gridOnly:!0,position:t.position})}var rr=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ir=mn,or=function(t){var n=t<=20?1:.75;return Math.max(2,Math.round(t*n))},ar=function(t){function n(n){var e=t.call(this,n)||this;e.config=n,e.config.guide=Yt(e.config.guide||{},{showGridLines:"xy",padding:{l:50,r:0,t:0,b:50}}),e.config.guide.x=e.config.guide.x||{},e.config.guide.x=Yt(e.config.guide.x,{cssClass:"x axis",textAnchor:"middle",padding:10,hide:!1,scaleOrient:"bottom",rotate:0,density:20,label:{},tickFormatWordWrapLimit:100}),"string"==typeof e.config.guide.x.label&&(e.config.guide.x.label={text:e.config.guide.x.label}),e.config.guide.x.label=Yt(e.config.guide.x.label,{text:"X",rotate:0,padding:40,textAnchor:"middle"}),e.config.guide.y=e.config.guide.y||{},e.config.guide.y=Yt(e.config.guide.y,{cssClass:"y axis",textAnchor:"start",padding:10,hide:!1,scaleOrient:"left",rotate:0,density:20,label:{},tickFormatWordWrapLimit:100}),"string"==typeof e.config.guide.y.label&&(e.config.guide.y.label={text:e.config.guide.y.label}),e.config.guide.y.label=Yt(e.config.guide.y.label,{text:"Y",rotate:-90,padding:20,textAnchor:"middle"});var r=e.config,i=r.guide;if("extract-axes"===i.autoLayout){var o=r.options.containerHeight-(r.options.top+r.options.height);i.x.hide=i.x.hide||Math.floor(o)>0,i.y.hide=i.y.hide||Math.floor(r.options.left)>0}var a=e.config.options,u=e.config.guide.padding;return e.L=a.left+u.l,e.T=a.top+u.t,e.W=a.width-(u.l+u.r),e.H=a.height-(u.t+u.b),e}return rr(n,t),n.prototype.defineGrammarModel=function(t){var n=this.W,e=this.H;return this.xScale=t("pos",this.config.x,[0,n]),this.yScale=t("pos",this.config.y,function(t){return["ordinal","period"].indexOf(t.type)>=0?[0,e]:[e,0]}),this.regScale("x",this.xScale).regScale("y",this.yScale),{scaleX:this.xScale,scaleY:this.yScale,xi:function(){return n/2},yi:function(){return e/2},sizeX:function(){return n},sizeY:function(){return e}}},n.prototype.getGrammarRules=function(){return[function(t){var n=t.scaleX,e=t.scaleY;return{xi:function(e){return e?n(e[n.dim]):t.xi(e)},yi:function(n){return n?e(n[e.dim]):t.yi(n)},sizeX:function(e){return e?n.stepSize(e[n.dim]):t.sizeX(e)},sizeY:function(n){return n?e.stepSize(n[e.dim]):t.sizeY(n)}}}]},n.prototype.createScreenModel=function(t){return t},n.prototype.allocateRect=function(t){var n=this,e=this.screenModel;return{slot:function(t){return n.config.options.container.selectAll(".uid_"+t)},left:e.xi(t)-e.sizeX(t)/2,top:e.yi(t)-e.sizeY(t)/2,width:e.sizeX(t),height:e.sizeY(t),containerWidth:this.W,containerHeight:this.H}},n.prototype.drawFrames=function(t){var n=Object.assign({},this.config),e=n.options,r=this.W,i=this.H;if(n.x=this.xScale,n.y=this.yScale,n.x.scaleObj=this.xScale,n.y.scaleObj=this.yScale,n.x.guide=n.guide.x,n.y.guide=n.guide.y,n.x.guide.label.size=r,n.y.guide.label.size=i,(e.container.attr("transform")?$(e.container,this.config.guide.animationSpeed,"cartesianContainerTransform"):e.container).attr("transform",kn(this.L,this.T)),n.x.guide.hide)this._removeDimAxis(e.container,n.x);else{var o="top"===n.x.guide.scaleOrient?[0,0-n.guide.x.padding]:[0,i+n.guide.x.padding];this._drawDimAxis(e.container,n.x,o,r)}if(n.y.guide.hide)this._removeDimAxis(e.container,n.y);else{var a="right"===n.y.guide.scaleOrient?[r+n.guide.y.padding,0]:[0-n.guide.y.padding,0];this._drawDimAxis(e.container,n.y,a,i)}var u=t.reduce(function(t,n){return t.concat((n.units||[]).map(function(t){return t.uid}))},[]),c=this._drawGrid(e.container,n,r,i,e),s=rt(c,".cell").data(u,function(t){return t});s.enter().append("g").attr("class",function(t){return Pn+"cell cell uid_"+t}).merge(s).classed("tau-active",!0),$(s,this.config.guide.animationSpeed).attr("opacity",1),$(s.exit().classed("tau-active",!1),this.config.guide.animationSpeed).attr("opacity",1e-6).remove()},n.prototype._drawDimAxis=function(t,n,e,r){var i=he.get(n.guide.tickFormat,n.guide.tickFormatNullAlias),a=nr({scale:n.scaleObj,scaleGuide:n.guide,ticksCount:i?or(r/n.guide.density):null,tickFormat:i||null,position:e}),u=this.config.guide.animationSpeed;ir(t,this._getAxisSelector(n)).classed("tau-active",!0).classed(n.guide.cssClass,!0).call(function(t){var n=$(t,u,"axisTransition"),r=t.attr("transform");kn.apply(o,e)!==r&&(r?n:t).attr("transform",kn.apply(o,e)),n.call(a),n.attr("opacity",1)})},n.prototype._removeDimAxis=function(t,n){var e=rt(t,this._getAxisSelector(n)).classed("tau-active",!1);$(e,this.config.guide.animationSpeed,"axisTransition").attr("opacity",1e-6).remove()},n.prototype._getAxisSelector=function(t){return"g."+("h"===An(t.guide.scaleOrient)?"x":"y")+".axis"},n.prototype._drawGrid=function(t,n,e,r){var i=this;return ir(t,"g.grid").attr("transform",kn(0,0)).call(function(t){var o=t,a=i.config.guide.animationSpeed,u=(n.guide.showGridLines||"").toLowerCase();if(u.length>0){var c=ir(o,"g.grid-lines");if(u.indexOf("x")>-1){var s=n.x,l=he.get(s.guide.tickFormat),f=er({scale:s.scaleObj,scaleGuide:s.guide,tickSize:r,ticksCount:l?or(e/s.guide.density):null}),h=ir(c,"g.grid-lines-x");$(h,a).call(f)}if(u.indexOf("y")>-1){var d=n.y,p=(l=he.get(d.guide.tickFormat),er({scale:d.scaleObj,scaleGuide:d.guide,tickSize:-e,ticksCount:l?or(r/d.guide.density):null})),g=ir(c,"g.grid-lines-y");$(g,a).call(p)}}})},n}(g),ur=e(16),cr=e(7),sr=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),lr=(Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t})({},ur,cr,a),fr=function(t){function n(n){var e=t.call(this,n)||this;e.config=n,e.config.guide=Yt(e.config.guide||{},{padding:{l:50,r:50,t:50,b:50},enableBrushing:!1}),e.columnsBrushes={},e.columnsSelections={},e.on("force-brush",function(t,n){return e._forceBrushing(n)});var r=e.config.options,i=e.config.guide.padding;return e.L=r.left+i.l,e.T=r.top+i.t,e.W=r.width-(i.l+i.r),e.H=r.height-(i.t+i.b),e}return sr(n,t),n.prototype.defineGrammarModel=function(t){var n=this.config,e=this.W,r=this.H;this.columnsScalesMap=n.columns.reduce(function(n,e){return n[e]=t("pos",e,[0,r]),n},{});var i=e/(n.columns.length-1),o=n.columns.reduce(function(t,n,e){return t[n]=e*i,t},{});return this.xBase=function(t){return o[t]},this.regScale("columns",this.columnsScalesMap),{}},n.prototype.allocateRect=function(){var t=this;return{slot:function(n){return t.config.options.container.selectAll(".uid_"+n)},left:0,top:0,width:this.W,height:this.H,containerWidth:this.W,containerHeight:this.H}},n.prototype.drawFrames=function(t){var n=this,e=Object.assign({},this.config),r=e.options,i=this._fnDrawGrid(r.container,e,r.frameId,Object.keys(this.columnsScalesMap).reduce(function(t,e){return t.concat([n.columnsScalesMap[e].getHash()])},[]).join("_")),o=i.selectAll(".parent-frame-"+r.frameId).data(t,function(t){return t.hash()});o.exit().remove(),o.enter().append("g").attr("class",function(t){return Pn+"cell cell parent-frame-"+r.frameId+" frame-"+t.hash()}).merge(o).each(function(t){var n,e,i,o;n=r.frameId,e=lr.select(this),i=t,(o=e.selectAll(".layer_"+n).data(i.units,function(t){return t.uid})).exit().remove(),o.enter().append("g").attr("class",function(t){return"layer_"+n+" uid_"+t.uid})});var a=this._fnDrawColumns(i,e);e.guide.enableBrushing&&this._enableBrushing(a)},n.prototype._fnDrawGrid=function(t,n,e,r){var i=t.selectAll(".grid_"+e).data([r],function(t){return t});return i.exit().remove(),i.enter().append("g").attr("class","grid grid_"+e).attr("transform",kn(this.L,this.T)).merge(i)},n.prototype._fnDrawColumns=function(t,n){var e=n.guide.columns||{},r=this.xBase,i=this.columnsScalesMap,o=lr.axisLeft(),a=t.selectAll(".column").data(n.columns,function(t){return t});return a.exit().remove(),a.enter().append("g").attr("class","column").attr("transform",function(t){return kn(r(t),0)}).call(function(t){t.append("g").attr("class","y axis").each(function(t){var n=i[t].dim,r=o.scale(i[t]),a=e[n]||{},u=he.get(a.tickFormat,a.tickFormatNullAlias);null!==u&&r.tickFormat(u),lr.select(this).call(r)}).append("text").attr("class","label").attr("text-anchor","middle").attr("y",-9).text(function(t){return((e[t]||{}).label||{}).text||i[t].dim})}).merge(a)},n.prototype._enableBrushing=function(t){var n=this,e=this.columnsSelections,r=this.columnsScalesMap,i=this.columnsBrushes,o=!0,u=function(t){return t},c=function(t){return t},s=function(){var t=Object.keys(i).find(function(t){return i[t]===a.event.target});if(e[t]=a.event.selection,o){var u=Object.keys(i).filter(function(t){return e[t]}).map(function(t){var n=[];if(r[t].discrete){var i=e[t];n=r[t].domain().filter(function(n){var e=r[t](n);return i[0]<=e&&i[1]>=e})}else{var o=e[t].map(r[t].invert);n=[o[0],o[1]]}return{dim:r[t].dim,func:r[t].discrete?"inset":"between",args:n}});n.fire("brush",u)}};return t.selectAll(".brush").remove(),t.append("g").attr("class","brush").each(function(t){var n=r[t].range();i[t]=lr.brushY().extent([[0,n[0]],[16,n[1]]]).on("start",u).on("brush",s).on("end",c),lr.select(this).classed("brush-"+Ct(t),!0).call(i[t]),o=!1,i[t].move(lr.select(this),n),o=!0}).selectAll("rect").attr("transform","translate(-8,0)").attr("width",16),t},n.prototype._forceBrushing=function(t){void 0===t&&(t={});var n=this.columnsBrushes,e=this.columnsScalesMap;this.columnsSelections,Object.keys(t).filter(function(r){return n[r]&&e[r]&&t[r]}).forEach(function(r){var i=t[r],o=[];if(e[r].discrete){var a=i.map(e[r]).filter(function(t){return t>=0}),u=e[r].stepSize()/2;o=[Math.min.apply(Math,a)-u,Math.max.apply(Math,a)+u]}else o=[i[0],i[1]];var c=Ct(r);n[r](lr.select(".brush-"+c)),n[r].move(lr.select(".brush-"+c),o.map(e[r]))})},n}(g),hr=e(15),dr=e(14),pr=e(4),gr=function(){var t,n=[],e=[],r=1,i=1,o={},a=!1,u=function(t){var r=n.length,i=0,o=n[t].x-e[t].x,a=e[t].y-n[t].y,u=Math.sqrt(o*o+a*a);u>0&&(i+=.2*u),a/=u,i+=(o/=u)>0&&a>0?0:o<0&&a>0?3:o<0&&a<0?6:9;for(var c,s,f,h,d=n[t].x,p=n[t].y-n[t].height+2,g=n[t].x+n[t].width,_=n[t].y+2,y=0;y<r;y++)y!=t&&(l(e[t].x,n[t].x,e[y].x,n[y].x,e[t].y,n[t].y,e[y].y,n[y].y)&&(i+=1),c=n[y].x,f=n[y].y-n[y].height+2,s=n[y].x+n[y].width,h=n[y].y+2,i+=Math.max(0,Math.min(s,g)-Math.max(c,d))*Math.max(0,Math.min(h,_)-Math.max(f,p))*30),c=e[y].x-e[y].r,f=e[y].y-e[y].r,s=e[y].x+e[y].r,h=e[y].y+e[y].r,i+=Math.max(0,Math.min(s,g)-Math.max(c,d))*Math.max(0,Math.min(h,_)-Math.max(f,p))*30;return i},c=function(o){var c,s=Math.floor(Math.random()*n.length),l=n[s].x,f=n[s].y;c=a?t(s,n,e):u(s),n[s].x+=5*(Math.random()-.5),n[s].y+=5*(Math.random()-.5),n[s].x>r&&(n[s].x=l),n[s].x<0&&(n[s].x=l),n[s].y>i&&(n[s].y=f),n[s].y<0&&(n[s].y=f);var h=(a?t(s,n,e):u(s))-c;Math.random()<Math.exp(-h/o)||(n[s].x=l,n[s].y=f)},s=function(o){var c,s=Math.floor(Math.random()*n.length),l=n[s].x,f=n[s].y;c=a?t(s,n,e):u(s);var h=.5*(Math.random()-.5),d=Math.sin(h),p=Math.cos(h);n[s].x-=e[s].x,n[s].y-=e[s].y;var g=n[s].x*p-n[s].y*d,_=n[s].x*d+n[s].y*p;n[s].x=g+e[s].x,n[s].y=_+e[s].y,n[s].x>r&&(n[s].x=l),n[s].x<0&&(n[s].x=l),n[s].y>i&&(n[s].y=f),n[s].y<0&&(n[s].y=f);var y=(a?t(s,n,e):u(s))-c;Math.random()<Math.exp(-y/o)||(n[s].x=l,n[s].y=f)},l=function(t,n,e,r,i,o,a,u){var c,s,l;return s=((n-t)*(i-a)-(o-i)*(t-e))/(l=(u-a)*(n-t)-(r-e)*(o-i)),!((c=((r-e)*(i-a)-(u-a)*(t-e))/l)<0||c>1||s<0||s>1)},f=function(t,n,e){return t-n/e};return o.start=function(t){for(var e=n.length,r=1,i=0;i<t;i++){for(var o=0;o<e;o++)Math.random()<.5?c(r):s(r);r=f(r,1,t)}},o.width=function(t){return arguments.length?(r=t,o):r},o.height=function(t){return arguments.length?(i=t,o):i},o.label=function(t){return arguments.length?(n=t,o):n},o.anchor=function(t){return arguments.length?(e=t,o):e},o.alt_energy=function(n){return arguments.length?(t=n,a=!0,o):u},o.alt_schedule=function(){return arguments.length?o:f},o},_r=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),yr=(Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t})({},u,hr,dr,a),mr=["land","continents","georegions","countries","regions","subunits","states","counties"],vr=function(t){function n(n){var e=t.call(this,n)||this;return e.config=n,e.config.guide=Yt(e.config.guide||{},{defaultFill:"rgba(128,128,128,0.25)",padding:{l:0,r:0,t:0,b:0},showNames:!0}),e.contourToFill=null,e.on("highlight-area",function(t,n){return e._highlightArea(n)}),e.on("highlight-point",function(t,n){return e._highlightPoint(n)}),e.on("highlight",function(t,n){return e._highlightPoint(n)}),e}return _r(n,t),n.prototype.defineGrammarModel=function(t){var n=this.config,e=n.options,r=n.guide.padding,i=e.width-(r.l+r.r),o=e.height-(r.t+r.b);return this.latScale=t("pos",n.latitude,[0,o]),this.lonScale=t("pos",n.longitude,[i,0]),this.sizeScale=t("size",n.size),this.colorScale=t("color",n.color),this.codeScale=t("value",n.code),this.fillScale=t("fill",n.fill),this.W=i,this.H=o,this.regScale("latitude",this.latScale).regScale("longitude",this.lonScale).regScale("size",this.sizeScale).regScale("color",this.colorScale).regScale("code",this.codeScale).regScale("fill",this.fillScale),{}},n.prototype.drawFrames=function(t){var n=this,e=this.config.guide;"string"==typeof e.sourcemap?yr.json(e.sourcemap,function(e,r){if(e)throw e;n._drawMap(t,r)}):this._drawMap(t,e.sourcemap)},n.prototype._calcLabels=function(t,n,e){var r=this.W,i=this.H,o={};return n.forEach(function(n){var a=(pr.feature(t,t.objects[n]).features||[]).map(function(t){var i=t.properties||{},o=e.centroid(t),a=e.bounds(t),u=o[0],c=o[1],s=a[1][0]-a[0][0],l=i.name||"",f=i.abbr||l,h=s<5.5*l.length?f:l,d=s<13.75,p=d?r-u-16.5:0;return{id:n+"-"+t.id,sx:u,sy:c,x:u+p,y:c,width:5.5*h.length,height:10,name:h,r:p,isRef:d}}).filter(function(t){return!Number.isNaN(t.x)&&!Number.isNaN(t.y)}),u=a.map(function(t){return{x:t.sx,y:t.sy,r:t.r}});gr().label(a).anchor(u).width(r).height(i).start(10),a.filter(function(t){return!t.isRef}).map(function(t){return t.x=t.sx,t.y=t.sy,t}).reduce(function(t,n){return t[n.id]=n,t},o);var c=a.filter(function(t){return t.isRef});c.length<6&&c.reduce(function(t,n){return t[n.id]=n,t},o)}),o},n.prototype._drawMap=function(t,n){var e,r,i=this,o=this,u=this.config.guide,c=this.config.options,s=this.config.options.container,l=this.latScale,f=this.lonScale,h=this.sizeScale,d=this.colorScale,p=this.codeScale,g=this.fillScale,_=this.W,y=this.H,m=mr.filter(function(t){return(n.objects||{}).hasOwnProperty(t)});if(0===m.length)throw new Error("Invalid map: should contain some contours");if(g.dim){if(!p.georole)throw console.log("Specify [georole] for code scale"),new Error("[georole] is missing");if(-1===m.indexOf(p.georole))throw console.log('There is no contour for georole "'+p.georole+'"'),console.log("Available contours are: "+m.join(" | ")),new Error("Invalid [georole]");e=p.georole}else e=m[m.length-1];if(this.contourToFill=e,l.dim&&f.dim){var v=yr.extent(l.domain()),b=yr.extent(f.domain());r=[(b[1]+b[0])/2,(v[1]+v[0])/2]}var x=this._createProjection(n,m[0],r),w=yr.geoPath().projection(x),M=s.selectAll(".map-container").data([""+_+y+r+m.join("-")],function(t){return t});M.exit().remove();var k=M.enter().append("g").call(function(t){var e=t;e.attr("class","map-container");var r={},i=m.reduceRight(function(t,n){return t.concat(n)},[]);if(u.showNames&&(r=o._calcLabels(n,i,w)),i.forEach(function(t,i){var o=function(n){return r[t+"-"+n.id]};e.selectAll(".map-contour-"+t).data(pr.feature(n,n.objects[t]).features||[]).enter().append("g").call(function(n){var e=n;e.attr("class","map-contour-"+t+" map-contour-level map-contour-level-"+i).attr("fill","none"),e.append("title").text(function(t){return(t.properties||{}).name}),e.append("path").attr("d",w),e.append("text").attr("class","place-label-"+t).attr("transform",function(t){var n=o(t);return n?"translate("+[n.x,n.y]+")":""}).text(function(t){var n=o(t);return n?n.name:""}),e.append("line").attr("class","place-label-link-"+t).attr("stroke","gray").attr("stroke-width",.25).attr("x1",function(t){var n=o(t);return n&&n.isRef?n.sx:0}).attr("y1",function(t){var n=o(t);return n&&n.isRef?n.sy:0}).attr("x2",function(t){var n=o(t);return n&&n.isRef?n.x-.6*n.name.length*5.5:0}).attr("y2",function(t){var n=o(t);return n&&n.isRef?n.y-3.5:0})})}),n.objects.hasOwnProperty("places")){var a=pr.feature(n,n.objects.places),c=a.features.map(function(t){var n=x(t.geometry.coordinates);return{x:n[0]+3.5,y:n[1]+3.5,width:5.5*t.properties.name.length,height:12,name:t.properties.name}}),s=a.features.map(function(t){var n=x(t.geometry.coordinates);return{x:n[0],y:n[1],r:2.5}});gr().label(c).anchor(s).width(_).height(y).start(100),e.selectAll(".place").data(s).enter().append("circle").attr("class","place").attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).attr("r",function(t){return t.r+"px"}),e.selectAll(".place-label").data(c).enter().append("text").attr("class","place-label").attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).text(function(t){return t.name})}}).merge(M);this.groupByCode=t.reduce(function(t,n){return n.part().reduce(function(t,n){return t[(n[p.dim]||"").toLowerCase()]=n,t},t)},{});var S=this._resolveFeature.bind(this);if(k.selectAll(".map-contour-"+e).data(pr.feature(n,n.objects[e]).features).call(function(t){t.classed("map-contour",!0).attr("fill",function(t){var n=S(t);return null===n?u.defaultFill:g(n[g.dim])})}).on("mouseover",function(t){return i.fire("area-mouseover",{data:S(t),event:a.event})}).on("mouseout",function(t){return i.fire("area-mouseout",{data:S(t),event:a.event})}).on("click",function(t){return i.fire("area-click",{data:S(t),event:a.event})}),!l.dim||!f.dim)return[];var A=function(t){return t.attr("r",function(t){return h(t[h.dim])}).attr("transform",function(t){var n=t.data;return"translate("+x([n[f.dim],n[l.dim]])+")"}).attr("class",function(t){var n=t.data;return d(n[d.dim])}).attr("opacity",.5).on("mouseover",function(t){var n=t.data;return o.fire("point-mouseover",{data:n,event:a.event})}).on("mouseout",function(t){var n=t.data;return o.fire("point-mouseout",{data:n,event:a.event})}).on("click",function(t){var n=t.data;return o.fire("point-click",{data:n,event:a.event})})},E=k.selectAll(".frame").data(t.map(function(t){return{tags:t.key||{},hash:t.hash(),data:t.part()}}),function(t){return t.hash});return E.exit().remove(),E.enter().append("g").merge(E).call(function(t){t.attr("class",function(t){return"frame frame-"+t.hash}).call(function(t){var n=t.selectAll("circle").data(function(t){return t.data.map(function(t){return{data:t,uid:c.uid}})});n.exit().remove(),n.call(A),n.enter().append("circle").call(A)})}),[]},n.prototype._resolveFeature=function(t){var n,e=this.groupByCode,r=t.properties,i=["c1","c2","c3","abbr","name"].filter(function(t){return r.hasOwnProperty(t)&&r[t]&&e.hasOwnProperty(r[t].toLowerCase())});if(0===i.length)n=null;else if(i.length>0){var o=r[i[0]].toLowerCase();n=e[o]}return n},n.prototype._highlightArea=function(t){var n=this,e=this.config.options.container,r=this.contourToFill;e.selectAll(".map-contour-"+r).classed("map-contour-highlighted",function(e){return t(n._resolveFeature(e))})},n.prototype._highlightPoint=function(t){this.config.options.container.selectAll("circle").classed("map-point-highlighted",function(n){var e=n.data;return t(e)}).attr("opacity",function(n){var e=n.data;return t(e)?.5:.1})},n.prototype._createProjection=function(t,n,e){var r=this.W,i=this.H,o=this.config.guide,a=100,u=[r/2,i/2],c=e||t.center,s=o.projection||t.projection||"mercator",l=this._createD3Projection(s,c,a,u),f=yr.geoPath().projection(l).bounds(pr.feature(t,t.objects[n])),h=a*r/(f[1][0]-f[0][0]),d=a*i/(f[1][1]-f[0][1]);return a=h<d?h:d,u=[r-(f[0][0]+f[1][0])/2,i-(f[0][1]+f[1][1])/2],this._createD3Projection(s,c,a,u)},n.prototype._createD3Projection=function(t,n,e,r){var i="geo"+t.substring(0,1).toUpperCase()+t.substring(1),o=yr[i];if(!o)throw console.log('Unknown projection "'+t+'"'),console.log("See available projection types here: https://github.com/mbostock/d3/wiki/Geo-Projections"),new Error('Invalid map: unknown projection "'+t+'"');var a=o();return[{method:"scale",args:e},{method:"center",args:n},{method:"translate",args:r}].filter(function(t){return t.args}).reduce(function(t,n){return t[n.method]&&(t=t[n.method](n.args)),t},a)},n}(g),br=function(t){return function(){return t}},xr=function(){function t(t){this.model=t.model,this.x=t.x||br(0),this.y=t.y||br(0),this.dx=t.dx||br(0),this.dy=t.dy||br(0),this.w=t.w||br(0),this.h=t.h||br(0),this.hide=t.hide||br(!1),this.label=t.label||br(""),this.color=t.color||br(""),this.angle=t.angle||br(0)}return t.seed=function(n,e){var r=e.fontColor,i=e.flip,o=e.formatter,a=e.labelRectSize,u=e.paddingKoeff,c=void 0===u?.5:u,s=i?n.yi:n.xi,l=i?n.xi:n.yi,f=function(t){return o(n.label(t))};return new t({model:n,x:function(t){return s(t)},y:function(t){return l(t)},dy:function(t){return a(f(t)).height*c},w:function(t){return a(f(t)).width},h:function(t){return a(f(t)).height},label:f,color:function(){return r},angle:function(){return 0}})},t.compose=function(n,e){return void 0===e&&(e={}),Object.keys(e).reduce(function(t,n){return t[n]=e[n],t},new t(n))},t}(),wr={},Mr=function(){function t(){}return t.regRule=function(t,n){return wr[t]=n,this},t.getRule=function(t){return wr[t]},t}(),kr=function(t,n,e){return e<n?Math.max(1,Math.floor(e*t.length/n))-1:t.length},Sr=function(t,n){return 0===n?"":t.slice(0,n).replace(/\.+$/g,"")+"…"},Ar=function(t,n){return t.discrete||!t.discrete&&n[t.dim]>=0},Er=function(t,n){return!t.discrete&&n[t.dim]<0},Tr=function(t,n){return t.w(n)/2+Math.floor(t.model.size(n)/5)},Cr=function(t,n){return t.h(n)/2+Math.floor(t.model.size(n)/5)},Or=function(t){return function(n){return{dx:function(e){var r=n.model.scaleY;if("+"===t[2]&&!Ar(r,e))return n.dx(e);if("-"===t[2]&&!Er(r,e))return n.dx(e);var i=t[1],o=t[0]===t[0].toUpperCase()?1:0;return n.dx(e)+i*o*n.model.size(e)/2+i*Tr(n,e)}}}},Nr=function(t){return function(n){return{dy:function(e){var r=n.model.scaleY;if("+"===t[2]&&!Ar(r,e))return n.dy(e);if("-"===t[2]&&!Er(r,e))return n.dy(e);var i=t[1],o=t[0]===t[0].toUpperCase()?1:0;return n.dy(e)+i*o*n.model.size(e)/2+i*Cr(n,e)}}}};Mr.regRule("l",Or(["l",-1,null])).regRule("L",Or(["L",-1,null])).regRule("l+",Or(["l",-1,"+"])).regRule("l-",Or(["l",-1,"-"])).regRule("L+",Or(["L",-1,"+"])).regRule("L-",Or(["L",-1,"-"])).regRule("r",Or(["r",1,null])).regRule("R",Or(["R",1,null])).regRule("r+",Or(["r",1,"+"])).regRule("r-",Or(["r",1,"-"])).regRule("R+",Or(["R",1,"+"])).regRule("R-",Or(["R",1,"-"])).regRule("t",Nr(["t",-1,null])).regRule("T",Nr(["T",-1,null])).regRule("t+",Nr(["t",-1,"+"])).regRule("t-",Nr(["t",-1,"-"])).regRule("T+",Nr(["T",-1,"+"])).regRule("T-",Nr(["T",-1,"-"])).regRule("b",Nr(["b",1,null])).regRule("B",Nr(["B",1,null])).regRule("b+",Nr(["b",1,"+"])).regRule("b-",Nr(["b",1,"-"])).regRule("B+",Nr(["B",1,"+"])).regRule("B-",Nr(["B",1,"-"])).regRule("rotate-on-size-overflow",function(t,n){var e=n.data,r={};return e.reduce(function(n,e){return n+(function(n){return t.model.size(n)<t.w(n)}(e)?1:0)},0)/e.length>.5&&(r={angle:function(){return-90},w:function(n){return t.h(n)},h:function(n){return t.w(n)},dx:function(n){return.5*t.h(n)-2},dy:function(){return 0}}),r}).regRule("hide-by-label-height-vertical",function(t){return{hide:function(n){var e,r;return 0===t.angle(n)?(r=t.h(n),e=Math.abs(t.model.y0(n)-t.model.yi(n))):(r=t.w(n),e=t.model.size(n)),r>e||t.hide(n)}}}).regRule("cut-label-vertical",function(t){return{h:function(n){var e=t.h(n);if(Math.abs(t.angle(n))>0){var r=t.label(n),i=Math.abs(t.model.y0(n)-t.model.yi(n));return kr(r,e,i)<r.length?i:e}return e},w:function(n){var e=t.w(n);if(0===t.angle(n)){var r=t.label(n),i=t.model.size(n);return kr(r,e,i)<r.length?i:e}return e},label:function(n){var e,r;0===t.angle(n)?(e=t.w(n),r=t.model.size(n)):(e=t.h(n),r=Math.abs(t.model.y0(n)-t.model.yi(n)));var i=t.label(n),o=kr(i,e,r);return o<i.length?Sr(i,o):i},dy:function(n){var e=t.dy(n);if(0!==t.angle(n)){var r=t.h(n),i=Math.abs(t.model.y0(n)-t.model.yi(n)),o=t.label(n);return kr(o,r,i)<o.length?i*e/r:e}return e}}}).regRule("cut-outer-label-vertical",function(t){return{h:function(n,e){var r=t.h(n);if(Math.abs(t.angle(n))>0){var i=t.label(n),o=t.model.y0(n)<t.model.yi(n)?e.maxHeight-t.model.yi(n):t.model.yi(n);return kr(i,r,o)<i.length?o:r}return r},w:function(n){var e=t.w(n);if(0===t.angle(n)){var r=t.label(n),i=t.model.size(n);return kr(r,e,i)<r.length?i:e}return e},label:function(n,e){var r,i;0===t.angle(n)?(r=t.w(n),i=t.model.size(n)):(r=t.h(n),i=t.model.y0(n)<t.model.yi(n)?e.maxHeight-t.model.yi(n):t.model.yi(n));var o=t.label(n),a=kr(o,r,i);return a<o.length?Sr(o,a):o},dy:function(n,e){var r=t.dy(n);if(0!==t.angle(n)){var i=t.h(n),o=t.model.y0(n)<t.model.yi(n)?e.maxHeight-t.model.yi(n):t.model.yi(n),a=t.label(n);return kr(a,i,o)<a.length?o*r/i:r}return r}}}).regRule("from-beginning",function(t){var n=function(n){return t.model.y0(n)};return t.model.flip?{x:n}:{y:n}}).regRule("to-end",function(t){var n=function(n){return t.model.yi(n)};return t.model.flip?{x:n}:{y:n}}).regRule("towards",function(t){var n=t.model.flip?Tr:Cr,e=function(e){return function(t,n){return t.model.yi(n)-t.model.y0(n)>=0?1:-1}(t,e)*n(t,e)};return t.model.flip?{dx:e}:{dy:e}}).regRule("inside-start-then-outside-end-horizontal",function(t,n){var e=[Mr.getRule("from-beginning"),Mr.getRule("towards"),Mr.getRule("cut-label-horizontal")].reduce(function(t,e){return xr.compose(t,e(t,n))},t),r=[Mr.getRule("to-end"),Mr.getRule("towards"),Mr.getRule("cut-outer-label-horizontal")].reduce(function(t,e){return xr.compose(t,e(t,n))},t);return Object.assign({},e,["x","dx","hide","label"].reduce(function(t,n){return t[n]=function(t){return(function(t){return e.label(t).length>=r.label(t).length}(t)?e:r)[n](t)},t},{}))}).regRule("inside-start-then-outside-end-vertical",function(t,n){var e=[Mr.getRule("from-beginning"),Mr.getRule("towards"),Mr.getRule("cut-label-vertical")].reduce(function(t,e){return xr.compose(t,e(t,n))},t),r=[Mr.getRule("to-end"),Mr.getRule("towards"),Mr.getRule("cut-outer-label-vertical")].reduce(function(t,e){return xr.compose(t,e(t,n))},t);return Object.assign({},e,["y","dy","hide","label"].reduce(function(t,n){return t[n]=function(t){return(function(t){return e.label(t).length>=r.label(t).length}(t)?e:r)[n](t)},t},{}))}).regRule("outside-then-inside-horizontal",function(t,n){var e=["r+","l-","cut-outer-label-horizontal"].map(Mr.getRule).reduce(function(t,e){return xr.compose(t,e(t,n))},t),r=["r-","l+","hide-by-label-height-horizontal","cut-label-horizontal"].map(Mr.getRule).reduce(function(t,e){return xr.compose(t,e(t,n))},t);return Object.assign({},e,["x","dx","hide","label"].reduce(function(t,n){return t[n]=function(t){return(function(t){return r.label(t).length>e.label(t).length}(t)?r:e)[n](t)},t},{}))}).regRule("outside-then-inside-vertical",function(t,n){var e=["t+","b-","cut-outer-label-vertical"].map(Mr.getRule).reduce(function(t,e){return xr.compose(t,e(t,n))},t),r=["t-","b+","hide-by-label-height-vertical","cut-label-vertical"].map(Mr.getRule).reduce(function(t,e){return xr.compose(t,e(t,n))},t);return Object.assign({},e,["y","dy","hide","label"].reduce(function(t,i){return t[i]=function(t){return(function(t){return r.label(t,n).length>e.label(t,n).length}(t)?r:e)[i](t,n)},t},{}))}).regRule("hide-by-label-height-horizontal",function(t){return{hide:function(n){return t.model.size(n)<t.h(n)||t.hide(n)}}}).regRule("cut-label-horizontal",function(t){return{dx:function(n){var e=t.label(n),r=t.w(n),i=Math.abs(t.model.y0(n)-t.model.yi(n)),o=kr(e,r,i),a=t.dx(n);return o<e.length?i*a/r:a},w:function(n){var e=t.label(n),r=t.w(n),i=Math.abs(t.model.y0(n)-t.model.yi(n));return kr(e,r,i)<e.length?i:r},label:function(n){var e=t.label(n),r=t.w(n),i=Math.abs(t.model.y0(n)-t.model.yi(n)),o=kr(e,r,i);return o<e.length?Sr(e,o):e}}}).regRule("cut-outer-label-horizontal",function(t,n){return{dx:function(e){var r=t.label(e),i=t.w(e),o=t.model.y0(e)<t.model.yi(e)?n.maxWidth-t.model.yi(e):t.model.yi(e),a=kr(r,i,o),u=t.dx(e);return a<r.length?o*u/i:u},w:function(e){var r=t.label(e),i=t.w(e),o=t.model.y0(e)<t.model.yi(e)?n.maxWidth-t.model.yi(e):t.model.yi(e);return kr(r,i,o)<r.length?o:i},label:function(e){var r=t.label(e),i=t.w(e),o=t.model.y0(e)<t.model.yi(e)?n.maxWidth-t.model.yi(e):t.model.yi(e),a=kr(r,i,o);return a<r.length?Sr(r,a):r}}}).regRule("keep-within-diameter-or-top",function(t){return{dy:function(n){return t.model.size(n)/t.w(n)<1?t.dy(n)-t.h(n)/2-t.model.size(n)/2:t.dy(n)}}}).regRule("keep-in-box",function(t,n){var e=n.maxWidth,r=n.maxHeight;return{dx:function(n){var r=t.dx(n),i=t.x(n)+r,o=t.w(n),a=i+o/2,u=0-(i-o/2);if(u>0)return r+u;var c=a-e;return c>0?r-c:r},dy:function(n){var e=t.dy(n),i=t.y(n)+e,o=t.h(n),a=i+o/2;if(0-(i-o/2)>0)return 0;var u=a-r;return u>0?e-u:e}}});var jr=function(){function t(t){this.minError=Number.MAX_VALUE,this.items=t.items,this.revision=this.items.map(function(t){return{i:t.i,x:t.x,y:t.y}}),this.penalties=t.penalties,this.transactor=t.transactor,this.cooling_schedule=t.cooling_schedule||function(t,n,e){return t-n/e}}return t.prototype.energy=function(t){return this.penalties.reduce(function(n,e){return n+e(t)},0)},t.prototype.move=function(t){var n=Math.floor(Math.random()*this.items.length),e=this.transactor(this.items[n]),r=this.energy(n);this.items[n]=e.modify();var i=this.energy(n),o=i-r,a=o<0?1:Math.exp(-o/t);Math.random()>=a?this.items[n]=e.revert():i<this.minError&&(this.minError=i,this.revision=this.items.map(function(t){return{i:t.i,x:t.x,y:t.y}}))},t.prototype.start=function(t){var n=1,e=this.items.length;t:for(var r=0;r<t;r++){for(var i=0;i<e;i++)if(this.move(n),this.minError<=10)break t;n=this.cooling_schedule(n,1,t)}return this.revision},t}(),zr=function(t,n,e,r,i,o,a,u){return En(t,i,n,o,e,a,r,u)},Dr={},Lr=function(){function t(){}return t.reg=function(t,n){return Dr[t]=n,this},t.get=function(t){return Dr[t]},t}();Lr.reg("auto:avoid-label-label-overlap",function(t,n,e){return void 0===e&&(e=1),function(n){var r=t[n].x,i=t[n].y-t[n].h+2,o=t[n].x+t[n].w,a=t[n].y+2;return t.reduce(function(t,u,c){var s=Number(c!==n),l=u.x,f=u.y-u.h+2,h=u.x+u.w,d=u.y+2;return t+s*(Math.max(0,Math.min(h,o)-Math.max(l,r))*Math.max(0,Math.min(d,a)-Math.max(f,i))*e)},0)}}).reg("auto:avoid-label-anchor-overlap",function(t,n,e){return void 0===e&&(e=1),function(n){var r=t[n],i=r.x-r.w/2,o=r.x+r.w/2,a=r.y-r.h/2+2,u=r.y+r.h/2+2;return t.reduce(function(t,n){var r=n.x0-n.size/2,c=n.x0+n.size/2,s=n.y0-n.size/2,l=n.y0+n.size/2;return t+Math.max(0,Math.min(c,o)-Math.max(r,i))*Math.max(0,Math.min(l,u)-Math.max(s,a))*e},0)}}).reg("auto:avoid-label-edges-overlap",function(t,n,e){return void 0===e&&(e=1),function(r){var i=t[r],o=i.x-i.w/2,a=i.x+i.w/2,u=i.y-i.h/2,c=i.y+i.h/2;return n.reduce(function(t,n){var r=zr(o,a,n.x0,n.x1,u,c,n.y0,n.y1),i=zr(o,a,n.x0,n.x1,c,u,n.y0,n.y1);return t+(Number(r)+Number(i))*e},0)}});var Fr=function(t,n,e,r,i,o,a,u){return En(t,i,n,o,e,a,r,u)},Rr=function(){function t(t,n,e,r){var i=r.width,o=r.height,a=r.container;this.container=a,this.model=t,this.flip=n,this.w=i,this.h=o,this.guide=Yt(e||{},{fontFamily:"Helvetica Neue, Segoe UI, Open Sans, Ubuntu, sans-serif",fontWeight:"normal",fontSize:10,fontColor:"#000",hideEqualLabels:!1,position:[],tickFormat:null,tickFormatNullAlias:""})}return t.prototype.draw=function(t){var n=this,e=this.model,r=this.guide,i=xr.seed(e,{fontColor:r.fontColor,flip:n.flip,formatter:he.get(r.tickFormat,r.tickFormatNullAlias),labelRectSize:function(t){return _n(t,r)}}),o={maxWidth:n.w,maxHeight:n.h,data:t.reduce(function(t,n){return t.concat(n)},[])},a=r.position.filter(function(t){return-1===t.indexOf("auto:")}).map(Mr.getRule).reduce(function(t,n){return xr.compose(t,n(t,o))},i),u=t.reduce(function(t,n){var e=n.map(function(t){return{data:t,x:a.x(t)+a.dx(t),y:a.y(t)+a.dy(t),w:a.w(t),h:a.h(t,o),hide:a.hide(t),extr:null,size:a.model.size(t),angle:a.angle(t),label:a.label(t),color:a.color(t)}});return t.text=t.text.concat(e),t.edges=t.edges.concat(function(t,n){for(var e=t.length-1,r=[],i=0;i<=e;i++){var o=0===i?i:i-1,a=i,u=i===e?i:i+1;r.push(n(t[o],t[a],t[u]))}return r}(e,function(t,n,e){return n.y===Math.max(n.y,t.y,e.y)?n.extr="min":n.y===Math.min(n.y,t.y,e.y)?n.extr="max":n.extr="norm",{x0:t.x,x1:n.x,y0:t.y,y1:n.y}})),t},{text:[],edges:[]});u.text=u.text.filter(function(t){return t.label}).map(function(t,n){return Object.assign(t,{i:n})});var c=this.guide.position.filter(function(t){return 0===t.indexOf("auto:avoid")});u=u.text.length>0&&c.length>0?this.autoPosition(u,c):u;var s=this.guide.position.reduce(function(t,n){return Object.assign(t,((e={})[n]=!0,e));var e},{});u.text=u.text=s["auto:adjust-on-label-overflow"]?this.adjustOnOverflow(u.text,o):u.text,u.text=s["auto:hide-on-label-edges-overlap"]?this.hideOnLabelEdgesOverlap(u.text,u.edges):u.text,u.text=s["auto:hide-on-label-label-overlap"]?this.hideOnLabelLabelOverlap(u.text):u.text,u.text=s["auto:hide-on-label-anchor-overlap"]?this.hideOnLabelAnchorOverlap(u.text):u.text;var l=u.text,f=function(t){return function(n,e){return l[e][t]}},h=f("x"),d=f("y"),p=f("angle"),g=f("color"),_=f("label"),y=function(t){t.style("fill",g).style("font-size",n.guide.fontSize+"px").style("display",function(t,n){return l[n].hide?"none":null}).attr("class","i-role-label").attr("text-anchor","middle").attr("transform",function(t,n){return"translate("+h(t,n)+","+d(t,n)+") rotate("+p(t,n)+")"}).text(_)};r.hideEqualLabels&&l.filter(function(t){return!t.hide}).filter(function(t,n,e){return n<e.length-1&&t.label===e[n+1].label}).forEach(function(t){return t.hide=!0});var m=this.container.selectAll(".i-role-label").data(l.map(function(t){return t.data}));return m.exit().remove(),m.call(y),m.enter().append("text").call(y),m},t.prototype.autoPosition=function(t,n){var e=function(t,n){var e=4+(t.size+t.w)/2,r=2+(t.size+t.h)/2;return{x:e*Math.cos(n),y:r*Math.sin(n)}},r=t.edges,i=t.text.map(function(t){var n={max:-Math.PI/2,min:Math.PI/2,norm:Math.random()*Math.PI*2},r=e(t,n[t.extr]);return{i:t.i,x0:t.x,y0:t.y,x:t.x+r.x,y:t.y+r.y,w:t.w,h:t.h,size:t.size,hide:t.hide,extr:t.extr}}).filter(function(t){return!t.hide}),o=new jr({items:i,transactor:function(t){var n=t.x,r=t.y;return{modify:function(){var n={max:-Math.PI,min:Math.PI,norm:2*Math.PI}[t.extr],r=n/4+Math.random()*(2*n)/4,i=e(t,r);return t.x=t.x0+i.x,t.y=t.y0+i.y,t},revert:function(){return t.x=n,t.y=r,t}}},penalties:n.map(function(t){return Lr.get(t)}).filter(function(t){return t}).map(function(t){return t(i,r)})}).start(5);return t.text=o.reduce(function(t,n){var e=t[n.i];return e.x=n.x,e.y=n.y,t},t.text),t},t.prototype.hideOnLabelEdgesOverlap=function(t,n){var e=this;return t.filter(function(t){return!t.hide}).forEach(function(t){(function(t,n){var r=e.getLabelRect(t);return n.reduce(function(t,n){var e=Fr(r.x0,r.x1,n.x0,n.x1,r.y0,r.y1,n.y0,n.y1),i=Fr(r.x0,r.x1,n.x0,n.x1,r.y1,r.y0,n.y0,n.y1);return t+2*(Number(e)+Number(i))},0)})(t,n)>0&&(t.hide=!0)}),t},t.prototype.hideOnLabelLabelOverlap=function(t){var n=this,e={min:0,max:1,norm:2},r={"min/min":function(t,n){return n.y-t.y},"max/max":function(t,n){return t.y-n.y},"min/max":function(){return-1},"min/norm":function(){return-1},"max/norm":function(){return-1},"norm/norm":function(t,n){return t.y-n.y}};return t.filter(function(t){return!t.hide}).sort(function(t,n){return e[t.extr]-e[n.extr]}).forEach(function(i){t.forEach(function(t){i.i!==t.i&&function(t,i){var o=n.getLabelRect(t),a=n.getLabelRect(i),u=Number(!t.hide&&!i.hide);if(u*Math.max(0,Math.min(a.x1,o.x1)-Math.max(o.x0,a.x0))*(u*Math.max(0,Math.min(a.y1,o.y1)-Math.max(o.y0,a.y0)))>0){var c=[t,i];c.sort(function(t,n){return e[t.extr]-e[n.extr]}),(r[c[0].extr+"/"+c[1].extr](c[0],c[1])<0?c[0]:c[1]).hide=!0}}(i,t)})}),t},t.prototype.getLabelRect=function(t,n){return void 0===n&&(n=0),{x0:t.x-t.w/2-n,x1:t.x+t.w/2+n,y0:t.y-t.h/2-n,y1:t.y+t.h/2+n}},t.prototype.getPointRect=function(t,n){return void 0===n&&(n=0),{x0:t.x-t.size/2-n,x1:t.x+t.size/2+n,y0:t.y-t.size/2-n,y1:t.y+t.size/2+n}},t.prototype.hideOnLabelAnchorOverlap=function(t){var n=this,e=function(t,e){var r=n.getLabelRect(t,2),i=n.getPointRect(e,2);return Math.max(0,Math.min(i.x1,r.x1)-Math.max(i.x0,r.x0))*Math.max(0,Math.min(i.y1,r.y1)-Math.max(i.y0,r.y0))>.001};return t.filter(function(t){return!t.hide}).forEach(function(n){for(var r=t.length,i=0;i<r;i++){var o=t[i];if(n.i!==o.i&&e(n,o)){n.hide=!0;break}}}),t},t.prototype.adjustOnOverflow=function(t,n){var e=n.maxWidth,r=n.maxHeight;return t.map(function(t){return t.hide||(t.x=Math.min(Math.max(t.x,t.w/2),e-t.w/2),t.y=Math.max(Math.min(t.y,r-t.h/2),t.h/2)),t})},t}(),Pr=e(13),Ir=(Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t})({},Pr,a),Br={init:function(t){var n=Object.assign({},t);n.guide=Yt(n.guide||{},{animationSpeed:0,avoidScalesOverflow:!0,enableColorToBarPosition:!1,maxHighlightDistance:32}),n.guide.size=n.guide.size||{},n.guide.label=Yt(n.guide.label||{},{position:["auto:avoid-label-label-overlap","auto:avoid-label-anchor-overlap","auto:adjust-on-label-overflow","auto:hide-on-label-label-overlap","auto:hide-on-label-anchor-overlap"]});var e=n.guide.avoidScalesOverflow,r=n.guide.enableColorToBarPosition;return n.transformRules=[function(t){var n=[t.scaleX,t.scaleY].sort(function(t,n){var e=t.discrete?1:0;return(n.discrete?1:0)*n.domain().length-e*t.domain().length})[0];return t.scaleY===n?M.get("flip")(t):M.get("identity")(t)},n.stack&&M.get("stack"),r&&M.get("positioningByColor")].filter(function(t){return t}),n.adjustRules=[n.stack&&M.get("adjustYScale"),function(t,e){var r=t.scaleSize.isEmptyScale(),i=Yt(n.guide.size,{defMinSize:10,defMaxSize:r?10:40,enableDistributeEvenly:!r}),o=Object.assign({},e,{defMin:i.defMinSize,defMax:i.defMaxSize,minLimit:i.minSize,maxLimit:i.maxSize});return(i.enableDistributeEvenly?M.get("adjustSigmaSizeScale"):M.get("adjustStaticSizeScale"))(t,o)},e&&function(t,n){var e=Object.assign({},n,{sizeDirection:"xy"});return M.get("avoidScalesOverflow")(t,e)}].filter(function(t){return t}),n},addInteraction:function(){var t=this,n=this.node();n.on("highlight",function(n,e){return t.highlight(e)}),n.on("data-hover",function(n,e){return t.highlight((r=e.data,function(t){return t===r||null}));var r})},draw:function(){var t=this.node(),n=t.config,e=n.options;e.container=e.slot(n.uid);var r,i=function(t){return $(t,n.guide.animationSpeed)},o=Pn+"dot dot i-role-element i-role-datum",a=t.screenModel,u={fill:function(t){return a.color(t)},class:function(t){return o+" "+a.class(t)}},c={r:function(t){return Math.round(1e4*a.size(t)/2)/1e4},cx:function(t){return a.x(t)},cy:function(t){return a.y(t)}},s=[],l=a.toFibers();this._getGroupOrder=(r=l.reduce(function(t,n,e){return t.set(n,e),t},new Map),function(t){return r.get(t)});var f=e.container.selectAll(".frame").data(l,function(t){return a.group(t[0])});f.enter().append("g").attr("opacity",0).merge(f).call(function(n){n.attr("class","frame").call(function(n){var e=n.selectAll("circle").data(function(t){return t},a.id),r=e.enter().append("circle").call(ot(c)).merge(e).call(ot(u));i(r).call(ot(c)),i(e.exit()).attr("r",0).remove(),s.push.apply(s,r.nodes()),t.subscribe(r)}),i(n).attr("opacity",1)}),this._boundsInfo=this._getBoundsInfo(s),i(f.exit()).attr("opacity",0).remove().selectAll("circle").attr("r",0),t.subscribe(new Rr(a.model,a.flip,n.guide.label,e).draw(l))},_getBoundsInfo:function(t){if(0===t.length)return null;var n=this.node().screenModel,e=t.map(function(t){var e=Ir.select(t).data()[0];return{node:t,data:e,x:n.x(e),y:n.y(e),r:n.size(e)/2}}).filter(function(t){return!isNaN(t.x)&&!isNaN(t.y)}),r=e.reduce(function(t,n){var e=n.x,r=n.y;return t.left=Math.min(e,t.left),t.right=Math.max(e,t.right),t.top=Math.min(r,t.top),t.bottom=Math.max(r,t.bottom),t},{left:Number.MAX_VALUE,right:Number.MIN_VALUE,top:Number.MAX_VALUE,bottom:Number.MIN_VALUE}),i=e.reduce(function(t,n){var e=n.x+","+n.y;return t[e]||(t[e]=[]),t[e].push(n),t},{});return{bounds:r,tree:Ir.quadtree().x(function(t){return t[0].x}).y(function(t){return t[0].y}).addAll(Object.keys(i).map(function(t){return i[t]}))}},getClosestElement:function(t,n){if(!this._boundsInfo)return null;var e=this._boundsInfo,r=e.bounds,i=e.tree,o=Tn(this.node().config.options.container.node()),a=t-o.x,u=n-o.y,c=this.node().config.guide.maxHighlightDistance;if(a<r.left-c||a>r.right+c||u<r.top-c||u>r.bottom+c)return null;var s=(i.find(a,u)||[]).map(function(t){var n=Math.sqrt(Math.pow(a-t.x,2)+Math.pow(u-t.y,2));if(n>c)return null;var e=n<t.r?t.r-n:n;return{node:t.node,data:t.data,x:t.x,y:t.y,distance:n,secondaryDistance:e}}).filter(function(t){return t}).sort(function(t,n){return t.secondaryDistance-n.secondaryDistance}),l=s.findIndex(function(t){return t.distance!==s[0].distance||t.secondaryDistance!==s[0].secondaryDistance}),f=l<0?s:s.slice(0,l);if(1===f.length)return f[0];var h=f.reduce(function(t,n){return t+n.x},0)/f.length,d=f.reduce(function(t,n){return t+n.y},0)/f.length,p=Math.atan2(d-u,h-a)+Math.PI;return f[Math.round((f.length-1)*p/2/Math.PI)]},highlight:function(t){var n,e=this.node().config.options.container,r=((n={})["tau-chart__highlighted"]=function(n){return!0===t(n)},n["tau-chart__dimmed"]=function(n){return!1===t(n)},n);e.selectAll(".dot").call(at(r)),e.selectAll(".i-role-label").call(at(r)),this._sortElements(t)},_sortElements:function(t){var n=this,e=this.node().config.options.container,r=new Map,i=new Map;e.selectAll(".frame").each(function(n){r.set(this,n.some(t)),i.set(this,n)});var o=qt(function(t,n){return r.get(t)-r.get(n)},function(t,e){return n._getGroupOrder(i.get(t))-n._getGroupOrder(i.get(e))});xn(e.node(),function(t,n){return"g"===t.tagName&&"g"===n.tagName?o(t,n):t.tagName.localeCompare(n.tagName)}),Cn(e,".dot",t)}},Ur=e(6),Hr="taucharts_synthetic_record";function Wr(t){return!0!==t[Hr]}function Yr(t){return function(n){var e=t.stack,r=n.scaleX.period,i="linear"===n.scaleY.scaleType,o=!t.guide.x||null==t.guide.x.fillGaps;return!o&&t.guide.x.fillGaps||o&&(e||r&&i)?M.get("fillGaps")(n,{isStack:e,xPeriod:r,utc:t.guide.utcTime}):{}}}function Gr(t){if(0===t.length)return"";if(1===t.length)return qr(t[0]);for(var n=[],e=1;e<t.length;e++)n.push(Vr(t[e-1],t[e]));return n.join(" ")}function Xr(t){if(0===t.length)return"";if(1===t.length)return qr(t[0]);for(var n=[],e=3;e<t.length;e+=3)n.push(Zr(t[e-3],t[e-2],t[e-1],t[e]));return n.join(" ")}function qr(t){var n=t.size/2;return["M"+t.x+","+(t.y-n),"A"+n+","+n+" 0 0 1",t.x+","+(t.y+n),"A"+n+","+n+" 0 0 1",t.x+","+(t.y-n),"Z"].join(" ")}function Vr(t,n){var e=ei(t,n);return e?["M"+e.left[0].x+","+e.left[0].y,"L"+e.left[1].x+","+e.left[1].y,"A"+n.size/2+","+n.size/2+" 0 "+Number(t.size<n.size)+" 1",e.right[1].x+","+e.right[1].y,"L"+e.right[0].x+","+e.right[0].y,"A"+t.size/2+","+t.size/2+" 0 "+Number(t.size>n.size)+" 1",e.left[0].x+","+e.left[0].y,"Z"].join(" "):qr(t.size>n.size?t:n)}function Zr(t,n,e,r){var i=function(t,n,e,r){var i=Qr(t,r);if(0===i||i+t.size/2<=r.size/2||i+r.size/2<=t.size/2)return null;var o=function(i){var o=i?[r,e,n,t]:[t,n,e,r],a=ti.apply(void 0,[1/12*2].concat(o)),u=ti.apply(void 0,[.5].concat(a.slice(0,4))),c=u[3],s=u[6],l=ei(o[0],c),f=ei(c,s),h=[l.left[0],A(.5,l.left[1],f.left[0]),f.left[1]],d=[l.right[0],A(.5,l.right[1],f.right[0]),f.right[1]],p=ni.apply(void 0,h)[1],g=ni.apply(void 0,d)[1],_=A(4,l.left[0],p),y=A(4,l.right[0],g);return{left:i?[y,d[0]]:[h[0],_],right:i?[_,h[0]]:[d[0],y]}},a=o(!1),u=o(!0);return{left:a.left.concat(u.left),right:a.right.concat(u.right)}}(t,n,e,r);if(!i)return Vr(t,r);var o=$r(Jr(t,i.right[0]),Jr(t,i.left[0])),a=$r(Jr(r,i.right[1]),Jr(r,i.left[1]));return["M"+i.left[0].x+","+i.left[0].y,"C"+i.left[1].x+","+i.left[1].y,i.left[2].x+","+i.left[2].y,i.left[3].x+","+i.left[3].y,"A"+r.size/2+","+r.size/2+" 0 "+Number(o>Math.PI)+" 1",i.right[3].x+","+i.right[3].y,"C"+i.right[2].x+","+i.right[2].y,i.right[1].x+","+i.right[1].y,i.right[0].x+","+i.right[0].y,"A"+t.size/2+","+t.size/2+" 0 "+Number(a>Math.PI)+" 1",i.left[0].x+","+i.left[0].y,"Z"].join(" ")}function Jr(t,n){return Math.atan2(n.y-t.y,n.x-t.x)}function $r(t,n){return n<t&&(n+=2*Math.PI),n-t}function Qr(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var e=0,r=1;r<t.length;r++)e+=Math.sqrt((t[r].x-t[r-1].x)*(t[r].x-t[r-1].x)+(t[r].y-t[r-1].y)*(t[r].y-t[r-1].y));return e}function Kr(t,n,e){return{x:t.x+n*Math.cos(e),y:t.y+n*Math.sin(e)}}function ti(t,n,e,r,i){var o=E(t,n,e,r,i),a=1/(1+Qr(o[3],o[4],o[5],o[6],o[3])/Qr(o[0],o[1],o[2],o[3],o[0]));return o[3].size=n.size*(1-a)+i.size*a,o}function ni(t,n,e){return[t,A(2,A(Qr(t,n)/Qr(t,n,e),t,e),n),e]}function ei(t,n){var e=Qr(t,n);if(0===e||e+t.size/2<=n.size/2||e+n.size/2<=t.size/2)return null;var r=Jr(t,n),i=Math.asin((t.size-n.size)/e/2),o=r-Math.PI/2+i,a=r+Math.PI/2-i;return{left:[Kr(t,t.size/2,o),Kr(n,n.size/2,o)],right:[Kr(t,t.size/2,a),Kr(n,n.size/2,a)]}}var ri=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},ii={circle:{element:"circle",getInitialAttrs:function(t,n){var e=t.config.guide,r=t.screenModel;return{r:"hover"===e.showAnchors?0:function(t){return r.size(t)/2},cx:function(t){return n.x(t)},cy:function(t){return n.y(t)}}},getHighlightAttrs:function(t,n,e){t.config.guide;var r=t.screenModel;return{r:"hover"===t.config.guide.showAnchors?function(t){return e(t)?Math.max(4,r.size(t)/2):0}:function(t){var n=r.size(t)/2;return e(t)&&(n=Math.max(4,Math.ceil(1.25*n))),n}}}},"vertical-stick":{element:"path",getInitialAttrs:function(t,n){var e=t.config.guide,r=t.screenModel;return{"shape-rendering":"crispEdges",d:function(t){var i=n.x(t),o=n.y(t),a=n.x0(t),u=n.y0(t),c="hover"===e.showAnchors?0:r.size(t)/2;return Gr([{x:i,y:o,size:c},{x:a,y:u,size:c}])}}},getHighlightAttrs:function(t,n,e){t.config.guide;var r=t.screenModel,i="hover"===t.config.guide.showAnchors;return{d:function(t){var o=n.x(t),a=n.y(t),u=n.x0(t),c=n.y0(t),s=i?e(t)?Math.max(4,r.size(t)/2):0:e(t)?Math.max(4,Math.ceil(r.size(t)/2*1.25)):r.size(t)/2;return Gr([{x:o,y:a,size:s},{x:u,y:c,size:s}])}}}}};function oi(t,n,e){var r=e.sort(function(t,n){return t.distance===n.distance?t.secondaryDistance-n.secondaryDistance:t.distance-n.distance}),i=r.findIndex(function(t){return t.distance!==r[0].distance||t.secondaryDistance!==r[0].secondaryDistance}),o=i<0?r:r.slice(0,i);if(1===o.length)return o[0];var a=o.reduce(function(t,n){return t+n.x},0)/o.length,u=o.reduce(function(t,n){return t+n.y},0)/o.length,c=Math.atan2(u-n,a-t)+Math.PI;return o[Math.round((o.length-1)*c/2/Math.PI)]}var ai=Pn+"dot-line dot-line i-role-dot i-role-datum "+Pn+"dot",ui={init:function(t){var n=t;return n.guide=Yt(n.guide||{},{animationSpeed:0,cssClass:"",maxHighlightDistance:32,widthCssClass:"",color:{},label:{}}),n.guide.label=Yt(n.guide.label,{fontSize:11,hideEqualLabels:!0,position:["auto:avoid-label-label-overlap","auto:avoid-label-anchor-overlap","auto:avoid-label-edges-overlap","auto:adjust-on-label-overflow","auto:hide-on-label-label-overlap","auto:hide-on-label-edges-overlap"]}),n.guide.color=Yt(n.guide.color||{},{fill:null}),["never","hover","always"].indexOf(n.guide.showAnchors)<0&&(n.guide.showAnchors="hover"),n.transformRules=[],n.adjustRules=[],n},baseModel:function(t){var n={gog:t.model,x:t.x,y:t.y,x0:t.x0,y0:t.y0,size:t.size,group:t.group,order:t.order,color:t.color,class:t.class,groupAttributes:{},pathAttributesUpdateInit:{},pathAttributesUpdateDone:{},pathAttributesEnterInit:{},pathAttributesEnterDone:{},pathElement:null,dotAttributes:{r:function(t){return Math.round(1e4*n.size(t)/2)/1e4},cx:function(t){return n.x(t)},cy:function(t){return n.y(t)},fill:function(t){return n.color(t)},class:function(t){return ai+" "+n.class(t)}},dotAttributesDefault:{r:0,cy:function(t){return n.y0(t)}}};return n},addInteraction:function(){var t=this,n=this.node(),e=this.node().config;n.on("highlight",function(n,e){return t.highlight(e)}),n.on("highlight-data-points",function(n,e){return t.highlightDataPoints(e)}),"never"!==e.guide.showAnchors&&n.on("data-hover",function(n,e){return t.highlightDataPoints((r=e.data,function(t){return t===r||null}));var r})},draw:function(){var t=this.node(),n=t.config,e=n.guide,r=n.options;r.container=r.slot(n.uid);var i=t.screenModel,o=this.buildModel(i);this.domElementModel=o;var u=et,c=function(r){r.call(ot(o.groupAttributes));var c,s=r.selectAll((c=ai,c.split(/\s+/g).map(function(t){return"."+t}).join(""))).data(function(t){return t.length<=1?t:[]},i.id);s.exit().call(u(e.animationSpeed,null,{r:0},function(t){return a.select(t).remove()})),s.call(u(e.animationSpeed,null,o.dotAttributes));var l=s.enter().append("circle").call(u(e.animationSpeed,o.dotAttributesDefault,o.dotAttributes)).merge(s);t.subscribe(l);var f=r.selectAll(o.pathElement+":not(.i-data-anchor)").data(function(t){return t.length>1?[t]:[]},h);if(f.exit().remove(),f.call(u(e.animationSpeed,o.pathAttributesUpdateInit,o.pathAttributesUpdateDone,o.afterPathUpdate)),f.enter().append(o.pathElement).call(u(e.animationSpeed,o.pathAttributesEnterInit,o.pathAttributesEnterDone,o.afterPathUpdate)).merge(f).call(function(t){n.guide.animationSpeed>0&&!document.hidden?(t.attr(o.pathTween.attr,function(t){return o.pathTween.fn.call(this,t)(0)}),$(t,n.guide.animationSpeed,"pathTransition").attrTween(o.pathTween.attr,o.pathTween.fn)):t.attr(o.pathTween.attr,function(t){return o.pathTween.fn.call(this,t)(1)})}),t.subscribe(l),"never"!==e.showAnchors){var d=function(t,n,e){var r=n.anchorShape,i=t.config.guide,o=t.screenModel,a=ri({},ii[r].getInitialAttrs(t,n),{opacity:"hover"===i.showAnchors?0:1,fill:function(t){return o.color(t)},class:"i-data-anchor"}),u=e.selectAll(".i-data-anchor").data(function(t){return t.filter(Wr)},o.id);return u.exit().remove(),u.call(et(i.animationSpeed,null,a)),u.enter().append(ii[n.anchorShape].element).call(et(i.animationSpeed,{r:0},a)).merge(u)}(t,o,r);t.subscribe(d)}},s=i.toFibers(),l=s.map(function(t){return t.filter(Wr)}),f=r.container.selectAll(".frame"),h=function(){var t=f.empty()?[]:f.data(),n=new Map;f.each(function(t){n.set(t,Number(this.getAttribute("data-id")))});var e=t.reduce(function(t,n){return t.set(n,n.map(i.id)),t},new Map),r=new Map,o=Math.max.apply(Math,[0].concat(Array.from(n.values())));return function(t){if(r.has(t))return r.get(t);var a,u=t.map(function(t){return i.id(t)}),c=(Array.from(e.entries()).find(function(t){var n=t[1];return u.some(function(t){return n.some(function(n){return n===t})})})||[null])[0];return a=c?n.get(c):++o,r.set(t,a),a}}();this._getDataSetId=h;var d=f.data(s,h);d.exit().remove(),d.call(c),d.enter().append("g").attr("data-id",h).call(c),d.order(),this._boundsInfo=this._getBoundsInfo(r.container.selectAll(".i-data-anchor").nodes()),t.subscribe(new Rr(i.model,n.flip,n.guide.label,r).draw(l))},_getBoundsInfo:function(t){if(0===t.length)return null;var n=this.node().screenModel,e=this.node().config.flip,r=t.map(function(t){var e=a.select(t).data()[0];return{node:t,data:e,x:n.x(e),y:n.y(e)}}).filter(function(t){return!isNaN(t.x)&&!isNaN(t.y)}),i=r.reduce(function(t,n){var e=n.x,r=n.y;return t.left=Math.min(e,t.left),t.right=Math.max(e,t.right),t.top=Math.min(r,t.top),t.bottom=Math.max(r,t.bottom),t},{left:Number.MAX_VALUE,right:Number.MIN_VALUE,top:Number.MAX_VALUE,bottom:Number.MIN_VALUE}),o=Bt(r.map(e?function(t){return t.y}:function(t){return t.x})).sort(function(t,n){return t-n}),u=o.reduce(function(t,n){return t[n]=[],t},{});r.forEach(function(t){var n=o.find(e?function(n){return t.y===n}:function(n){return t.x===n});u[n].push(t)});var c=function(t){if(1===t.length)return u[t[0]];var n=Math.ceil(t.length/2);return{middle:(t[n-1]+t[n])/2,lower:c(t.slice(0,n)),greater:c(t.slice(n))}};return{bounds:i,tree:c(o)}},getClosestElement:function(t,n){if(!this._boundsInfo)return null;var e=this._boundsInfo,r=e.bounds,i=e.tree,o=this.node().config.options.container,a=this.node().config.flip,u=Tn(o.node()),c=this.node().config.guide.maxHighlightDistance;if(t<r.left+u.x-c||t>r.right+u.x+c||n<r.top+u.y-c||n>r.bottom+u.y+c)return null;var s=a?n-u.y:t-u.x,l=function t(n){return Array.isArray(n)?n:t(s>n.middle?n.greater:n.lower)}(i).map(function(e){var r=e.x+u.x,i=e.y+u.y,o=Math.abs(a?n-i:t-r),c=Math.abs(a?t-r:n-i);return{node:e.node,data:e.data,distance:o,secondaryDistance:c,x:r,y:i}});return oi(t,n,l)},highlight:function(t){var n=this.node().config.options.container,e="tau-chart__highlighted",r="tau-chart__dimmed",i=n.selectAll(".i-role-path"),o=i.data().filter(function(n){return n.filter(Wr).some(t)}),a=o.length>0;i.call(at(((u={})[e]=function(t){return a&&o.indexOf(t)>=0},u[r]=function(t){return a&&o.indexOf(t)<0},u)));var u,c,s=((c={})[e]=function(n){return!0===t(n)},c[r]=function(n){return!1===t(n)},c);n.selectAll(".i-role-dot").call(at(s)),n.selectAll(".i-role-label").call(at(s)),this._sortElements(t)},highlightDataPoints:function(t){var n=this.node(),e=function(t,n,e){var r=n.anchorShape,i=t.screenModel,o="hover"===t.config.guide.showAnchors;return t.config.options.container.selectAll(".i-data-anchor").call(ot(ii[r].getHighlightAttrs(t,n,e))).attr("opacity",o?function(t){return e(t)?1:0}:function(){return 1}).attr("fill",function(t){return i.color(t)}).attr("class",function(t){return wn("i-data-anchor",i.class(t))}).classed(Pn+"highlighted",e)}(n,this.domElementModel,t),r=n.config.options.container,i=n.config.flip,o=e.filter(t),a=r.select(".cursor-line");if(o.empty())a.remove();else{a.empty()&&(a=r.append("line"));var u=n.screenModel.model,c=u.xi(o.data()[0]),s=u.xi(o.data()[0]),l=u.scaleY.domain(),f=u.scaleY(l[0]),h=u.scaleY(l[1]);a.attr("class","cursor-line").attr("x1",i?f:c).attr("y1",i?c:f).attr("x2",i?h:s).attr("y2",i?s:h)}this._sortElements(t)},_sortElements:function(t){var n=this.node().config.options.container,e=new Map,r=new Map,i=this._getDataSetId;n.selectAll(".i-role-path").each(function(n){e.set(this,i(n)),r.set(this,n.filter(Wr).some(t))});var o=qt(function(t,n){return r.get(t)-r.get(n)},function(t,n){return e.get(t)-e.get(n)}),a={line:0,g:1,text:2};xn(n.node(),function(t,n){return"g"===t.tagName&&"g"===n.tagName?o(t,n):a[t.tagName]-a[n.tagName]})}},ci=[1,2,3,4,5],si=ci.map(function(t){return Pn+"line-opacity-"+t}),li=ci.map(function(t){return Pn+"line-width-"+t});function fi(t){return si[t-1]||si[4]}function hi(t,n){return t.length<2?"":String.prototype.concat.apply("",t.concat(n.slice().reverse()).map(function(t,n){return(0===n?"":" ")+t.x+","+t.y}))}function di(t,n){if(t.length<2)return"";var e=function(t){var n=t.map(function(t,n){return((n-1)%3==0?"C":"")+t.x+","+t.y+" "});return String.prototype.concat.apply("",n)};return"M"+e(t)+"L"+e(n.slice().reverse())+"Z"}var pi=(Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t})({},Ur,a),gi={draw:ui.draw,highlight:ui.highlight,highlightDataPoints:ui.highlightDataPoints,addInteraction:ui.addInteraction,_sortElements:ui._sortElements,init:function(t){var n=ui.init(t),e=n.stack;return n.transformRules=[n.flip&&M.get("flip"),n.guide.obsoleteVerticalStackOrder&&M.get("obsoleteVerticalStackOrder"),!e&&M.get("groupOrderByAvg"),Yr(n),e&&M.get("stack")],n.adjustRules=[function(t,e){var r=t.scaleSize.isEmptyScale(),i=Yt(n.guide.size||{},{defMinSize:2,defMaxSize:r?6:40}),o=Object.assign({},e,{defMin:i.defMinSize,defMax:i.defMaxSize,minLimit:i.minSize,maxLimit:i.maxSize});return M.get("adjustStaticSizeScale")(t,o)}],n},buildModel:function(t){var n=ui.baseModel(t),e=this.node().config.guide,r=fi(t.model.scaleColor.domain().length),i=Pn+"area area i-role-path "+r+" "+e.cssClass+" ";n.groupAttributes={class:function(t){return i+" "+n.class(t[0])+" frame"}};var o={fill:function(t){return n.color(t[0])},stroke:function(t){var e=n.color(t[0]);return e.length>0&&(e=pi.rgb(e).darker(1)),e}};n.pathAttributesEnterInit=o,n.pathAttributesUpdateDone=o;var a="polyline"===X(e.interpolate);return n.pathElement=a?"polygon":"path",n.anchorShape="vertical-stick",n.pathTween={attr:a?"points":"d",fn:it(0,a?hi:di,[function(e){return{id:t.id(e),x:n.x(e),y:n.y(e)}},function(e){return{id:t.id(e),x:n.x0(e),y:n.y0(e)}}],t.id,e.interpolate)},n},_getBoundsInfo:function(t){if(0===t.length)return null;var n,e,r=this.node().screenModel,i=this.node().config.flip,o=t.map(function(t){var n=pi.select(t).data()[0];return{node:t,data:n,x:r.x(n),y:r.y(n),y0:r.y0(n),group:r.group(n)}}),a=o.reduce(function(t,n){var e=n.x,r=n.y,i=n.y0;return t.left=Math.min(e,t.left),t.right=Math.max(e,t.right),t.top=Math.min(r,i,t.top),t.bottom=Math.max(r,i,t.bottom),t},{left:Number.MAX_VALUE,right:Number.MIN_VALUE,top:Number.MAX_VALUE,bottom:Number.MIN_VALUE}),u=Bt(o.map(i?function(t){return t.y}:function(t){return t.x})).sort(function(t,n){return t-n}),c=u.reduce(function(t,n){return t[n]=[],t},{});if(o.forEach(function(t){var n=u.find(i?function(n){return t.y===n}:function(n){return t.x===n});c[n].push(t)}),n=Object.keys(o.reduce(function(t,n){return t[n.group]=!0,t},{})),e=n.reduce(function(t,n,e){return t[n]=e,t},{}),u.forEach(function(t){var r=c[t];if(r.sort(function(t,n){return e[t.group]-e[n.group]}),r.length<n.length)for(var i=0;i<n.length;i++){var o=!1,a=void 0,u=void 0;if(i===r.length?(a=u=0===i?0:r[i-1].y,o=!0):r[i].group!==n[i]&&(a=u=r[i].y0,o=!0),o){var s={x:t,y:a,y0:u,data:null,node:null,group:n[i]};r.splice(i,0,s)}}}),1===u.length)return{bounds:a,tree:{start:u[0],end:u[0],isLeaf:!0,items:{start:c[u[0]],end:c[u[0]]}}};var s=function(t){if(2===t.length){var n=t[0],e=t[1];return{start:n,end:e,isLeaf:!0,items:{start:c[n],end:c[e]}}}var r=t.length%2==0?t.length/2:(t.length-1)/2;return t[r],{start:t[0],end:t[t.length-1],isLeaf:!1,left:s(t.slice(0,r+1)),right:s(t.slice(r))}};return{bounds:a,tree:s(u)}},getClosestElement:function(t,n){if(!this._boundsInfo)return null;var e=this._boundsInfo,r=e.bounds,i=e.tree,o=this.node().config.options.container,a=this.node().config.flip,u=Tn(o.node()),c=this.node().config.guide.maxHighlightDistance;if(t<r.left+u.x-c||t>r.right+u.x+c||n<r.top+u.y-c||n>r.bottom+u.y+c)return null;var s=a?n-u.y:t-u.x,l=function t(n){if(n.isLeaf)return n;var e=n.left.end;return t(s<e?n.left:n.right)}(i),f=l.end===l.start?0:(s-l.start)/(l.end-l.start);f<0&&(f=0),f>1&&(f=1);var h,d=(h=l.items.start.reduce(function(t,n){return t[n.group]={start:n,end:null,y:null,y0:null},t},{}),l.items.end.forEach(function(t){void 0!==h[t.group]?h[t.group].end=t:delete h[t.group]}),Object.keys(h).forEach(function(t){var n=h[t];n.end?(n.y=n.start.y+f*(n.end.y-n.start.y),n.y0=n.start.y0+f*(n.end.y0-n.start.y0)):delete h[t]}),Object.keys(h).map(function(t){return h[t]}).map(function(t){return{y:t.y,y0:t.y0,el:f<.5?t.start:t.end}}).filter(function(t){return null!=t.el.data})),p=n-u.y,g=d.filter(function(t){return p>=t.y&&p<=t.y0}),_=(g.length>0?g:d).map(function(t){return t.el}).map(function(e){var r=e.x+u.x,i=e.y+u.y,o=Math.abs(a?n-i:t-r),c=Math.abs(a?t-r:n-i);return{node:e.node,data:e.data,distance:o,secondaryDistance:c,x:r,y:i}});return oi(t,n,_)}},_i={draw:ui.draw,getClosestElement:ui.getClosestElement,highlight:ui.highlight,highlightDataPoints:ui.highlightDataPoints,addInteraction:ui.addInteraction,_getBoundsInfo:ui._getBoundsInfo,_sortElements:ui._sortElements,init:function(t){var n=ui.init(t);return n.transformRules=[n.flip&&M.get("flip")],n.adjustRules=[function(t,e){var r=t.scaleSize.isEmptyScale(),i=Yt(n.guide.size||{},{defMinSize:2,defMaxSize:r?6:40}),o=Object.assign({},e,{defMin:i.defMinSize,defMax:i.defMaxSize,minLimit:i.minSize,maxLimit:i.maxSize});return M.get("adjustStaticSizeScale")(t,o)}],n},buildModel:function(t){var n=ui.baseModel(t),e=this.node().config.guide,r=fi(t.model.scaleColor.domain().length),i=Pn+"area area i-role-path "+r+" "+e.cssClass+" ";n.groupAttributes={class:function(t){return i+" "+n.class(t[0])+" frame"}};var o,a,u={fill:function(t){return n.color(t[0])},stroke:function(t){return n.color(t[0])}};return n.pathAttributesEnterInit=u,n.pathAttributesUpdateDone=u,n.pathElement="polygon",n.anchorShape="circle",n.pathTween={attr:"points",fn:it(0,(o=function(t){return t.x},a=function(t){return t.y},function(t){return t.map(function(t){return[o(t),a(t)].join(",")}).join(" ")}),[function(e){return{id:t.id(e),x:n.x(e),y:n.y(e)}}],t.id)},n}};function yi(t){if(t.length<2)return"";for(var n="",e=0;e<t.length;e++)n+=(0===e?"M":" L")+t[e].x+","+t[e].y;return n}function mi(t){if(t.length<4)return"";for(var n="M"+t[0].x+","+t[0].y,e=3;e<t.length;e+=3)n+=" C"+t[e-2].x+","+t[e-2].y+" "+t[e-1].x+","+t[e-1].y+" "+t[e].x+","+t[e].y;return n}var vi={draw:ui.draw,getClosestElement:ui.getClosestElement,highlight:ui.highlight,highlightDataPoints:ui.highlightDataPoints,addInteraction:ui.addInteraction,_getBoundsInfo:ui._getBoundsInfo,_sortElements:ui._sortElements,init:function(t){var n=ui.init(t),e=n.stack;n.guide=Yt(n.guide||{},{avoidScalesOverflow:!0,interpolate:"linear"}),n.transformRules=[n.flip&&M.get("flip"),!e&&M.get("groupOrderByAvg"),Yr(n),e&&M.get("stack")];var r=n.guide.avoidScalesOverflow,i=function(t){return t.scaleSize.isEmptyScale()};return n.adjustRules=[function(t,e){var r=Yt(n.guide.size||{},{defMinSize:2,defMaxSize:i(t)?6:40}),o=Object.assign({},e,{defMin:r.defMinSize,defMax:r.defMaxSize,minLimit:r.minSize,maxLimit:r.maxSize});return M.get("adjustStaticSizeScale")(t,o)},r&&function(t,n){if(i(t))return function(){return{}};var e=Object.assign({},n,{sizeDirection:"xy"});return M.get("avoidScalesOverflow")(t,e)}].filter(function(t){return t}),n},buildModel:function(t){var n,e,r=this.node().config,i=r.guide,o=r.options,a=!t.model.scaleSize.dim,u=a?i.widthCssClass||(n=o.width,e=0,n>=160&&n<320?e=1:n>=320&&n<480?e=2:n>=480&&n<640?e=3:n>=640&&(e=4),li[e]):"",c=fi(t.model.scaleColor.domain().length),s=a?"line":"area",l=""+Pn+s+" "+s+" i-role-path "+u+" "+c+" "+i.cssClass+" ",f=a?{stroke:function(t){return d.color(t[0])},class:"i-role-datum"}:{fill:function(t){return d.color(t[0])}},h="cubic"===X(i.interpolate)?a?mi:Xr:a?yi:Gr,d=ui.baseModel(t),p=a?function(n){return{id:t.id(n),x:d.x(n),y:d.y(n)}}:function(n){return{id:t.id(n),x:d.x(n),y:d.y(n),size:d.size(n)}};return d.groupAttributes={class:function(t){return l+" "+d.class(t[0])+" frame"}},d.pathElement="path",d.anchorShape="circle",d.pathAttributesEnterInit=f,d.pathAttributesUpdateDone=f,d.pathTween={attr:"d",fn:it(0,h,[p],t.id,i.interpolate)},d}},bi=function(t){return a.select(t).data()[0]},xi={init:function(t){var n=Object.assign({},t);n.guide=n.guide||{},n.guide=Yt(n.guide,{animationSpeed:0,avoidScalesOverflow:!0,maxHighlightDistance:32,prettify:!0,sortByBarHeight:!0,enableColorToBarPosition:null!=n.guide.enableColorToBarPosition?n.guide.enableColorToBarPosition:!n.stack}),n.guide.size=Yt(n.guide.size||{},{enableDistributeEvenly:!0}),n.guide.label=Yt(n.guide.label||{},{position:n.flip?n.stack?["r-","l+","hide-by-label-height-horizontal","cut-label-horizontal"]:["outside-then-inside-horizontal","auto:hide-on-label-label-overlap"]:n.stack?["rotate-on-size-overflow","t-","b+","hide-by-label-height-vertical","cut-label-vertical","auto:hide-on-label-label-overlap"]:["rotate-on-size-overflow","outside-then-inside-vertical","auto:hide-on-label-label-overlap"]});var e=n.guide.avoidScalesOverflow,r=n.guide.enableColorToBarPosition,i=n.guide.size.enableDistributeEvenly;return n.transformRules=[n.flip&&M.get("flip"),n.guide.obsoleteVerticalStackOrder&&M.get("obsoleteVerticalStackOrder"),n.stack&&M.get("stack"),r&&M.get("positioningByColor")].filter(function(t){return t}),n.adjustRules=[i&&function(t,e){var r=Yt(n.guide.size||{},{defMinSize:n.guide.prettify?3:0,defMaxSize:n.guide.prettify?40:Number.MAX_VALUE}),i=Object.assign({},e,{defMin:r.defMinSize,defMax:r.defMaxSize,minLimit:r.minSize,maxLimit:r.maxSize});return M.get("size_distribute_evenly")(t,i)},e&&i&&function(t,n){var e=Object.assign({},n,{sizeDirection:"x"});return M.get("avoidScalesOverflow")(t,e)},n.stack&&M.get("adjustYScale")].filter(function(t){return t}),n},addInteraction:function(){var t=this,n=this.node();n.on("highlight",function(n,e){return t.highlight(e)}),n.on("data-hover",function(n,e){return t.highlight((r=e.data,function(t){return t===r||null}));var r})},draw:function(){var t=this.node(),n=t.config,e=n.options;e.container=e.slot(n.uid);var r=n.guide.prettify,i="i-role-element i-role-datum bar "+Pn+"bar",o=t.screenModel,u=this.buildModel(o,{prettify:r,minBarH:1,minBarW:1,baseCssClass:i}),c=et,s=n.flip?"y":"x",l=n.flip?"x":"y",f=n.flip?"width":"height",h=n.flip?"height":"width",d=o.toFibers(),p=d.reduce(function(t,n){return t.concat(n)},[]),g=u.class,_=Gt(u,"class"),y=e.container.selectAll(".bar").data(p,o.id);y.exit().classed("tau-removing",!0).call(c(n.guide.animationSpeed,null,((x={})[s]=function(){var t=a.select(this);return t.attr(s)-0+(t.attr(h)-0)/2},x[l]=function(){return this.getAttribute("data-zero")},x[h]=0,x[f]=0,x),function(t){var n=a.select(t);n.classed("tau-removing")&&n.remove()})),y.call(c(n.guide.animationSpeed,null,_));var m=y.enter().append("rect").call(c(n.guide.animationSpeed,(w={},w[l]=o[l+"0"],w[f]=0,w),_)).merge(y).attr("class",g).attr("data-zero",o[l+"0"]);t.subscribe(new Rr(o.model,o.model.flip,n.guide.label,e).draw(d));var v,b=(v=p.reduce(function(t,n,e){return t.set(n,e+1),t},new Map),function(t,n){return(v.get(bi(t))||-1)-(v.get(bi(n))||-1)});this._barsSorter=n.guide.sortByBarHeight?n.flip?function(t,n){var e=bi(t),r=bi(n),i=u.width(e),o=u.width(r);if(i===o){var a=u.y(e),c=u.y(r);return a===c?b(t,n):a-c}return o-i}:function(t,n){var e=bi(t),r=bi(n),i=u.height(e),o=u.height(r);if(i===o){var a=u.x(e),c=u.x(r);return a===c?b(t,n):a-c}return o-i}:b;var x,w,M={rect:0,text:1};this._typeSorter=function(t,n){return M[t.tagName]-M[n.tagName]},this._sortElements(this._typeSorter,this._barsSorter),t.subscribe(m),this._boundsInfo=this._getBoundsInfo(m.nodes())},buildModel:function(t,n){var e,r=n.prettify,i=n.minBarH,o=n.minBarW,a=n.baseCssClass,u=function(n){var e=t.size(n);return r&&(e=Math.max(o,e)),e},c=function(n){return n[t.model.scaleY.dim]};if(t.flip){var s=function(n){return Math.abs(t.x(n)-t.x0(n))};e={y:function(n){return t.y(n)-.5*u(n)},x:function(n){var e=Math.min(t.x0(n),t.x(n));if(r){var o=s(n),a=c(n),u=0;return 0===a&&(u=0),a>0&&(u=o),a<0&&(u=0-i),o<i?e+u:e}return e},height:function(t){return u(t)},width:function(t){var n=s(t);return r?0===c(t)?n:Math.max(i,n):n}}}else{var l=function(n){return Math.abs(t.y(n)-t.y0(n))};e={x:function(n){return t.x(n)-.5*u(n)},y:function(n){var e=Math.min(t.y0(n),t.y(n));return r&&(e=l(n)<i&&c(n)>0?e-i:e),e},width:function(t){return u(t)},height:function(t){var n=l(t);return r&&(n=0===c(t)?n:Math.max(i,n)),n}}}return Object.assign(e,{class:function(n){return a+" "+t.class(n)},fill:function(n){return t.color(n)}})},_sortElements:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];xn(this.node().config.options.container.node(),qt.apply(r,t))},_getBoundsInfo:function(t){if(0===t.length)return null;var n=this.node().screenModel,e=this.node().config.flip,r=t.map(function(t){var e=a.select(t).data()[0],r=n.x(e),i=n.x0(e),o=n.y(e),u=n.y0(e),c=Math.abs(r-i),s=Math.abs(o-u),l=(r+i)/2,f=(o+u)/2;return{node:t,data:e,cx:l,cy:f,box:{top:f-s/2,right:l+c/2,bottom:f+s/2,left:l-c/2},invert:o>u}}),i=r.reduce(function(t,n){var e=n.box;return t.left=Math.min(e.left,t.left),t.right=Math.max(e.right,t.right),t.top=Math.min(e.top,t.top),t.bottom=Math.max(e.bottom,t.bottom),t},{left:Number.MAX_VALUE,right:Number.MIN_VALUE,top:Number.MAX_VALUE,bottom:Number.MIN_VALUE}),o=Bt(r.map(e?function(t){return t.cy}:function(t){return t.cx})).sort(function(t,n){return t-n}),u=o.reduce(function(t,n){return t[n]=[],t},{});r.forEach(function(t){var n=o.find(e?function(n){return t.cy===n}:function(n){return t.cx===n});u[n].push(t)});var c=function(t){if(1===t.length)return u[t];var n=Math.ceil(t.length/2);return{middle:(t[n-1]+t[n])/2,lower:c(t.slice(0,n)),greater:c(t.slice(n))}};return{bounds:i,tree:c(o)}},getClosestElement:function(t,n){if(!this._boundsInfo)return null;var e=this._boundsInfo,r=e.bounds,i=e.tree,o=this.node().config.options.container,a=this.node().config.flip,u=Tn(o.node()),c=t-u.x,s=n-u.y,l=this.node().config.guide.maxHighlightDistance;if(c<r.left-l||c>r.right+l||s<r.top-l||s>r.bottom+l)return null;var f=a?s:c,h=a?c:s;return function t(n){return Array.isArray(n)?n:t(f>n.middle?n.greater:n.lower)}(i).map(function(t){var n,e=a?t.box.left:t.box.top,r=a?t.box.right:t.box.bottom,i=(n=h)>=e&&n<=r;if(!i&&Math.abs(h-e)>l&&Math.abs(h-r)>l)return null;var o=Math.abs(h-(t.invert!==a?r:e));return Object.assign(t,{distToValue:o,cursorInside:i})}).filter(function(t){return t}).sort(function(t,n){return t.cursorInside!==n.cursorInside?n.cursorInside-t.cursorInside:Math.abs(t.distToValue)-Math.abs(n.distToValue)}).map(function(t){var n=t.cx,e=t.cy,r=Math.abs(a?s-e:c-n),i=Math.abs(a?c-n:s-e);return{node:t.node,data:t.data,distance:r,secondaryDistance:i,x:n,y:e}})[0]||null},highlight:function(t){var n,e=this.node().config.options.container,r=((n={})["tau-chart__highlighted"]=function(n){return!0===t(n)},n["tau-chart__dimmed"]=function(n){return!1===t(n)},n);e.selectAll(".bar").call(at(r)),e.selectAll(".i-role-label").call(at(r)),this._sortElements(function(n,e){return t(bi(n))-t(bi(e))},this._typeSorter,this._barsSorter)}},wi=e(12),Mi=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ki=function(t){function n(n){var e=t.call(this,n)||this;return e.config=n,e.config.guide=Yt(e.config.guide||{},{}),e.on("highlight",function(t,n){return e.highlight(n)}),e}return Mi(n,t),n.prototype.defineGrammarModel=function(t){var n=this.config,e=n.options;this.color=t("color",n.color,{}),this.scalesMap=n.columns.reduce(function(n,r){return n[r]=t("pos",r,[0,e.height]),n},{});var r=e.width/(n.columns.length-1),i=n.columns.reduce(function(t,n,e){return t[n]=e*r,t},{});return this.xBase=function(t){return i[t]},this.regScale("columns",this.scalesMap).regScale("color",this.color),{}},n.prototype.drawFrames=function(t){var n=this.config,e=this.config.options,r=this.scalesMap,i=this.xBase,o=this.color,a=wi.line(),u=function(t){t.attr("d",function(t){return a(n.columns.map(function(n){return[i(n),r[n](t[r[n].dim])]}))})},c=function(t){t.attr("stroke",function(t){return o.toColor(o(t[o.dim]))}),t.attr("class",function(t){return Pn+"__line line "+o.toClass(o(t[o.dim]))+" foreground"})},s=function(t){var n=t.selectAll(".background").data(function(t){return t.part()});n.exit().remove(),n.call(u),n.enter().append("path").attr("class","background line").call(u);var e=t.selectAll(".foreground").data(function(t){return t.part()});e.exit().remove(),e.call(function(t){u(t),c(t)}),e.enter().append("path").call(function(t){u(t),c(t)})},l=e.container.selectAll(".lines-frame").data(t,function(t){return t.hash()});l.exit().remove(),l.call(s),l.enter().append("g").attr("class","lines-frame").call(s),this.subscribe(e.container.selectAll(".lines-frame .foreground"))},n.prototype.highlight=function(t){this.config.options.container.selectAll(".lines-frame .foreground").style("visibility",function(n){return t(n)?"":"hidden"})},n}(g),Si=function(){function t(t,n){var e,r=this;this._fields={},e=Array.isArray(n.fitToFrameByDims)&&n.fitToFrameByDims.length?t.part(function(t){var e={};return"where"===t.type&&t.args?(e.type=t.type,e.args=n.fitToFrameByDims.reduce(function(n,e){return t.args.hasOwnProperty(e)&&(n[e]=t.args[e]),n},{})):e=t,e}):t.full();var i=this.getVarSet(e,n);n.order&&(i=Ht(Wt(n.order,i),i)),this.vars=i;var o=i.map(function(t){return t});this.scaleConfig=n,this.scaleConfig.nice=this.scaleConfig.hasOwnProperty("nice")?this.scaleConfig.nice:this.scaleConfig.autoScale,this.addField("dim",this.scaleConfig.dim).addField("scaleDim",this.scaleConfig.dim).addField("scaleType",this.scaleConfig.type).addField("source",this.scaleConfig.source).addField("domain",function(){return r.vars}).addField("isInteger",o.every(Number.isInteger)).addField("originalSeries",function(){return o}).addField("isContains",function(t){return r.isInDomain(t)}).addField("isEmptyScale",function(){return r.isEmpty()}).addField("fixup",function(t){var n=r.scaleConfig;n.__fixup__=n.__fixup__||{},n.__fixup__=Object.assign(n.__fixup__,t(Object.assign({},n,n.__fixup__)))}).addField("commit",function(){r.scaleConfig=Object.assign(r.scaleConfig,r.scaleConfig.__fixup__),delete r.scaleConfig.__fixup__})}return t.prototype.isInDomain=function(t){return this.domain().indexOf(t)>=0},t.prototype.addField=function(t,n){return this._fields[t]=n,this[t]=n,this},t.prototype.getField=function(t){return this._fields[t]},t.prototype.isEmpty=function(){return!Boolean(this._fields.dim)},t.prototype.toBaseScale=function(t,n){var e=this;void 0===n&&(n=null);var r=Object.keys(this._fields).reduce(function(t,n){return t[n]=e._fields[n],t},t);return r.getHash=function(){return Ct([e.vars,n].map(function(t){return JSON.stringify}).join(""))},r.value=r,r},t.prototype.getVarSet=function(t,n){return Bt(n.hasOwnProperty("series")?n.series:t.map(function(t){return t[n.dim]}),"date"===n.dimType?function(t){return new Date(t).getTime()}:function(t){return t})},t}(),Ai=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ei=function(t){function n(n,e){var r=t.call(this,n,e)||this;return r._references=e.references,r._refCounter=e.refCounter,r.addField("scaleType","identity"),r}return Ai(n,t),n.prototype.create=function(){var t=this._references,n=this._refCounter;return this.toBaseScale(function(e,r){if(null==e){var i=t.get(r);null==i&&(i=n(),t.set(r,i))}else i=e;return i})},n}(Si),Ti=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ci=(Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t})({},u,c),Oi=function(t){function n(n,e){var r=t.call(this,n,e)||this,i="measure"!==e.dimType,o=r.scaleConfig.brewer||(i?Pt(20).map(function(t){return"color20-"+(1+t)}):["#eee","#000"]),a=r.scaleConfig;if(!i){var u=Ci.extent(r.vars),c=function(t){return Number.isFinite(t)||Mt(t)},s=c(a.min)?a.min:u[0],l=c(a.max)?a.max:u[1],f=[s,u[0]].filter(c),h=[l,u[1]].filter(c);if(u=[f.sort(function(t,n){return t-n})[0],h.sort(function(t,n){return n-t})[0]],a.nice&&u[0]<0&&u[1]>0){var d=Math.max.apply(Math,u.map(Math.abs));u=[-d,d]}r.vars=u}return r.addField("scaleType","color").addField("discrete",i).addField("brewer",o).addField("toColor",Dt).addField("toClass",Lt),r}return Ti(n,t),n.prototype.create=function(){var t=this.discrete,n=this.vars,e=this.getField("brewer"),r=t?this.createDiscreteScale(n,e):this.createContinuesScale(n,e);return this.toBaseScale(r)},n.prototype.createDiscreteScale=function(t,n){var e,r=function(t,n){var e=t.map(function(t){return String(t).toString()});return Ci.scaleOrdinal().range(n).domain(e)},i=function(t){return function(n){return t(String(n).toString())}};if(Array.isArray(n))e=i(r(t,n));else if("function"==typeof n)e=function(e){return n(e,i(r(t,Pt(20).map(function(t){return"color20-"+(1+t)}))))};else{if(!kt(n))throw new Error("This brewer is not supported");e=function(t,n){var e=Object.keys(t),r=e.map(function(n){return t[n]}),i=Ci.scaleOrdinal().range(r).domain(e);return function(n){return t.hasOwnProperty(n)?i(String(n)):"color-default"}}(n)}return e},n.prototype.createContinuesScale=function(t,n){if(!Array.isArray(n))throw new Error("This brewer is not supported");return Ci.scaleLinear().domain(zt(t.map(function(t){return t-0}),n.length)).range(n)},n}(Si),Ni=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ji={sqrt:function(t){return Math.sqrt(t)},linear:function(t){return t}},zi=function(t){function n(n,e){var r=t.call(this,n,e)||this,i=r.scaleConfig,o=u.extent(r.vars),a=Number.isFinite(i.min)?i.min:o[0],c=Number.isFinite(i.max)?i.max:o[1];return r.vars=[Math.min.apply(Math,[a,o[0]].filter(Number.isFinite)),Math.max.apply(Math,[c,o[1]].filter(Number.isFinite))],r.addField("scaleType","size"),r.addField("funcType",e.func||"sqrt"),r}return Ni(n,t),n.prototype.isInDomain=function(t){var n=this.domain().sort(),e=n[0],r=n[n.length-1];return!Number.isNaN(e)&&!Number.isNaN(r)&&t<=r&&t>=e},n.prototype.create=function(){var t,n=this.scaleConfig,e=this.vars,r=Yt({},n,{func:"sqrt",minSize:0,maxSize:1}),i=r.func,o=r.minSize,a=r.maxSize,u=ji[i],c=e.filter(function(t){return Number.isFinite(Number(t))});if(0===c.length)t=function(){return a};else{var s,l,f=Math.min.apply(Math,c),h=Math.max.apply(Math,c),d=u(Math.max(Math.abs(f),Math.abs(h),h-f));l=f<0?f:0,s=0===d?1:(a-o)/d,t=function(t){var n=null!==t?parseFloat(t):0;return Number.isFinite(n)?o+u(n-l)*s:a}}return this.toBaseScale(t)},n}(Si),Di=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Li=function(t){function n(n,e){var r=t.call(this,n,e)||this;return r.addField("scaleType","ordinal").addField("discrete",!0),r}return Di(n,t),n.prototype.create=function(t){var n=this.scaleConfig,e=this.vars,r=c.scalePoint().domain(e).range(t).padding(.5),i=Math.max.apply(Math,t),o=function(t){return"function"==typeof n.ratio?n.ratio(t,i,e):"object"==typeof n.ratio?n.ratio[t]:1/e.length},a=function(t){return n.ratio?i-e.slice(e.indexOf(t)+1).reduce(function(t,n){return t+i*o(n)},i*o(t)*.5):r(t)};return Object.keys(r).forEach(function(t){return a[t]=r[t]}),a.stepSize=function(t){return o(t)*i},this.toBaseScale(a,t)},n}(Si),Fi=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ri=(Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t})({},u,c),Pi=function(t){function n(n,e){var r=t.call(this,n,e)||this,i=r.scaleConfig,o=r.vars,a=Ri.extent(o),u=null===i.min||void 0===i.min?a[0]:new Date(i.min).getTime(),c=null===i.max||void 0===i.max?a[1]:new Date(i.max).getTime(),s=[new Date(Math.min(u,a[0])),new Date(Math.max(c,a[1]))],l=m.get(i.period,{utc:i.utcTime});return i.fitToFrameByDims||null===l?r.vars=Bt(o.map(function(t){return new Date(t)}),function(t){return t.getTime()}).sort(function(t,n){return Number(n)-Number(t)}):r.vars=m.generate(s[0],s[1],i.period,{utc:i.utcTime}),r.periodGenerator=l,r.addField("scaleType","period").addField("utcTime",r.scaleConfig.utcTime).addField("period",r.scaleConfig.period).addField("discrete",!0),r}return Fi(n,t),n.prototype.isInDomain=function(t){var n=this.periodGenerator,e=new Date(t),r=(n?n.cast(e):e).getTime();return this.domain().map(function(t){return t.getTime()}).indexOf(r)>=0},n.prototype.create=function(t){var n=this.periodGenerator,e=this.vars,r=this.vars.map(function(t){return t.getTime()}),i=this.scaleConfig,o=Ri.scalePoint().domain(e).range(t).padding(.5),a=Ri.scalePoint().domain(r.map(String)).range(t).padding(.5),u=Math.max.apply(Math,t),c=function(t){var n=new Date(t).getTime();return"function"==typeof i.ratio?i.ratio(n,u,r):"object"==typeof i.ratio?i.ratio[n]:1/e.length},s=function(t){var e=new Date(t),o=(n?n.cast(e):e).getTime();return i.ratio?u-r.slice(r.indexOf(o)+1).reduce(function(t,n){return t+u*c(n)},u*c(t)*.5):a(String(o))};return Object.keys(o).forEach(function(t){return s[t]=o[t]}),s.stepSize=function(t){return c(t)*u},this.toBaseScale(s,t)},n}(Si),Ii=e(11),Bi=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ui=(Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t})({},u,c,Ii),Hi=function(t){function n(n,e){var r,i=t.call(this,n,e)||this,o=i.scaleConfig,a=i.vars,u=o.period?m.get(i.scaleConfig.period,{utc:o.utcTime}):null,c=Ui.extent(a).map(u?function(t){return u.cast(new Date(t))}:function(t){return new Date(t)}),s=null==o.min?c[0]:new Date(o.min).getTime(),l=null==o.max?c[1]:new Date(o.max).getTime();if(a=[new Date(Math.min(s,Number(c[0]))),new Date(Math.max(l,Number(c[1])))],i.niceIntervalFn=null,o.nice&&!u){var f=o.niceInterval,h=f&&Wi(f)?o.utcTime?Ui["utc"+(r=f)[0].toUpperCase()+r.slice(1)]:Wi(f):null;i.niceIntervalFn=h||null,i.vars=At(a,i.niceIntervalFn,{utc:o.utcTime})}else i.vars=a;if(u&&Number(i.vars[0])===Number(i.vars[1])){var d=i.vars[0];i.vars[0]=u.cast(new Date(Number(d)-1)),i.vars[1]=u.next(d)}return i.periodGenerator=u,i.addField("scaleType","time").addField("utcTime",i.scaleConfig.utcTime).addField("period",i.scaleConfig.period),i}return Bi(n,t),n.prototype.isInDomain=function(t){var n=new Date(t);this.scaleConfig.period&&(n=this.periodGenerator.cast(n));var e=this.domain(),r=e[0],i=e[e.length-1];return!Number.isNaN(r)&&!Number.isNaN(i)&&n<=i&&n>=r},n.prototype.create=function(t){var n=this,e=this.vars,r=this.scaleConfig.utcTime,i=this.periodGenerator,o=(r?Ui.scaleUtc:Ui.scaleTime)().domain(e).range(t),a=function(t){var n=e[0],r=e[1];return t>r&&(t=r),t<n&&(t=n),o(new Date(t))};if(this.scaleConfig.period){var u=e[0],c=e[1];o.ticks,o.ticks=function(t){return"number"!=typeof t&&(t=10),function(t,n,e,r){void 0===r&&(r=10);var i=t[0],o=t[1],a=m.get(n,{utc:e}),u=Number(i),c=Number(o),s=Number(a.next(a.cast(i)))-Number(a.cast(i));return(c-u)/s<=r?m.generate(i,o,n,{utc:e}).filter(function(t){return t>=i&&t<=o}):function(t,n,e){void 0===e&&(e=10);var r,i,o=Number(t[0]),a=Number(t[1]),u=Math.abs(a-o)/e,c=Ui.bisector(function(t){return t.duration}).right(Xi,u);if(c===Xi.length)r=n?Ui.utcYear:Ui.timeYear,i=Ui.tickStep(o/Gi.year.duration,a/Gi.year.duration,e);else if(c){var s=u/Xi[c-1].duration,l=Xi[c].duration/u,f=Xi[s<l?c-1:c];r=n?f.time.utc:f.time.interval,i=f.step}else r=n?Ui.utcMillisecond:Ui.timeMillisecond,i=Ui.tickStep(o,a,e);return r.every(i).range(new Date(o),new Date(a+1))}(t,e,r)}([u,c],n.scaleConfig.period,r,t)};for(var s=i.cast(u);s<u;)s=i.next(s);var l=i.cast(c);a=function(t){var n=i.cast(t);return n<s&&(n=s),n>l&&(n=l),o(n)}}return Object.keys(o).forEach(function(t){return a[t]=o[t]}),a.stepSize=function(){return 0},this.toBaseScale(a,t)},n}(Si);function Wi(t){return Ui["time"+t[0].toUpperCase()+t.slice(1)]}var Yi,Gi={second:{duration:1e3,interval:Ui.timeSecond,utc:Ui.utcSecond},minute:{duration:6e4,interval:Ui.timeMinute,utc:Ui.utcMinute},hour:{duration:36e5,interval:Ui.timeHour,utc:Ui.utcHour},day:{duration:864e5,interval:Ui.timeDay,utc:Ui.utcDay},week:{duration:6048e5,interval:Ui.timeWeek,utc:Ui.utcWeek},month:{duration:2592e6,interval:Ui.timeMonth,utc:Ui.utcMonth},year:{duration:31536e6,interval:Ui.timeYear,utc:Ui.utcYear}},Xi=[(Yi=function(t,n){return{time:t,step:n,duration:n*t.duration}})(Gi.second,1),Yi(Gi.second,5),Yi(Gi.second,15),Yi(Gi.second,30),Yi(Gi.minute,1),Yi(Gi.minute,5),Yi(Gi.minute,15),Yi(Gi.minute,30),Yi(Gi.hour,1),Yi(Gi.hour,3),Yi(Gi.hour,6),Yi(Gi.hour,12),Yi(Gi.day,1),Yi(Gi.day,2),Yi(Gi.week,1),Yi(Gi.month,1),Yi(Gi.month,3),Yi(Gi.year,1)],qi=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vi=(Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t})({},u,c),Zi=function(t){function n(n,e){var r=t.call(this,n,e)||this,i=r.scaleConfig,o=Vi.extent(r.vars),a=Number.isFinite(i.min)?i.min:o[0],u=Number.isFinite(i.max)?i.max:o[1];if(o=[Math.min.apply(Math,[a,o[0]].filter(Number.isFinite)),Math.max.apply(Math,[u,o[1]].filter(Number.isFinite))],r.vars=i.nice?St(o):Vi.extent(o),r.vars[0]===r.vars[1]){var c=Math.pow(10,Math.floor(Math.log(r.vars[0])/Math.LN10));r.vars[0]-=c,r.vars[1]+=c||10}return r.addField("scaleType","linear").addField("discrete",!1),r}return qi(n,t),n.prototype.isInDomain=function(t){var n=this.domain(),e=n[0],r=n[n.length-1];return!Number.isNaN(e)&&!Number.isNaN(r)&&t<=r&&t>=e},n.prototype.create=function(t){var n=this.vars,e=this.extendScale(Vi.scaleLinear());return e.domain(n).range(t).clamp(!0),this.toBaseScale(e,t)},n.prototype.extendScale=function(t){var n=this,e=t.copy,r=t.ticks;return Object.assign(t,{stepSize:function(){return 0},copy:function(){return n.extendScale(e.call(t))},ticks:this.getField("isInteger")?function(n){return r.call(t,n).filter(Number.isInteger)}:t.ticks}),t},n}(Si),Ji=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),$i=(Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t})({},u,c),Qi=function(t){function n(n,e){var r=t.call(this,n,e)||this,i=r.scaleConfig,o=$i.extent(r.vars),a=Number.isFinite(i.min)?i.min:o[0],u=Number.isFinite(i.max)?i.max:o[1];return to(o=[Math.min.apply(Math,[a,o[0]].filter(Number.isFinite)),Math.max.apply(Math,[u,o[1]].filter(Number.isFinite))]),i.nice&&(o=function(t){var n=t[0]>0,e=t.map(function(t){return Math.abs(t)}),r=Math.max.apply(Math,e),i=Math.min.apply(Math,e).toExponential().split("e"),o=r.toExponential().split("e"),a=parseFloat(Math.floor(Number(i[0]))+"e"+i[1]),u=parseFloat(Math.ceil(Number(o[0]))+"e"+o[1]);return n?[a,u]:[-u,-a]}(o)),r.vars=o,r.addField("scaleType","logarithmic").addField("discrete",!1),r}return Ji(n,t),n.prototype.isInDomain=function(t){var n=this.domain(),e=n[0],r=n[n.length-1];return!Number.isNaN(e)&&!Number.isNaN(r)&&t<=r&&t>=e},n.prototype.create=function(t){var n=this.vars;to(n);var e=function t(n){var e=n.copy;return n.ticks=function(t){for(var e=[],r=$i.extent(n.domain()),i=Math.floor(Ki(r[0])),o=Math.ceil(Ki(r[1])),a=Math.ceil(10*(o-i)/(10*Math.ceil(t/10))),u=i;u<=o;u+=a)for(var c=1;c<=10;c++){var s=Math.pow(c,a)*Math.pow(10,u);(s=parseFloat(s.toExponential(0)))>=r[0]&&s<=r[1]&&e.push(s)}return e},n.copy=function(){var r=e.call(n);return t(r),r},n}($i.scaleLog()).domain(n).range(t);return e.stepSize=function(){return 0},this.toBaseScale(e,t)},n}(Si);function Ki(t){return Math.log(t)/Math.LN10}function to(t){if(t[0]*t[1]<=0)throw new b("Logarithmic scale domain cannot cross zero.",x.INVALID_LOG_DOMAIN)}var no,eo=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ro=function(t){function n(n,e){var r=t.call(this,n,e)||this;return r.addField("scaleType","value").addField("georole",e.georole),r}return eo(n,t),n.prototype.create=function(){return this.toBaseScale(function(t){return t})},n}(Si),io=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),oo=(Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t})({},u,c),ao=function(t){function n(n,e){var r=t.call(this,n,e)||this,i=r.scaleConfig,o=oo.extent(r.vars),a=Number.isFinite(i.min)?i.min:o[0],u=Number.isFinite(i.max)?i.max:o[1];o=[Math.min(a,o[0]),Math.max(u,o[1])],r.vars=i.nice?St(o):oo.extent(o);var c=Pt(10).map(function(t){return"rgba(90,180,90,"+(.2+t*(.8/9)).toFixed(2)+")"}),s=i.brewer||c;return r.addField("scaleType","fill").addField("brewer",s),r}return io(n,t),n.prototype.isInDomain=function(t){var n=this.domain(),e=n[0],r=n[n.length-1];return!Number.isNaN(e)&&!Number.isNaN(r)&&t<=r&&t>=e},n.prototype.create=function(){var t=this.vars,n=this.getField("brewer");if(!Array.isArray(n))throw new Error("This brewer is not supported");var e=n.length,r=(t[1]-t[0])/e,i=Pt(e-1).map(function(t){return t+1}).reduce(function(n,e){return n.concat([t[0]+e*r])},[]),o=oo.scaleThreshold().domain(i).range(n);return this.toBaseScale(o)},n}(Si),uo=function(t){return t||null},co=function(t,n){return void 0===n&&(n=null),Array.isArray(t)?0===t.length?[n]:t:[t]},so=function(t,n){return{type:t,x:n.x,y:n.y,identity:n.identity,size:n.size,color:n.color,split:n.split,label:n.label,guide:{color:n.colorGuide,obsoleteVerticalStackOrder:n.obsoleteVerticalStackOrder,size:n.sizeGuide},flip:n.flip,stack:n.stack}},lo={SUCCESS:"SUCCESS",WARNING:"WARNING",FAIL:"FAIL"},fo=((no={})[lo.SUCCESS]=function(t){return t},no[lo.FAIL]=function(t,n){throw new Error((n.messages||[]).join("\n")||["This configuration is not supported,","See https://api.taucharts.com/basic/facet.html#easy-approach-for-creating-facet-chart"].join(" "))},no[lo.WARNING]=function(t,n,e){var r=n.axis,i=n.indexMeasureAxis[0],o=t[i],a=t.filter(function(t){return t!==o});a.push(o);var u=e[i][r]||{},c=e[e.length-1][r]||{};return e[e.length-1][r]=u,e[i][r]=c,a},no);function ho(t,n,e){return n.reduce(function(n,r,i){var o=t[r];return o?n.status!=lo.FAIL&&("measure"===o.type&&(n.countMeasureAxis++,n.indexMeasureAxis.push(i)),"measure"!==o.type&&1===n.countMeasureAxis?n.status=lo.WARNING:n.countMeasureAxis>1&&(n.status=lo.FAIL,n.messages.push('There is more than one measure dimension for "'+e+'" axis'))):(n.status=lo.FAIL,r?n.messages.push('"'+r+'" dimension is undefined for "'+e+'" axis'):n.messages.push('"'+e+'" axis should be specified')),n},{status:lo.SUCCESS,countMeasureAxis:0,indexMeasureAxis:[],messages:[],axis:e})}function po(t){for(var n=co(t.x),e=co(t.y),r=Math.max(n.length,e.length),i=co(t.guide||{},{}),o=r-i.length,a=0;a<o;a++)i.push({});i=i.slice(0,r);var u=ho(t.dimensions,n,"x"),c=ho(t.dimensions,e,"y");n=fo[u.status](n,u,i),e=fo[c.status](e,c,i);var s=["identity","color","size","label","split"].reduce(function(n,e){var r=t[e],i=function(t,n,e){return n}(t.dimensions,r);return null!=i&&(n[e]=i),n},{});return Object.assign({},t,{x:n,y:e,guide:i},s)}function go(t,n){for(var e=n.x,r=n.y,i=n.guide,o=Math.max(e.length,r.length),a={type:"COORDS.RECT",unit:[]},u=[].concat(e),c=[].concat(r),s=[].concat(i),l=o;l>0;l--){var f=u.pop(),h=c.pop(),d=s.pop()||{};l===o?(a.x=f,a.y=h,a.unit.push(so(t,{x:uo(f),y:uo(h),identity:n.identity,split:n.split,color:n.color,label:n.label,size:n.size,flip:n.flip,stack:n.stack,colorGuide:d.color,obsoleteVerticalStackOrder:d.obsoleteVerticalStackOrder,sizeGuide:d.size})),a.guide=Yt(d,{x:{label:f},y:{label:h}})):a={type:"COORDS.RECT",x:uo(f),y:uo(h),unit:[a],guide:Yt(d,{x:{label:f},y:{label:h}})}}return n.spec={dimensions:n.dimensions,unit:a},n}var _o=function(t){var n,e,r,i=po(t);return e=((n=i).flip?n.y:n.x).indexOf(n.color)>=0,r=n.guide[n.guide.length-1],e&&!r.hasOwnProperty("enableColorToBarPosition")&&(r.enableColorToBarPosition=!1),go("ELEMENT.INTERVAL",i=n)},yo=function(t){var n=po(t),e=n.data,r=n.settings.log,i=(0,{horizontal:function(t){return{prop:t.x[t.x.length-1],flip:!1}},vertical:function(t){return{prop:t.y[t.y.length-1],flip:!0}},auto:function(t){var n,i=t.x,o=t.y,a=i[i.length-1],u=i.slice(0,i.length-1),c=o[o.length-1],s=o.slice(0,o.length-1),l=t.color,f=u.concat(s).concat([l]).filter(function(t){return null!==t}),h=-1,d=[[[a].concat(f),c],[[c].concat(f),a]],p=null;return d.some(function(t,n){var i=t[0],o=t[1],a=Kn(e,i,[o]);return a.result?h=n:r(["Attempt to find a functional relation between",t[0]+" and "+t[1]+" is failed.","There are several "+a.error.keyY+" values (e.g. "+a.error.errY.join(",")+")","for ("+a.error.keyX+" = "+a.error.valX+")."].join(" ")),a.result})?(n=d[h][0][0],p=0!==h):(r("All attempts are failed. Gonna transform AREA to general PATH."),n=null),{prop:n,flip:p}}}["boolean"!=typeof n.flip?"auto":n.flip?"vertical":"horizontal"])(n);return null!==i.prop&&(n.data=te(e,i.prop,n.dimensions[i.prop]),n.flip=i.flip),go("ELEMENT.AREA",n)},mo=function(){function t(t){this.unitRef=t}return t.prototype.value=function(){return this.unitRef},t.prototype.clone=function(){return JSON.parse(JSON.stringify(this.unitRef))},t.prototype.traverse=function(t){var n=function(t,e,r){e(t,r),(t.units||[]).map(function(r){return n(r,e,t)})};return n(this.unitRef,t,null),this},t.prototype.reduce=function(t,n){var e=n;return this.traverse(function(n,r){return e=t(e,n,r)}),e},t.prototype.addFrame=function(t){return this.unitRef.frames=this.unitRef.frames||[],t.key.__layerid__=["L",(new Date).getTime(),this.unitRef.frames.length].join(""),t.source=t.hasOwnProperty("source")?t.source:this.unitRef.expression.source,t.pipe=t.pipe||[],this.unitRef.frames.push(t),this},t.prototype.addTransformation=function(t,n){return this.unitRef.transformation=this.unitRef.transformation||[],this.unitRef.transformation.push({type:t,args:n}),this},t.prototype.isCoordinates=function(){return 0===(this.unitRef.type||"").toUpperCase().indexOf("COORDS.")},t.prototype.isElementOf=function(t){if(this.isCoordinates())return!1;var n=(this.unitRef.type||"").split("/");return 1===n.length&&n.unshift("RECT"),n[0].toUpperCase()===t.toUpperCase()},t}(),vo=function(){function t(t){this.specRef=t}return t.prototype.value=function(){return this.specRef},t.prototype.unit=function(t){return t&&(this.specRef.unit=t),new mo(this.specRef.unit)},t.prototype.addTransformation=function(t,n){return this.specRef.transformations=this.specRef.transformations||{},this.specRef.transformations[t]=n,this},t.prototype.getSettings=function(t){return this.specRef.settings[t]},t.prototype.setSettings=function(t,n){return this.specRef.settings=this.specRef.settings||{},this.specRef.settings[t]=n,this},t.prototype.getScale=function(t){return this.specRef.scales[t]},t.prototype.addScale=function(t,n){return this.specRef.scales[t]=n,this},t.prototype.regSource=function(t,n){return this.specRef.sources[t]=n,this},t.prototype.getSourceData=function(t){return(this.specRef.sources[t]||{data:[]}).data},t.prototype.getSourceDim=function(t,n){return(this.specRef.sources[t]||{dims:{}}).dims[n]||{}},t}(),bo={},xo=function(){function t(){}return t.unit=function(t){return new mo(t)},t.spec=function(t){return new vo(t)},t.cloneObject=function(t){return JSON.parse(JSON.stringify(t))},t.depthFirstSearch=function(n,e){if(e(n))return n;for(var r=n.hasOwnProperty("frames")?n.frames:[{units:n.units}],i=0;i<r.length;i++)for(var o=r[i].units||[],a=0;a<o.length;a++){var u=t.depthFirstSearch(o[a],e);if(u)return u}},t.traverseSpec=function(t,n){var e=function(t,n,r){n(t,r),(t.units||[]).map(function(r){return e(r,n,t)})};e(t.unit,n,null)},t.extractFieldsFormatInfo=function(n){var e=n.scales,r=function(t){return!e[t].dim},i=function(t,n,r){var i=n.guide||{},o=e[n[r]],a=i[r]||{};t[o.dim]=t[o.dim]||{label:[],format:[],nullAlias:[],tickLabel:[]};var u=a.label,c=a.label||{};t[o.dim].label.push("string"==typeof u?u:c._original_text||c.text);var s=a.tickFormat||a.tickPeriod;t[o.dim].format.push(s),t[o.dim].nullAlias.push(a.tickFormatNullAlias),t[o.dim].tickLabel.push(a.tickLabel)},o=[];t.traverseSpec(n,function(t){o.push(t)});var a=o.reduce(function(t,n){return"COORDS.RECT"===n.type&&n.hasOwnProperty("x")&&!r(n.x)&&i(t,n,"x"),"COORDS.RECT"===n.type&&n.hasOwnProperty("y")&&!r(n.y)&&i(t,n,"y"),n.hasOwnProperty("color")&&!r(n.color)&&i(t,n,"color"),n.hasOwnProperty("size")&&!r(n.size)&&i(t,n,"size"),n.hasOwnProperty("label")&&!r(n.label)&&i(t,n,"label"),t},{}),u=function(t,n){return t.filter(function(t){return t})[0]||n};return Object.keys(a).reduce(function(t,e){t[e]={},t[e].label=u(a[e].label,e);var r=u(a[e].format,null);t[e].nullAlias=u(a[e].nullAlias,"No "+t[e].label),t[e].tickLabel=u(a[e].tickLabel,null);var i="x-time-auto"===r?n.settings.utcTime?"day-utc":"day":r,o=t[e].nullAlias,c=i?he.get(i,o):function(t){return null==t?o:String(t)};if(t[e].format=c,t[e].tickLabel){var s=e.replace("."+t[e].tickLabel,"");t[s]={label:t[e].label,nullAlias:t[e].nullAlias,tickLabel:t[e].tickLabel,format:function(n){return c(n&&n[t[s].tickLabel])},isComplexField:!0},t[e].parentField=s}return t},{})},t.getFieldFormatters=function(n,e){var r=t.extractFieldsFormatInfo(n);return Object.keys(r).forEach(function(t){r[t].parentField&&delete r[t]}),Object.keys(e).forEach(function(t){var n,i,o=(n=e[t],i={},"function"==typeof n||"string"==typeof n?i={format:n}:kt(n)&&(i=Vt(n,"label","format","nullAlias")),i);r[t]=Object.assign({label:t,nullAlias:"No "+t},r[t]||{},Vt(o,"label","nullAlias")),o.hasOwnProperty("format")?r[t].format="function"==typeof o.format?o.format:he.get(o.format,r[t].nullAlias):r[t].format=r[t].hasOwnProperty("format")?r[t].format:he.get(null,r[t].nullAlias)}),Object.keys(r).reduce(function(t,n){var e=r[n];return t[n]={label:e.label,format:e.format},t},{})},t.tokens=function(){return{reg:function(t,n){return bo[t]=n,this},get:function(t){return bo[t]||t}}},t.getParentUnit=function(t,n){var e=null,r=function(t,i){return t.uid===n.uid?(e=i,!0):(t.frames?t.frames.some(function(n){return(n.units||[]).some(function(n){return r(n,t)})}):(t.units||[]).some(function(n){return r(n,t)}),!1)};return r(t.unit,null),e},t}();e(17),e.d(n,"api",function(){return ko}),e.d(n,"version",function(){return Ao}),e.d(n,"GPL",function(){return Rn}),e.d(n,"Plot",function(){return We}),e.d(n,"Chart",function(){return Ze});var wo={},Mo={},ko={errorCodes:x,unitsRegistry:Vn,scalesRegistry:$n,grammarRegistry:M,tickFormat:he,isChartElement:on,utils:r,svgUtils:o,domUtils:i,tickPeriod:m,colorBrewers:{add:function(t,n){wo.hasOwnProperty(t)||(wo[t]=n)},get:function(t){return wo[t]}},d3_animationInterceptor:et,pluginsSDK:xo,plugins:{add:function(t,n){if(Mo.hasOwnProperty(t))throw new Error("Plugin is already registered.");Mo[t]=n},get:function(t){return Mo[t]||function(n){throw new Error('"'+t+'" plugin is not defined')}}},chartTypesRegistry:qe,globalSettings:{animationSpeed:750,renderingTimeout:1e4,asyncRendering:!0,syncRenderingInterval:50,syncPointerEvents:!1,handleRenderingErrors:!1,experimentalShouldAnimate:function(t){var n=function(t,n){var e=document.createElementNS("http://www.w3.org/2000/svg",t);return Object.keys(n).forEach(function(t){return e.setAttribute(t,String(n[t]))}),e},e=document.createElement("div");e.style.position="absolute",e.style.visibility="hidden",document.body.appendChild(e);var r=n("svg",{width:100,height:100});e.appendChild(r);var i,o,a,u=performance.now();for(i=0;i<10;i++)for(o=0;o<10;o++)a=n("circle",{fill:"black",r:5,cx:10*i,cy:10*o}),r.appendChild(a);var c=performance.now()-u;return document.body.removeChild(e),t.sources["/"].data.length*c<500},defaultNiceColor:!0,defaultColorBrewer:["#fde725","#fbe723","#f8e621","#f6e620","#f4e61e","#f1e51d","#efe51c","#ece51b","#eae51a","#e7e419","#e5e419","#e2e418","#dfe318","#dde318","#dae319","#d8e219","#d5e21a","#d2e21b","#d0e11c","#cde11d","#cae11f","#c8e020","#c5e021","#c2df23","#c0df25","#bddf26","#bade28","#b8de29","#b5de2b","#b2dd2d","#b0dd2f","#addc30","#aadc32","#a8db34","#a5db36","#a2da37","#a0da39","#9dd93b","#9bd93c","#98d83e","#95d840","#93d741","#90d743","#8ed645","#8bd646","#89d548","#86d549","#84d44b","#81d34d","#7fd34e","#7cd250","#7ad151","#77d153","#75d054","#73d056","#70cf57","#6ece58","#6ccd5a","#69cd5b","#67cc5c","#65cb5e","#63cb5f","#60ca60","#5ec962","#5cc863","#5ac864","#58c765","#56c667","#54c568","#52c569","#50c46a","#4ec36b","#4cc26c","#4ac16d","#48c16e","#46c06f","#44bf70","#42be71","#40bd72","#3fbc73","#3dbc74","#3bbb75","#3aba76","#38b977","#37b878","#35b779","#34b679","#32b67a","#31b57b","#2fb47c","#2eb37c","#2db27d","#2cb17e","#2ab07f","#29af7f","#28ae80","#27ad81","#26ad81","#25ac82","#25ab82","#24aa83","#23a983","#22a884","#22a785","#21a685","#21a585","#20a486","#20a386","#1fa287","#1fa187","#1fa188","#1fa088","#1f9f88","#1f9e89","#1e9d89","#1e9c89","#1e9b8a","#1f9a8a","#1f998a","#1f988b","#1f978b","#1f968b","#1f958b","#1f948c","#20938c","#20928c","#20928c","#21918c","#21908d","#218f8d","#218e8d","#228d8d","#228c8d","#228b8d","#238a8d","#23898e","#23888e","#24878e","#24868e","#25858e","#25848e","#25838e","#26828e","#26828e","#26818e","#27808e","#277f8e","#277e8e","#287d8e","#287c8e","#297b8e","#297a8e","#29798e","#2a788e","#2a778e","#2a768e","#2b758e","#2b748e","#2c738e","#2c728e","#2c718e","#2d718e","#2d708e","#2e6f8e","#2e6e8e","#2e6d8e","#2f6c8e","#2f6b8e","#306a8e","#30698e","#31688e","#31678e","#31668e","#32658e","#32648e","#33638d","#33628d","#34618d","#34608d","#355f8d","#355e8d","#365d8d","#365c8d","#375b8d","#375a8c","#38598c","#38588c","#39568c","#39558c","#3a548c","#3a538b","#3b528b","#3b518b","#3c508b","#3c4f8a","#3d4e8a","#3d4d8a","#3e4c8a","#3e4a89","#3e4989","#3f4889","#3f4788","#404688","#404588","#414487","#414287","#424186","#424086","#423f85","#433e85","#433d84","#443b84","#443a83","#443983","#453882","#453781","#453581","#463480","#46337f","#46327e","#46307e","#472f7d","#472e7c","#472d7b","#472c7a","#472a7a","#482979","#482878","#482677","#482576","#482475","#482374","#482173","#482071","#481f70","#481d6f","#481c6e","#481b6d","#481a6c","#48186a","#481769","#481668","#481467","#471365","#471164","#471063","#470e61","#470d60","#460b5e","#460a5d","#46085c","#46075a","#450559","#450457","#440256","#440154"],defaultClassBrewer:Pt(20).map(function(t){return"color20-"+(1+t)}),log:function(t,n){n=n||"INFO",Array.isArray(t)||(t=[t]),console[n.toLowerCase()].apply(console,t)},facetLabelDelimiter:" → ",excludeNull:!0,minChartWidth:300,minChartHeight:200,minFacetWidth:150,minFacetHeight:100,specEngine:[{name:"COMPACT",width:600,height:400},{name:"AUTO",width:Number.MAX_VALUE,height:Number.MAX_VALUE}],fitModel:"normal",layoutEngine:"EXTRACT",autoRatio:!0,defaultSourceMap:["https://raw.githubusercontent.com","TargetProcess/tauCharts/master/src/addons","world-countries.json"].join("/"),getAxisTickLabelSize:Xt(gn,function(t){return String(String(t).length)}),getScrollbarSize:ln,avoidScrollAtRatio:1.5,xAxisTickLabelLimit:150,yAxisTickLabelLimit:150,xTickWordWrapLinesLimit:2,yTickWordWrapLinesLimit:2,xTickWidth:9,yTickWidth:9,distToXAxisLabel:10,distToYAxisLabel:10,xAxisPadding:20,yAxisPadding:20,xFontLabelDescenderLineHeight:4,xFontLabelHeight:10,yFontLabelHeight:10,xDensityPadding:2,yDensityPadding:2,"xDensityPadding:measure":8,"yDensityPadding:measure":8,utcTime:!1,defaultFormats:{measure:"x-num-auto","measure:time":"x-time-auto"}}};We.__api__=ko,We.globalSettings=ko.globalSettings,ko.unitsRegistry.reg("COORDS.RECT",ar).reg("COORDS.MAP",vr).reg("COORDS.PARALLEL",fr).reg("ELEMENT.GENERIC.CARTESIAN",ct).reg("ELEMENT.POINT",Br,"ELEMENT.GENERIC.CARTESIAN").reg("ELEMENT.LINE",vi,"ELEMENT.GENERIC.CARTESIAN").reg("ELEMENT.PATH",_i,"ELEMENT.GENERIC.CARTESIAN").reg("ELEMENT.AREA",gi,"ELEMENT.GENERIC.CARTESIAN").reg("ELEMENT.INTERVAL",xi,"ELEMENT.GENERIC.CARTESIAN").reg("ELEMENT.INTERVAL.STACKED",xi,"ELEMENT.GENERIC.CARTESIAN").reg("ELEMENT.INTERVAL.STACKED",xi,"ELEMENT.GENERIC.CARTESIAN").reg("PARALLEL/ELEMENT.LINE",ki),ko.scalesRegistry.reg("identity",Ei,function(t,n){return Yt(t,{references:n.references,refCounter:n.refCounter})}).reg("color",Oi,function(t,n){return Yt(t,{nice:n.defaultNiceColor,brewer:"measure"===t.dimType?n.defaultColorBrewer:n.defaultClassBrewer})}).reg("fill",ao).reg("size",zi).reg("ordinal",Li).reg("period",Pi,function(t,n){return Yt(t,{utcTime:n.utcTime})}).reg("time",Hi,function(t,n){return Yt(t,{utcTime:n.utcTime})}).reg("linear",Zi).reg("logarithmic",Qi).reg("value",ro);var So=[function(t){return t.data?[]:["[data] must be specified"]}];ko.chartTypesRegistry.add("scatterplot",function(t){return go("ELEMENT.POINT",po(t))},So).add("line",function(t){var n=po(t),e=n.data,r=n.settings.log,i={none:function(){return null},horizontal:function(t){return t.x[t.x.length-1]},vertical:function(t){return t.y[t.y.length-1]},auto:function(t){var n,i=t.x,o=t.y,a=i[i.length-1],u=i.slice(0,i.length-1),c=o[o.length-1],s=o.slice(0,o.length-1),l=t.color,f=u.concat(s).concat([l]).filter(function(t){return null!==t}),h=-1,d=[[[a].concat(f),c],[[c].concat(f),a]];return d.some(function(t,n){var i=t[0],o=t[1],a=Kn(e,i,[o]);return a.result?h=n:r(["Attempt to find a functional relation between",t[0]+" and "+t[1]+" is failed.","There are several "+a.error.keyY+" values (e.g. "+a.error.errY.join(",")+")","for ("+a.error.keyX+" = "+a.error.valX+")."].join(" ")),a.result})?n=d[h][0][0]:(r(["All attempts are failed.","Will orient line horizontally by default.","NOTE: the [scatterplot] chart is more convenient for that data."].join(" ")),n=a),n}},o=(n.lineOrientation||"").toLowerCase(),a=(i.hasOwnProperty(o)?i[o]:i.auto)(n);return null!==a&&(n.data=te(e,a,n.dimensions[a])),go("ELEMENT.LINE",n)},So).add("area",yo,So).add("stacked-area",function(t){return yo(Yt(t,{stack:!0}))},So).add("bar",function(t){return _o(Yt(t,{flip:!1}))},So).add("horizontalBar",function(t){return _o(Yt({flip:!0},t))},So).add("horizontal-bar",function(t){return _o(Yt({flip:!0},t))},So).add("stacked-bar",function(t){return _o(Yt({flip:!1,stack:!0},t))},So).add("horizontal-stacked-bar",function(t){return _o(Yt({flip:!0,stack:!0},t))},So).add("map",function(t){var n=Object.assign({sourcemap:t.settings.defaultSourceMap},t.guide||{});n.size=Yt(n.size||{},{min:1,max:10}),n.code=Yt(n.code||{},{georole:"countries"});var e={},r=function(t,n,r){var i;void 0===r&&(r={});var o,a=n;return n?(i=t+"_"+n,o="/"):(i=t+":default",o="?"),e.hasOwnProperty(i)||(e[i]=Object.assign({type:t,source:o,dim:a},r)),i};return{sources:{"?":{dims:{},data:[{}]},"/":{dims:Object.keys(t.dimensions).reduce(function(n,e){return n[e]={type:t.dimensions[e].type},n},{}),data:t.data}},scales:e,unit:{type:"COORDS.MAP",expression:{operator:"none",source:"/"},code:r("value",t.code,n.code),fill:r("fill",t.fill,n.fill),size:r("size",t.size,n.size),color:r("color",t.color,n.color),latitude:r("linear",t.latitude,{nice:!1}),longitude:r("linear",t.longitude,{nice:!1}),guide:n},plugins:t.plugins||[]}},So.concat([function(t){var n=t.fill&&t.code;if(t.fill&&!n)return"[code] must be specified when using [fill]"},function(t){var n=t.latitude&&t.longitude;if((t.latitude||t.longitude)&&!n)return"[latitude] and [longitude] both must be specified"}])).add("parallel",function(t){var n=Object.assign({columns:{}},t.guide||{}),e={},r=function(t,n,r){var i;void 0===r&&(r={});var o,a=n;return n?(i=t+"_"+n,o="/"):(i=t+":default",o="?"),e.hasOwnProperty(i)||(e[i]=Object.assign({type:t,source:o,dim:a},r)),i},i=t.columns.map(function(e){return r(t.dimensions[e].scale,e,n.columns[e])});return{sources:{"?":{dims:{},data:[{}]},"/":{dims:Object.keys(t.dimensions).reduce(function(n,e){return n[e]={type:t.dimensions[e].type},n},{}),data:t.data}},scales:e,unit:{type:"COORDS.PARALLEL",expression:{operator:"none",source:"/"},columns:i,guide:n,units:[{type:"PARALLEL/ELEMENT.LINE",color:r("color",t.color,n.color),columns:i,expression:{operator:"none",source:"/"}}]},plugins:t.plugins||[]}},So.concat([function(t){if(!(t.columns&&t.columns.length>1))return"[columns] property must contain at least 2 dimensions"}]));var Ao="2.1.0";n.default={GPL:Rn,Plot:We,Chart:Ze,api:ko,version:"2.1.0"}},function(t,e){t.exports=n},function(t,n){t.exports=e},function(t,n){t.exports=r},function(t,n){t.exports=i},function(t,n){t.exports=o},function(t,n){t.exports=a},function(t,n){t.exports=u},function(t,n){t.exports=c},function(t,n,e){var r,i;void 0===(i="function"==typeof(r=function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}return e.m=t,e.c=n,e.p="",e(0)}([function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=function(t,n){return t.indexOf(n)},r=window,i=r.document,o=i.documentElement,a=["top","bottom"];function u(t,n){for(var e in n)t[e]=n[e];return t}function c(t){var n,e=r.pageYOffset||o.scrollTop,i=r.pageXOffset||o.scrollLeft,a={left:0,right:0,top:0,bottom:0,width:0,height:0};if((n=t)&&null!=n.setInterval)a.width=r.innerWidth||o.clientWidth,a.height=r.innerHeight||o.clientHeight;else{if(!o.contains(t)||null==t.getBoundingClientRect)return a;u(a,t.getBoundingClientRect()),a.width=a.right-a.left,a.height=a.bottom-a.top}return a.top=a.top+e-o.clientTop,a.left=a.left+i-o.clientLeft,a.right=a.left+a.width,a.bottom=a.top+a.height,a}var s=function(t,n){return r.getComputedStyle(t)[n]};function l(t){var n=String(s(t,l.propName)),e=n.match(/([0-9.]+)([ms]{1,2})/);return e&&(n=Number(e[1]),"s"===e[2]&&(n*=1e3)),0|n}l.propName=function(){for(var t=i.createElement("div"),n=["transitionDuration","webkitTransitionDuration"],e=0;e<n.length;e++)if(t.style[n[e]]="1s","1s"===t.style[n[e]])return n[e]}();var f=Object.create;function h(t,n){if(!(this instanceof h))return new h(t,n);this.hidden=1,this.options=u(f(h.defaults),n),this._createElement(),t&&this.content(t)}h.prototype._createElement=function(){var t,n;this.element=i.createElement("div"),this.classes=(t=this.element,{add:function(n){t.classList.add(n)},remove:function(n){t.classList.remove(n)}}),this.classes.add(this.options.baseClass);for(var e=0;e<h.classTypes.length;e++)n=h.classTypes[e]+"Class",this.options[n]&&this.classes.add(this.options[n])},h.prototype.type=function(t){return this.changeClassType("type",t)},h.prototype.effect=function(t){return this.changeClassType("effect",t)},h.prototype.changeClassType=function(t,n){return t+="Class",this.options[t]&&this.classes.remove(this.options[t]),this.options[t]=n,n&&this.classes.add(n),this},h.prototype.updateSize=function(){var t;return this.hidden&&(this.element.style.visibility="hidden",i.body.appendChild(this.element)),this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,null==this.spacing&&(this.spacing=null!=this.options.spacing?this.options.spacing:(t=s(this.element,"top"),0|Math.round(String(t).replace(/[^\-0-9.]/g,"")))),this.hidden?(i.body.removeChild(this.element),this.element.style.visibility=""):this.position(),this},h.prototype.content=function(t){return"object"==typeof t?(this.element.innerHTML="",this.element.appendChild(t)):this.element.innerHTML=t,this.updateSize(),this},h.prototype.place=function(t){return this.options.place=t,this.hidden||this.position(),this},h.prototype.attach=function(t){return this.attachedTo=t,this.hidden||this.position(),this},h.prototype.detach=function(){return this.hide(),this.attachedTo=null,this},h.prototype._pickPlace=function(t){if(!this.options.auto)return this.options.place;var n=c(r),i=this.options.place.split("-"),o=this.spacing;if(-1!==e(a,i[0]))switch(t.top-this.height-o<=n.top?i[0]="bottom":t.bottom+this.height+o>=n.bottom&&(i[0]="top"),i[1]){case"left":t.right-this.width<=n.left&&(i[1]="right");break;case"right":t.left+this.width>=n.right&&(i[1]="left");break;default:t.left+t.width/2+this.width/2>=n.right?i[1]="left":t.right-t.width/2-this.width/2<=n.left&&(i[1]="right")}else switch(t.left-this.width-o<=n.left?i[0]="right":t.right+this.width+o>=n.right&&(i[0]="left"),i[1]){case"top":t.bottom-this.height<=n.top&&(i[1]="bottom");break;case"bottom":t.top+this.height>=n.bottom&&(i[1]="top");break;default:t.top+t.height/2+this.height/2>=n.bottom?i[1]="top":t.bottom-t.height/2-this.height/2<=n.top&&(i[1]="bottom")}return i.join("-")},h.prototype.position=function(t,n){this.attachedTo&&(t=this.attachedTo),null==t&&this._p?(t=this._p[0],n=this._p[1]):this._p=arguments;var e,r,i="number"==typeof t?{left:0|t,right:0|t,top:0|n,bottom:0|n,width:0,height:0}:c(t),o=this.spacing,a=this._pickPlace(i);switch(a!==this.curPlace&&(this.curPlace&&this.classes.remove(this.curPlace),this.classes.add(a),this.curPlace=a),this.curPlace){case"top":e=i.top-this.height-o,r=i.left+i.width/2-this.width/2;break;case"top-left":e=i.top-this.height-o,r=i.right-this.width;break;case"top-right":e=i.top-this.height-o,r=i.left;break;case"bottom":e=i.bottom+o,r=i.left+i.width/2-this.width/2;break;case"bottom-left":e=i.bottom+o,r=i.right-this.width;break;case"bottom-right":e=i.bottom+o,r=i.left;break;case"left":e=i.top+i.height/2-this.height/2,r=i.left-this.width-o;break;case"left-top":e=i.bottom-this.height,r=i.left-this.width-o;break;case"left-bottom":e=i.top,r=i.left-this.width-o;break;case"right":e=i.top+i.height/2-this.height/2,r=i.right+o;break;case"right-top":e=i.bottom-this.height,r=i.right+o;break;case"right-bottom":e=i.top,r=i.right+o}return this.element.style.top=Math.round(e)+"px",this.element.style.left=Math.round(r)+"px",this},h.prototype.show=function(t,n){return t=this.attachedTo?this.attachedTo:t,clearTimeout(this.aIndex),null!=t&&this.position(t,n),this.hidden&&(this.hidden=0,i.body.appendChild(this.element)),this.attachedTo&&this._aware(),this.options.inClass&&(this.options.effectClass&&this.element.clientHeight,this.classes.add(this.options.inClass)),this},h.prototype.getElement=function(){return this.element},h.prototype.hide=function(){if(!this.hidden){var t=this,n=0;return this.options.inClass&&(this.classes.remove(this.options.inClass),this.options.effectClass&&(n=l(this.element))),this.attachedTo&&this._unaware(),clearTimeout(this.aIndex),this.aIndex=setTimeout(function(){t.aIndex=0,i.body.removeChild(t.element),t.hidden=1},n),this}},h.prototype.toggle=function(t,n){return this[this.hidden?"show":"hide"](t,n)},h.prototype.destroy=function(){clearTimeout(this.aIndex),this._unaware(),this.hidden||i.body.removeChild(this.element),this.element=this.options=null},h.prototype._aware=function(){-1===e(h.winAware,this)&&h.winAware.push(this)},h.prototype._unaware=function(){var t=e(h.winAware,this);-1!==t&&h.winAware.splice(t,1)},h.reposition=function(){var t,n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return setTimeout(t,17)};function e(){t=0;for(var n=0,e=h.winAware.length;n<e;n++)h.winAware[n].position()}return function(){!t&&h.winAware.length&&(t=n(e))}}(),h.winAware=[],window.addEventListener("resize",h.reposition),window.addEventListener("scroll",h.reposition),h.classTypes=["type","effect"],h.defaults={baseClass:"tooltip",typeClass:null,effectClass:null,inClass:"in",place:"top",spacing:null,auto:0},n.Tooltip=h}])})?r.apply(n,[]):r)||(t.exports=i)},function(t,n){t.exports=s},function(t,n){t.exports=l},function(t,n){t.exports=f},function(t,n){t.exports=h},function(t,n){t.exports=d},function(t,n){t.exports=p},function(t,n,e){"use strict";var r,i,o,a,u;if(window.requestAnimationFrame||(r=0,window.requestAnimationFrame=function(t){var n=Date.now(),e=Math.max(0,16-n+r);return r=n+e,setTimeout(function(){t.call(null,n+e)},e)},window.cancelAnimationFrame=function(t){clearTimeout(t)}),window.requestIdleCallback||(window.requestIdleCallback=function(t,n){return setTimeout(t,n&&n.timeout?n.timeout:0)},window.cancelIdleCallback=function(t){clearTimeout(t)}),Number.isFinite||Object.defineProperty(Number,"isFinite",{value:function(t){return"number"==typeof t&&isFinite(t)},configurable:!0,enumerable:!1,writable:!0}),Number.isNaN||Object.defineProperty(Number,"isNaN",{value:function(t){return"number"==typeof t&&isNaN(t)},configurable:!0,enumerable:!1,writable:!0}),Number.isInteger||Object.defineProperty(Number,"isInteger",{value:function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},configurable:!0,enumerable:!1,writable:!0}),Number.MAX_SAFE_INTEGER||Object.defineProperty(Number,"MAX_SAFE_INTEGER",{value:9007199254740991,configurable:!1,enumerable:!1,writable:!1}),Math.sign||(Math.sign=function(t){return(t>0)-(t<0)||Number(t)}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var n,e=Object(this),r=e.length>>>0,i=arguments[1],o=0;o<r;o++)if(n=e[o],t.call(i,n,o,e))return n},configurable:!0,enumerable:!1,writable:!0}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var n,e=Object(this),r=e.length>>>0,i=arguments[1],o=0;o<r;o++)if(n=e[o],t.call(i,n,o,e))return o;return-1},configurable:!0,enumerable:!1,writable:!0}),!Array.from){Object.defineProperty(Array,"from",{value:(i=Object.prototype.toString,o=function(t){return"function"==typeof t||"[object Function]"===i.call(t)},a=Math.pow(2,53)-1,u=function(t){var n=function(t){var n=Number(t);return isNaN(n)?0:0!==n&&isFinite(n)?(n>0?1:-1)*Math.floor(Math.abs(n)):n}(t);return Math.min(Math.max(n,0),a)},function(t){var n=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var e,r=arguments.length>1?arguments[1]:void 0;if(void 0!==r){if(!o(r))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(e=arguments[2])}for(var i,a=u(n.length),c=o(this)?Object(new this(a)):new Array(a),s=0;s<a;)i=n[s],c[s]=r?void 0===e?r(i,s):r.call(e,i,s):i,s+=1;return c.length=a,c}),configurable:!0,enumerable:!1,writable:!0});var c=Map.prototype.set;Object.defineProperty(Map.prototype,"set",{value:function(){return c.apply(this,arguments),this},configurable:!0,enumerable:!1,writable:!0}),Object.defineProperty(Map.prototype,"values",{value:function(){var t={},n=0;return this.forEach(function(e){return t[String(n++)]=e}),t.length=n,t},configurable:!0,enumerable:!1,writable:!0}),Object.defineProperty(Map.prototype,"entries",{value:function(){var t={},n=0;return this.forEach(function(e,r){return t[String(n++)]=[r,e]}),t.length=n,t},configurable:!0,enumerable:!1,writable:!0})}Object.assign||Object.defineProperty(Object,"assign",{value:function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),e=1;e<arguments.length;e++){var r=arguments[e];if(void 0!==r&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])}return n},configurable:!0,enumerable:!1,writable:!0}),Element.prototype.matches||Object.defineProperty(Element.prototype,"matches",{value:Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,configurable:!0,enumerable:!0,writable:!0})},,,,,,,,,,,function(t,n,e){t.exports=e(1)}])}(e(0),e(2),e(24),e(27),e(11),e(3),e(28),e(9),e(7),e(1),e(23),e(25),e(26),e(22),e(29))},function(t,n,e){(function(t,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o,a=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",s="__lodash_hash_undefined__",l=500,f="__lodash_placeholder__",h=1,d=2,p=4,g=1,_=2,y=1,m=2,v=4,b=8,x=16,w=32,M=64,k=128,S=256,A=512,E=30,T="...",C=800,O=16,N=1,j=2,z=1/0,D=9007199254740991,L=1.7976931348623157e308,F=NaN,R=4294967295,P=R-1,I=R>>>1,B=[["ary",k],["bind",y],["bindKey",m],["curry",b],["curryRight",x],["flip",A],["partial",w],["partialRight",M],["rearg",S]],U="[object Arguments]",H="[object Array]",W="[object AsyncFunction]",Y="[object Boolean]",G="[object Date]",X="[object DOMException]",q="[object Error]",V="[object Function]",Z="[object GeneratorFunction]",J="[object Map]",$="[object Number]",Q="[object Null]",K="[object Object]",tt="[object Proxy]",nt="[object RegExp]",et="[object Set]",rt="[object String]",it="[object Symbol]",ot="[object Undefined]",at="[object WeakMap]",ut="[object WeakSet]",ct="[object ArrayBuffer]",st="[object DataView]",lt="[object Float32Array]",ft="[object Float64Array]",ht="[object Int8Array]",dt="[object Int16Array]",pt="[object Int32Array]",gt="[object Uint8Array]",_t="[object Uint8ClampedArray]",yt="[object Uint16Array]",mt="[object Uint32Array]",vt=/\b__p \+= '';/g,bt=/\b(__p \+=) '' \+/g,xt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wt=/&(?:amp|lt|gt|quot|#39);/g,Mt=/[&<>"']/g,kt=RegExp(wt.source),St=RegExp(Mt.source),At=/<%-([\s\S]+?)%>/g,Et=/<%([\s\S]+?)%>/g,Tt=/<%=([\s\S]+?)%>/g,Ct=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ot=/^\w*$/,Nt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jt=/[\\^$.*+?()[\]{}|]/g,zt=RegExp(jt.source),Dt=/^\s+|\s+$/g,Lt=/^\s+/,Ft=/\s+$/,Rt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Pt=/\{\n\/\* \[wrapped with (.+)\] \*/,It=/,? & /,Bt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ut=/\\(\\)?/g,Ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Wt=/\w*$/,Yt=/^[-+]0x[0-9a-f]+$/i,Gt=/^0b[01]+$/i,Xt=/^\[object .+?Constructor\]$/,qt=/^0o[0-7]+$/i,Vt=/^(?:0|[1-9]\d*)$/,Zt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Jt=/($^)/,$t=/['\n\r\u2028\u2029\\]/g,Qt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Kt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tn="[\\ud800-\\udfff]",nn="["+Kt+"]",en="["+Qt+"]",rn="\\d+",on="[\\u2700-\\u27bf]",an="[a-z\\xdf-\\xf6\\xf8-\\xff]",un="[^\\ud800-\\udfff"+Kt+rn+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",cn="\\ud83c[\\udffb-\\udfff]",sn="[^\\ud800-\\udfff]",ln="(?:\\ud83c[\\udde6-\\uddff]){2}",fn="[\\ud800-\\udbff][\\udc00-\\udfff]",hn="[A-Z\\xc0-\\xd6\\xd8-\\xde]",dn="(?:"+an+"|"+un+")",pn="(?:"+hn+"|"+un+")",gn="(?:"+en+"|"+cn+")"+"?",_n="[\\ufe0e\\ufe0f]?"+gn+("(?:\\u200d(?:"+[sn,ln,fn].join("|")+")[\\ufe0e\\ufe0f]?"+gn+")*"),yn="(?:"+[on,ln,fn].join("|")+")"+_n,mn="(?:"+[sn+en+"?",en,ln,fn,tn].join("|")+")",vn=RegExp("['’]","g"),bn=RegExp(en,"g"),xn=RegExp(cn+"(?="+cn+")|"+mn+_n,"g"),wn=RegExp([hn+"?"+an+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[nn,hn,"$"].join("|")+")",pn+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[nn,hn+dn,"$"].join("|")+")",hn+"?"+dn+"+(?:['’](?:d|ll|m|re|s|t|ve))?",hn+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rn,yn].join("|"),"g"),Mn=RegExp("[\\u200d\\ud800-\\udfff"+Qt+"\\ufe0e\\ufe0f]"),kn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Sn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],An=-1,En={};En[lt]=En[ft]=En[ht]=En[dt]=En[pt]=En[gt]=En[_t]=En[yt]=En[mt]=!0,En[U]=En[H]=En[ct]=En[Y]=En[st]=En[G]=En[q]=En[V]=En[J]=En[$]=En[K]=En[nt]=En[et]=En[rt]=En[at]=!1;var Tn={};Tn[U]=Tn[H]=Tn[ct]=Tn[st]=Tn[Y]=Tn[G]=Tn[lt]=Tn[ft]=Tn[ht]=Tn[dt]=Tn[pt]=Tn[J]=Tn[$]=Tn[K]=Tn[nt]=Tn[et]=Tn[rt]=Tn[it]=Tn[gt]=Tn[_t]=Tn[yt]=Tn[mt]=!0,Tn[q]=Tn[V]=Tn[at]=!1;var Cn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},On=parseFloat,Nn=parseInt,jn="object"==typeof t&&t&&t.Object===Object&&t,zn="object"==typeof self&&self&&self.Object===Object&&self,Dn=jn||zn||Function("return this")(),Ln="object"==typeof n&&n&&!n.nodeType&&n,Fn=Ln&&"object"==typeof r&&r&&!r.nodeType&&r,Rn=Fn&&Fn.exports===Ln,Pn=Rn&&jn.process,In=function(){try{var t=Fn&&Fn.require&&Fn.require("util").types;return t||Pn&&Pn.binding&&Pn.binding("util")}catch(t){}}(),Bn=In&&In.isArrayBuffer,Un=In&&In.isDate,Hn=In&&In.isMap,Wn=In&&In.isRegExp,Yn=In&&In.isSet,Gn=In&&In.isTypedArray;function Xn(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function qn(t,n,e,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];n(r,a,e(a),t)}return r}function Vn(t,n){for(var e=-1,r=null==t?0:t.length;++e<r&&!1!==n(t[e],e,t););return t}function Zn(t,n){for(var e=null==t?0:t.length;e--&&!1!==n(t[e],e,t););return t}function Jn(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(!n(t[e],e,t))return!1;return!0}function $n(t,n){for(var e=-1,r=null==t?0:t.length,i=0,o=[];++e<r;){var a=t[e];n(a,e,t)&&(o[i++]=a)}return o}function Qn(t,n){return!!(null==t?0:t.length)&&ce(t,n,0)>-1}function Kn(t,n,e){for(var r=-1,i=null==t?0:t.length;++r<i;)if(e(n,t[r]))return!0;return!1}function te(t,n){for(var e=-1,r=null==t?0:t.length,i=Array(r);++e<r;)i[e]=n(t[e],e,t);return i}function ne(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t}function ee(t,n,e,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(e=t[++i]);++i<o;)e=n(e,t[i],i,t);return e}function re(t,n,e,r){var i=null==t?0:t.length;for(r&&i&&(e=t[--i]);i--;)e=n(e,t[i],i,t);return e}function ie(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}var oe=he("length");function ae(t,n,e){var r;return e(t,function(t,e,i){if(n(t,e,i))return r=e,!1}),r}function ue(t,n,e,r){for(var i=t.length,o=e+(r?1:-1);r?o--:++o<i;)if(n(t[o],o,t))return o;return-1}function ce(t,n,e){return n==n?function(t,n,e){var r=e-1,i=t.length;for(;++r<i;)if(t[r]===n)return r;return-1}(t,n,e):ue(t,le,e)}function se(t,n,e,r){for(var i=e-1,o=t.length;++i<o;)if(r(t[i],n))return i;return-1}function le(t){return t!=t}function fe(t,n){var e=null==t?0:t.length;return e?ge(t,n)/e:F}function he(t){return function(n){return null==n?o:n[t]}}function de(t){return function(n){return null==t?o:t[n]}}function pe(t,n,e,r,i){return i(t,function(t,i,o){e=r?(r=!1,t):n(e,t,i,o)}),e}function ge(t,n){for(var e,r=-1,i=t.length;++r<i;){var a=n(t[r]);a!==o&&(e=e===o?a:e+a)}return e}function _e(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}function ye(t){return function(n){return t(n)}}function me(t,n){return te(n,function(n){return t[n]})}function ve(t,n){return t.has(n)}function be(t,n){for(var e=-1,r=t.length;++e<r&&ce(n,t[e],0)>-1;);return e}function xe(t,n){for(var e=t.length;e--&&ce(n,t[e],0)>-1;);return e}var we=de({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Me=de({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ke(t){return"\\"+Cn[t]}function Se(t){return Mn.test(t)}function Ae(t){var n=-1,e=Array(t.size);return t.forEach(function(t,r){e[++n]=[r,t]}),e}function Ee(t,n){return function(e){return t(n(e))}}function Te(t,n){for(var e=-1,r=t.length,i=0,o=[];++e<r;){var a=t[e];a!==n&&a!==f||(t[e]=f,o[i++]=e)}return o}function Ce(t,n){return"__proto__"==n?o:t[n]}function Oe(t){var n=-1,e=Array(t.size);return t.forEach(function(t){e[++n]=t}),e}function Ne(t){var n=-1,e=Array(t.size);return t.forEach(function(t){e[++n]=[t,t]}),e}function je(t){return Se(t)?function(t){var n=xn.lastIndex=0;for(;xn.test(t);)++n;return n}(t):oe(t)}function ze(t){return Se(t)?function(t){return t.match(xn)||[]}(t):function(t){return t.split("")}(t)}var De=de({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Le=function t(n){var e=(n=null==n?Dn:Le.defaults(Dn.Object(),n,Le.pick(Dn,Sn))).Array,r=n.Date,i=n.Error,Qt=n.Function,Kt=n.Math,tn=n.Object,nn=n.RegExp,en=n.String,rn=n.TypeError,on=e.prototype,an=Qt.prototype,un=tn.prototype,cn=n["__core-js_shared__"],sn=an.toString,ln=un.hasOwnProperty,fn=0,hn=function(){var t=/[^.]+$/.exec(cn&&cn.keys&&cn.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),dn=un.toString,pn=sn.call(tn),gn=Dn._,_n=nn("^"+sn.call(ln).replace(jt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yn=Rn?n.Buffer:o,mn=n.Symbol,xn=n.Uint8Array,Mn=yn?yn.allocUnsafe:o,Cn=Ee(tn.getPrototypeOf,tn),jn=tn.create,zn=un.propertyIsEnumerable,Ln=on.splice,Fn=mn?mn.isConcatSpreadable:o,Pn=mn?mn.iterator:o,In=mn?mn.toStringTag:o,oe=function(){try{var t=Io(tn,"defineProperty");return t({},"",{}),t}catch(t){}}(),de=n.clearTimeout!==Dn.clearTimeout&&n.clearTimeout,Fe=r&&r.now!==Dn.Date.now&&r.now,Re=n.setTimeout!==Dn.setTimeout&&n.setTimeout,Pe=Kt.ceil,Ie=Kt.floor,Be=tn.getOwnPropertySymbols,Ue=yn?yn.isBuffer:o,He=n.isFinite,We=on.join,Ye=Ee(tn.keys,tn),Ge=Kt.max,Xe=Kt.min,qe=r.now,Ve=n.parseInt,Ze=Kt.random,Je=on.reverse,$e=Io(n,"DataView"),Qe=Io(n,"Map"),Ke=Io(n,"Promise"),tr=Io(n,"Set"),nr=Io(n,"WeakMap"),er=Io(tn,"create"),rr=nr&&new nr,ir={},or=la($e),ar=la(Qe),ur=la(Ke),cr=la(tr),sr=la(nr),lr=mn?mn.prototype:o,fr=lr?lr.valueOf:o,hr=lr?lr.toString:o;function dr(t){if(Eu(t)&&!_u(t)&&!(t instanceof yr)){if(t instanceof _r)return t;if(ln.call(t,"__wrapped__"))return fa(t)}return new _r(t)}var pr=function(){function t(){}return function(n){if(!Au(n))return{};if(jn)return jn(n);t.prototype=n;var e=new t;return t.prototype=o,e}}();function gr(){}function _r(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=o}function yr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=R,this.__views__=[]}function mr(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function vr(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function br(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function xr(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new br;++n<e;)this.add(t[n])}function wr(t){var n=this.__data__=new vr(t);this.size=n.size}function Mr(t,n){var e=_u(t),r=!e&&gu(t),i=!e&&!r&&bu(t),o=!e&&!r&&!i&&Lu(t),a=e||r||i||o,u=a?_e(t.length,en):[],c=u.length;for(var s in t)!n&&!ln.call(t,s)||a&&("length"==s||i&&("offset"==s||"parent"==s)||o&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Xo(s,c))||u.push(s);return u}function kr(t){var n=t.length;return n?t[xi(0,n-1)]:o}function Sr(t,n){return ua(eo(t),Dr(n,0,t.length))}function Ar(t){return ua(eo(t))}function Er(t,n,e){(e===o||hu(t[n],e))&&(e!==o||n in t)||jr(t,n,e)}function Tr(t,n,e){var r=t[n];ln.call(t,n)&&hu(r,e)&&(e!==o||n in t)||jr(t,n,e)}function Cr(t,n){for(var e=t.length;e--;)if(hu(t[e][0],n))return e;return-1}function Or(t,n,e,r){return Ir(t,function(t,i,o){n(r,t,e(t),o)}),r}function Nr(t,n){return t&&ro(n,rc(n),t)}function jr(t,n,e){"__proto__"==n&&oe?oe(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}function zr(t,n){for(var r=-1,i=n.length,a=e(i),u=null==t;++r<i;)a[r]=u?o:Qu(t,n[r]);return a}function Dr(t,n,e){return t==t&&(e!==o&&(t=t<=e?t:e),n!==o&&(t=t>=n?t:n)),t}function Lr(t,n,e,r,i,a){var u,c=n&h,s=n&d,l=n&p;if(e&&(u=i?e(t,r,i,a):e(t)),u!==o)return u;if(!Au(t))return t;var f=_u(t);if(f){if(u=function(t){var n=t.length,e=new t.constructor(n);return n&&"string"==typeof t[0]&&ln.call(t,"index")&&(e.index=t.index,e.input=t.input),e}(t),!c)return eo(t,u)}else{var g=Ho(t),_=g==V||g==Z;if(bu(t))return Ji(t,c);if(g==K||g==U||_&&!i){if(u=s||_?{}:Yo(t),!c)return s?function(t,n){return ro(t,Uo(t),n)}(t,function(t,n){return t&&ro(n,ic(n),t)}(u,t)):function(t,n){return ro(t,Bo(t),n)}(t,Nr(u,t))}else{if(!Tn[g])return i?t:{};u=function(t,n,e){var r=t.constructor;switch(n){case ct:return $i(t);case Y:case G:return new r(+t);case st:return function(t,n){var e=n?$i(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case lt:case ft:case ht:case dt:case pt:case gt:case _t:case yt:case mt:return Qi(t,e);case J:return new r;case $:case rt:return new r(t);case nt:return function(t){var n=new t.constructor(t.source,Wt.exec(t));return n.lastIndex=t.lastIndex,n}(t);case et:return new r;case it:return function(t){return fr?tn(fr.call(t)):{}}(t)}}(t,g,c)}}a||(a=new wr);var y=a.get(t);if(y)return y;if(a.set(t,u),ju(t))return t.forEach(function(r){u.add(Lr(r,n,e,r,t,a))}),u;if(Tu(t))return t.forEach(function(r,i){u.set(i,Lr(r,n,e,i,t,a))}),u;var m=f?o:(l?s?jo:No:s?ic:rc)(t);return Vn(m||t,function(r,i){m&&(r=t[i=r]),Tr(u,i,Lr(r,n,e,i,t,a))}),u}function Fr(t,n,e){var r=e.length;if(null==t)return!r;for(t=tn(t);r--;){var i=e[r],a=n[i],u=t[i];if(u===o&&!(i in t)||!a(u))return!1}return!0}function Rr(t,n,e){if("function"!=typeof t)throw new rn(c);return ra(function(){t.apply(o,e)},n)}function Pr(t,n,e,r){var i=-1,o=Qn,u=!0,c=t.length,s=[],l=n.length;if(!c)return s;e&&(n=te(n,ye(e))),r?(o=Kn,u=!1):n.length>=a&&(o=ve,u=!1,n=new xr(n));t:for(;++i<c;){var f=t[i],h=null==e?f:e(f);if(f=r||0!==f?f:0,u&&h==h){for(var d=l;d--;)if(n[d]===h)continue t;s.push(f)}else o(n,h,r)||s.push(f)}return s}dr.templateSettings={escape:At,evaluate:Et,interpolate:Tt,variable:"",imports:{_:dr}},dr.prototype=gr.prototype,dr.prototype.constructor=dr,_r.prototype=pr(gr.prototype),_r.prototype.constructor=_r,yr.prototype=pr(gr.prototype),yr.prototype.constructor=yr,mr.prototype.clear=function(){this.__data__=er?er(null):{},this.size=0},mr.prototype.delete=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},mr.prototype.get=function(t){var n=this.__data__;if(er){var e=n[t];return e===s?o:e}return ln.call(n,t)?n[t]:o},mr.prototype.has=function(t){var n=this.__data__;return er?n[t]!==o:ln.call(n,t)},mr.prototype.set=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=er&&n===o?s:n,this},vr.prototype.clear=function(){this.__data__=[],this.size=0},vr.prototype.delete=function(t){var n=this.__data__,e=Cr(n,t);return!(e<0||(e==n.length-1?n.pop():Ln.call(n,e,1),--this.size,0))},vr.prototype.get=function(t){var n=this.__data__,e=Cr(n,t);return e<0?o:n[e][1]},vr.prototype.has=function(t){return Cr(this.__data__,t)>-1},vr.prototype.set=function(t,n){var e=this.__data__,r=Cr(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this},br.prototype.clear=function(){this.size=0,this.__data__={hash:new mr,map:new(Qe||vr),string:new mr}},br.prototype.delete=function(t){var n=Ro(this,t).delete(t);return this.size-=n?1:0,n},br.prototype.get=function(t){return Ro(this,t).get(t)},br.prototype.has=function(t){return Ro(this,t).has(t)},br.prototype.set=function(t,n){var e=Ro(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this},xr.prototype.add=xr.prototype.push=function(t){return this.__data__.set(t,s),this},xr.prototype.has=function(t){return this.__data__.has(t)},wr.prototype.clear=function(){this.__data__=new vr,this.size=0},wr.prototype.delete=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e},wr.prototype.get=function(t){return this.__data__.get(t)},wr.prototype.has=function(t){return this.__data__.has(t)},wr.prototype.set=function(t,n){var e=this.__data__;if(e instanceof vr){var r=e.__data__;if(!Qe||r.length<a-1)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new br(r)}return e.set(t,n),this.size=e.size,this};var Ir=ao(qr),Br=ao(Vr,!0);function Ur(t,n){var e=!0;return Ir(t,function(t,r,i){return e=!!n(t,r,i)}),e}function Hr(t,n,e){for(var r=-1,i=t.length;++r<i;){var a=t[r],u=n(a);if(null!=u&&(c===o?u==u&&!Du(u):e(u,c)))var c=u,s=a}return s}function Wr(t,n){var e=[];return Ir(t,function(t,r,i){n(t,r,i)&&e.push(t)}),e}function Yr(t,n,e,r,i){var o=-1,a=t.length;for(e||(e=Go),i||(i=[]);++o<a;){var u=t[o];n>0&&e(u)?n>1?Yr(u,n-1,e,r,i):ne(i,u):r||(i[i.length]=u)}return i}var Gr=uo(),Xr=uo(!0);function qr(t,n){return t&&Gr(t,n,rc)}function Vr(t,n){return t&&Xr(t,n,rc)}function Zr(t,n){return $n(n,function(n){return Mu(t[n])})}function Jr(t,n){for(var e=0,r=(n=Xi(n,t)).length;null!=t&&e<r;)t=t[sa(n[e++])];return e&&e==r?t:o}function $r(t,n,e){var r=n(t);return _u(t)?r:ne(r,e(t))}function Qr(t){return null==t?t===o?ot:Q:In&&In in tn(t)?function(t){var n=ln.call(t,In),e=t[In];try{t[In]=o;var r=!0}catch(t){}var i=dn.call(t);return r&&(n?t[In]=e:delete t[In]),i}(t):function(t){return dn.call(t)}(t)}function Kr(t,n){return t>n}function ti(t,n){return null!=t&&ln.call(t,n)}function ni(t,n){return null!=t&&n in tn(t)}function ei(t,n,r){for(var i=r?Kn:Qn,a=t[0].length,u=t.length,c=u,s=e(u),l=1/0,f=[];c--;){var h=t[c];c&&n&&(h=te(h,ye(n))),l=Xe(h.length,l),s[c]=!r&&(n||a>=120&&h.length>=120)?new xr(c&&h):o}h=t[0];var d=-1,p=s[0];t:for(;++d<a&&f.length<l;){var g=h[d],_=n?n(g):g;if(g=r||0!==g?g:0,!(p?ve(p,_):i(f,_,r))){for(c=u;--c;){var y=s[c];if(!(y?ve(y,_):i(t[c],_,r)))continue t}p&&p.push(_),f.push(g)}}return f}function ri(t,n,e){var r=null==(t=na(t,n=Xi(n,t)))?t:t[sa(wa(n))];return null==r?o:Xn(r,t,e)}function ii(t){return Eu(t)&&Qr(t)==U}function oi(t,n,e,r,i){return t===n||(null==t||null==n||!Eu(t)&&!Eu(n)?t!=t&&n!=n:function(t,n,e,r,i,a){var u=_u(t),c=_u(n),s=u?H:Ho(t),l=c?H:Ho(n),f=(s=s==U?K:s)==K,h=(l=l==U?K:l)==K,d=s==l;if(d&&bu(t)){if(!bu(n))return!1;u=!0,f=!1}if(d&&!f)return a||(a=new wr),u||Lu(t)?Co(t,n,e,r,i,a):function(t,n,e,r,i,o,a){switch(e){case st:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case ct:return!(t.byteLength!=n.byteLength||!o(new xn(t),new xn(n)));case Y:case G:case $:return hu(+t,+n);case q:return t.name==n.name&&t.message==n.message;case nt:case rt:return t==n+"";case J:var u=Ae;case et:var c=r&g;if(u||(u=Oe),t.size!=n.size&&!c)return!1;var s=a.get(t);if(s)return s==n;r|=_,a.set(t,n);var l=Co(u(t),u(n),r,i,o,a);return a.delete(t),l;case it:if(fr)return fr.call(t)==fr.call(n)}return!1}(t,n,s,e,r,i,a);if(!(e&g)){var p=f&&ln.call(t,"__wrapped__"),y=h&&ln.call(n,"__wrapped__");if(p||y){var m=p?t.value():t,v=y?n.value():n;return a||(a=new wr),i(m,v,e,r,a)}}return!!d&&(a||(a=new wr),function(t,n,e,r,i,a){var u=e&g,c=No(t),s=c.length,l=No(n).length;if(s!=l&&!u)return!1;for(var f=s;f--;){var h=c[f];if(!(u?h in n:ln.call(n,h)))return!1}var d=a.get(t);if(d&&a.get(n))return d==n;var p=!0;a.set(t,n),a.set(n,t);for(var _=u;++f<s;){h=c[f];var y=t[h],m=n[h];if(r)var v=u?r(m,y,h,n,t,a):r(y,m,h,t,n,a);if(!(v===o?y===m||i(y,m,e,r,a):v)){p=!1;break}_||(_="constructor"==h)}if(p&&!_){var b=t.constructor,x=n.constructor;b!=x&&"constructor"in t&&"constructor"in n&&!("function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x)&&(p=!1)}return a.delete(t),a.delete(n),p}(t,n,e,r,i,a))}(t,n,e,r,oi,i))}function ai(t,n,e,r){var i=e.length,a=i,u=!r;if(null==t)return!a;for(t=tn(t);i--;){var c=e[i];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<a;){var s=(c=e[i])[0],l=t[s],f=c[1];if(u&&c[2]){if(l===o&&!(s in t))return!1}else{var h=new wr;if(r)var d=r(l,f,s,t,n,h);if(!(d===o?oi(f,l,g|_,r,h):d))return!1}}return!0}function ui(t){return!(!Au(t)||function(t){return!!hn&&hn in t}(t))&&(Mu(t)?_n:Xt).test(la(t))}function ci(t){return"function"==typeof t?t:null==t?Cc:"object"==typeof t?_u(t)?pi(t[0],t[1]):di(t):Pc(t)}function si(t){if(!$o(t))return Ye(t);var n=[];for(var e in tn(t))ln.call(t,e)&&"constructor"!=e&&n.push(e);return n}function li(t){if(!Au(t))return function(t){var n=[];if(null!=t)for(var e in tn(t))n.push(e);return n}(t);var n=$o(t),e=[];for(var r in t)("constructor"!=r||!n&&ln.call(t,r))&&e.push(r);return e}function fi(t,n){return t<n}function hi(t,n){var r=-1,i=mu(t)?e(t.length):[];return Ir(t,function(t,e,o){i[++r]=n(t,e,o)}),i}function di(t){var n=Po(t);return 1==n.length&&n[0][2]?Ko(n[0][0],n[0][1]):function(e){return e===t||ai(e,t,n)}}function pi(t,n){return Vo(t)&&Qo(n)?Ko(sa(t),n):function(e){var r=Qu(e,t);return r===o&&r===n?Ku(e,t):oi(n,r,g|_)}}function gi(t,n,e,r,i){t!==n&&Gr(n,function(a,u){if(Au(a))i||(i=new wr),function(t,n,e,r,i,a,u){var c=Ce(t,e),s=Ce(n,e),l=u.get(s);if(l)Er(t,e,l);else{var f=a?a(c,s,e+"",t,n,u):o,h=f===o;if(h){var d=_u(s),p=!d&&bu(s),g=!d&&!p&&Lu(s);f=s,d||p||g?_u(c)?f=c:vu(c)?f=eo(c):p?(h=!1,f=Ji(s,!0)):g?(h=!1,f=Qi(s,!0)):f=[]:Ou(s)||gu(s)?(f=c,gu(c)?f=Wu(c):(!Au(c)||r&&Mu(c))&&(f=Yo(s))):h=!1}h&&(u.set(s,f),i(f,s,r,a,u),u.delete(s)),Er(t,e,f)}}(t,n,u,e,gi,r,i);else{var c=r?r(Ce(t,u),a,u+"",t,n,i):o;c===o&&(c=a),Er(t,u,c)}},ic)}function _i(t,n){var e=t.length;if(e)return Xo(n+=n<0?e:0,e)?t[n]:o}function yi(t,n,e){var r=-1;return n=te(n.length?n:[Cc],ye(Fo())),function(t,n){var e=t.length;for(t.sort(n);e--;)t[e]=t[e].value;return t}(hi(t,function(t,e,i){return{criteria:te(n,function(n){return n(t)}),index:++r,value:t}}),function(t,n){return function(t,n,e){for(var r=-1,i=t.criteria,o=n.criteria,a=i.length,u=e.length;++r<a;){var c=Ki(i[r],o[r]);if(c){if(r>=u)return c;var s=e[r];return c*("desc"==s?-1:1)}}return t.index-n.index}(t,n,e)})}function mi(t,n,e){for(var r=-1,i=n.length,o={};++r<i;){var a=n[r],u=Jr(t,a);e(u,a)&&Ai(o,Xi(a,t),u)}return o}function vi(t,n,e,r){var i=r?se:ce,o=-1,a=n.length,u=t;for(t===n&&(n=eo(n)),e&&(u=te(t,ye(e)));++o<a;)for(var c=0,s=n[o],l=e?e(s):s;(c=i(u,l,c,r))>-1;)u!==t&&Ln.call(u,c,1),Ln.call(t,c,1);return t}function bi(t,n){for(var e=t?n.length:0,r=e-1;e--;){var i=n[e];if(e==r||i!==o){var o=i;Xo(i)?Ln.call(t,i,1):Pi(t,i)}}return t}function xi(t,n){return t+Ie(Ze()*(n-t+1))}function wi(t,n){var e="";if(!t||n<1||n>D)return e;do{n%2&&(e+=t),(n=Ie(n/2))&&(t+=t)}while(n);return e}function Mi(t,n){return ia(ta(t,n,Cc),t+"")}function ki(t){return kr(hc(t))}function Si(t,n){var e=hc(t);return ua(e,Dr(n,0,e.length))}function Ai(t,n,e,r){if(!Au(t))return t;for(var i=-1,a=(n=Xi(n,t)).length,u=a-1,c=t;null!=c&&++i<a;){var s=sa(n[i]),l=e;if(i!=u){var f=c[s];(l=r?r(f,s,c):o)===o&&(l=Au(f)?f:Xo(n[i+1])?[]:{})}Tr(c,s,l),c=c[s]}return t}var Ei=rr?function(t,n){return rr.set(t,n),t}:Cc,Ti=oe?function(t,n){return oe(t,"toString",{configurable:!0,enumerable:!1,value:Ac(n),writable:!0})}:Cc;function Ci(t){return ua(hc(t))}function Oi(t,n,r){var i=-1,o=t.length;n<0&&(n=-n>o?0:o+n),(r=r>o?o:r)<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var a=e(o);++i<o;)a[i]=t[i+n];return a}function Ni(t,n){var e;return Ir(t,function(t,r,i){return!(e=n(t,r,i))}),!!e}function ji(t,n,e){var r=0,i=null==t?r:t.length;if("number"==typeof n&&n==n&&i<=I){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Du(a)&&(e?a<=n:a<n)?r=o+1:i=o}return i}return zi(t,n,Cc,e)}function zi(t,n,e,r){n=e(n);for(var i=0,a=null==t?0:t.length,u=n!=n,c=null===n,s=Du(n),l=n===o;i<a;){var f=Ie((i+a)/2),h=e(t[f]),d=h!==o,p=null===h,g=h==h,_=Du(h);if(u)var y=r||g;else y=l?g&&(r||d):c?g&&d&&(r||!p):s?g&&d&&!p&&(r||!_):!p&&!_&&(r?h<=n:h<n);y?i=f+1:a=f}return Xe(a,P)}function Di(t,n){for(var e=-1,r=t.length,i=0,o=[];++e<r;){var a=t[e],u=n?n(a):a;if(!e||!hu(u,c)){var c=u;o[i++]=0===a?0:a}}return o}function Li(t){return"number"==typeof t?t:Du(t)?F:+t}function Fi(t){if("string"==typeof t)return t;if(_u(t))return te(t,Fi)+"";if(Du(t))return hr?hr.call(t):"";var n=t+"";return"0"==n&&1/t==-z?"-0":n}function Ri(t,n,e){var r=-1,i=Qn,o=t.length,u=!0,c=[],s=c;if(e)u=!1,i=Kn;else if(o>=a){var l=n?null:Mo(t);if(l)return Oe(l);u=!1,i=ve,s=new xr}else s=n?[]:c;t:for(;++r<o;){var f=t[r],h=n?n(f):f;if(f=e||0!==f?f:0,u&&h==h){for(var d=s.length;d--;)if(s[d]===h)continue t;n&&s.push(h),c.push(f)}else i(s,h,e)||(s!==c&&s.push(h),c.push(f))}return c}function Pi(t,n){return null==(t=na(t,n=Xi(n,t)))||delete t[sa(wa(n))]}function Ii(t,n,e,r){return Ai(t,n,e(Jr(t,n)),r)}function Bi(t,n,e,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&n(t[o],o,t););return e?Oi(t,r?0:o,r?o+1:i):Oi(t,r?o+1:0,r?i:o)}function Ui(t,n){var e=t;return e instanceof yr&&(e=e.value()),ee(n,function(t,n){return n.func.apply(n.thisArg,ne([t],n.args))},e)}function Hi(t,n,r){var i=t.length;if(i<2)return i?Ri(t[0]):[];for(var o=-1,a=e(i);++o<i;)for(var u=t[o],c=-1;++c<i;)c!=o&&(a[o]=Pr(a[o]||u,t[c],n,r));return Ri(Yr(a,1),n,r)}function Wi(t,n,e){for(var r=-1,i=t.length,a=n.length,u={};++r<i;){var c=r<a?n[r]:o;e(u,t[r],c)}return u}function Yi(t){return vu(t)?t:[]}function Gi(t){return"function"==typeof t?t:Cc}function Xi(t,n){return _u(t)?t:Vo(t,n)?[t]:ca(Yu(t))}var qi=Mi;function Vi(t,n,e){var r=t.length;return e=e===o?r:e,!n&&e>=r?t:Oi(t,n,e)}var Zi=de||function(t){return Dn.clearTimeout(t)};function Ji(t,n){if(n)return t.slice();var e=t.length,r=Mn?Mn(e):new t.constructor(e);return t.copy(r),r}function $i(t){var n=new t.constructor(t.byteLength);return new xn(n).set(new xn(t)),n}function Qi(t,n){var e=n?$i(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}function Ki(t,n){if(t!==n){var e=t!==o,r=null===t,i=t==t,a=Du(t),u=n!==o,c=null===n,s=n==n,l=Du(n);if(!c&&!l&&!a&&t>n||a&&u&&s&&!c&&!l||r&&u&&s||!e&&s||!i)return 1;if(!r&&!a&&!l&&t<n||l&&e&&i&&!r&&!a||c&&e&&i||!u&&i||!s)return-1}return 0}function to(t,n,r,i){for(var o=-1,a=t.length,u=r.length,c=-1,s=n.length,l=Ge(a-u,0),f=e(s+l),h=!i;++c<s;)f[c]=n[c];for(;++o<u;)(h||o<a)&&(f[r[o]]=t[o]);for(;l--;)f[c++]=t[o++];return f}function no(t,n,r,i){for(var o=-1,a=t.length,u=-1,c=r.length,s=-1,l=n.length,f=Ge(a-c,0),h=e(f+l),d=!i;++o<f;)h[o]=t[o];for(var p=o;++s<l;)h[p+s]=n[s];for(;++u<c;)(d||o<a)&&(h[p+r[u]]=t[o++]);return h}function eo(t,n){var r=-1,i=t.length;for(n||(n=e(i));++r<i;)n[r]=t[r];return n}function ro(t,n,e,r){var i=!e;e||(e={});for(var a=-1,u=n.length;++a<u;){var c=n[a],s=r?r(e[c],t[c],c,e,t):o;s===o&&(s=t[c]),i?jr(e,c,s):Tr(e,c,s)}return e}function io(t,n){return function(e,r){var i=_u(e)?qn:Or,o=n?n():{};return i(e,t,Fo(r,2),o)}}function oo(t){return Mi(function(n,e){var r=-1,i=e.length,a=i>1?e[i-1]:o,u=i>2?e[2]:o;for(a=t.length>3&&"function"==typeof a?(i--,a):o,u&&qo(e[0],e[1],u)&&(a=i<3?o:a,i=1),n=tn(n);++r<i;){var c=e[r];c&&t(n,c,r,a)}return n})}function ao(t,n){return function(e,r){if(null==e)return e;if(!mu(e))return t(e,r);for(var i=e.length,o=n?i:-1,a=tn(e);(n?o--:++o<i)&&!1!==r(a[o],o,a););return e}}function uo(t){return function(n,e,r){for(var i=-1,o=tn(n),a=r(n),u=a.length;u--;){var c=a[t?u:++i];if(!1===e(o[c],c,o))break}return n}}function co(t){return function(n){var e=Se(n=Yu(n))?ze(n):o,r=e?e[0]:n.charAt(0),i=e?Vi(e,1).join(""):n.slice(1);return r[t]()+i}}function so(t){return function(n){return ee(Mc(gc(n).replace(vn,"")),t,"")}}function lo(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var e=pr(t.prototype),r=t.apply(e,n);return Au(r)?r:e}}function fo(t){return function(n,e,r){var i=tn(n);if(!mu(n)){var a=Fo(e,3);n=rc(n),e=function(t){return a(i[t],t,i)}}var u=t(n,e,r);return u>-1?i[a?n[u]:u]:o}}function ho(t){return Oo(function(n){var e=n.length,r=e,i=_r.prototype.thru;for(t&&n.reverse();r--;){var a=n[r];if("function"!=typeof a)throw new rn(c);if(i&&!u&&"wrapper"==Do(a))var u=new _r([],!0)}for(r=u?r:e;++r<e;){var s=Do(a=n[r]),l="wrapper"==s?zo(a):o;u=l&&Zo(l[0])&&l[1]==(k|b|w|S)&&!l[4].length&&1==l[9]?u[Do(l[0])].apply(u,l[3]):1==a.length&&Zo(a)?u[s]():u.thru(a)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&_u(r))return u.plant(r).value();for(var i=0,o=e?n[i].apply(this,t):r;++i<e;)o=n[i].call(this,o);return o}})}function po(t,n,r,i,a,u,c,s,l,f){var h=n&k,d=n&y,p=n&m,g=n&(b|x),_=n&A,v=p?o:lo(t);return function y(){for(var m=arguments.length,b=e(m),x=m;x--;)b[x]=arguments[x];if(g)var w=Lo(y),M=function(t,n){for(var e=t.length,r=0;e--;)t[e]===n&&++r;return r}(b,w);if(i&&(b=to(b,i,a,g)),u&&(b=no(b,u,c,g)),m-=M,g&&m<f){var k=Te(b,w);return xo(t,n,po,y.placeholder,r,b,k,s,l,f-m)}var S=d?r:this,A=p?S[t]:t;return m=b.length,s?b=function(t,n){for(var e=t.length,r=Xe(n.length,e),i=eo(t);r--;){var a=n[r];t[r]=Xo(a,e)?i[a]:o}return t}(b,s):_&&m>1&&b.reverse(),h&&l<m&&(b.length=l),this&&this!==Dn&&this instanceof y&&(A=v||lo(A)),A.apply(S,b)}}function go(t,n){return function(e,r){return function(t,n,e,r){return qr(t,function(t,i,o){n(r,e(t),i,o)}),r}(e,t,n(r),{})}}function _o(t,n){return function(e,r){var i;if(e===o&&r===o)return n;if(e!==o&&(i=e),r!==o){if(i===o)return r;"string"==typeof e||"string"==typeof r?(e=Fi(e),r=Fi(r)):(e=Li(e),r=Li(r)),i=t(e,r)}return i}}function yo(t){return Oo(function(n){return n=te(n,ye(Fo())),Mi(function(e){var r=this;return t(n,function(t){return Xn(t,r,e)})})})}function mo(t,n){var e=(n=n===o?" ":Fi(n)).length;if(e<2)return e?wi(n,t):n;var r=wi(n,Pe(t/je(n)));return Se(n)?Vi(ze(r),0,t).join(""):r.slice(0,t)}function vo(t){return function(n,r,i){return i&&"number"!=typeof i&&qo(n,r,i)&&(r=i=o),n=Iu(n),r===o?(r=n,n=0):r=Iu(r),function(t,n,r,i){for(var o=-1,a=Ge(Pe((n-t)/(r||1)),0),u=e(a);a--;)u[i?a:++o]=t,t+=r;return u}(n,r,i=i===o?n<r?1:-1:Iu(i),t)}}function bo(t){return function(n,e){return"string"==typeof n&&"string"==typeof e||(n=Hu(n),e=Hu(e)),t(n,e)}}function xo(t,n,e,r,i,a,u,c,s,l){var f=n&b;n|=f?w:M,(n&=~(f?M:w))&v||(n&=~(y|m));var h=[t,n,i,f?a:o,f?u:o,f?o:a,f?o:u,c,s,l],d=e.apply(o,h);return Zo(t)&&ea(d,h),d.placeholder=r,oa(d,t,n)}function wo(t){var n=Kt[t];return function(t,e){if(t=Hu(t),e=null==e?0:Xe(Bu(e),292)){var r=(Yu(t)+"e").split("e");return+((r=(Yu(n(r[0]+"e"+(+r[1]+e)))+"e").split("e"))[0]+"e"+(+r[1]-e))}return n(t)}}var Mo=tr&&1/Oe(new tr([,-0]))[1]==z?function(t){return new tr(t)}:Dc;function ko(t){return function(n){var e=Ho(n);return e==J?Ae(n):e==et?Ne(n):function(t,n){return te(n,function(n){return[n,t[n]]})}(n,t(n))}}function So(t,n,r,i,a,u,s,l){var h=n&m;if(!h&&"function"!=typeof t)throw new rn(c);var d=i?i.length:0;if(d||(n&=~(w|M),i=a=o),s=s===o?s:Ge(Bu(s),0),l=l===o?l:Bu(l),d-=a?a.length:0,n&M){var p=i,g=a;i=a=o}var _=h?o:zo(t),A=[t,n,r,i,a,p,g,u,s,l];if(_&&function(t,n){var e=t[1],r=n[1],i=e|r,o=i<(y|m|k),a=r==k&&e==b||r==k&&e==S&&t[7].length<=n[8]||r==(k|S)&&n[7].length<=n[8]&&e==b;if(!o&&!a)return t;r&y&&(t[2]=n[2],i|=e&y?0:v);var u=n[3];if(u){var c=t[3];t[3]=c?to(c,u,n[4]):u,t[4]=c?Te(t[3],f):n[4]}(u=n[5])&&(c=t[5],t[5]=c?no(c,u,n[6]):u,t[6]=c?Te(t[5],f):n[6]),(u=n[7])&&(t[7]=u),r&k&&(t[8]=null==t[8]?n[8]:Xe(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=i}(A,_),t=A[0],n=A[1],r=A[2],i=A[3],a=A[4],!(l=A[9]=A[9]===o?h?0:t.length:Ge(A[9]-d,0))&&n&(b|x)&&(n&=~(b|x)),n&&n!=y)E=n==b||n==x?function(t,n,r){var i=lo(t);return function a(){for(var u=arguments.length,c=e(u),s=u,l=Lo(a);s--;)c[s]=arguments[s];var f=u<3&&c[0]!==l&&c[u-1]!==l?[]:Te(c,l);return(u-=f.length)<r?xo(t,n,po,a.placeholder,o,c,f,o,o,r-u):Xn(this&&this!==Dn&&this instanceof a?i:t,this,c)}}(t,n,l):n!=w&&n!=(y|w)||a.length?po.apply(o,A):function(t,n,r,i){var o=n&y,a=lo(t);return function n(){for(var u=-1,c=arguments.length,s=-1,l=i.length,f=e(l+c),h=this&&this!==Dn&&this instanceof n?a:t;++s<l;)f[s]=i[s];for(;c--;)f[s++]=arguments[++u];return Xn(h,o?r:this,f)}}(t,n,r,i);else var E=function(t,n,e){var r=n&y,i=lo(t);return function n(){return(this&&this!==Dn&&this instanceof n?i:t).apply(r?e:this,arguments)}}(t,n,r);return oa((_?Ei:ea)(E,A),t,n)}function Ao(t,n,e,r){return t===o||hu(t,un[e])&&!ln.call(r,e)?n:t}function Eo(t,n,e,r,i,a){return Au(t)&&Au(n)&&(a.set(n,t),gi(t,n,o,Eo,a),a.delete(n)),t}function To(t){return Ou(t)?o:t}function Co(t,n,e,r,i,a){var u=e&g,c=t.length,s=n.length;if(c!=s&&!(u&&s>c))return!1;var l=a.get(t);if(l&&a.get(n))return l==n;var f=-1,h=!0,d=e&_?new xr:o;for(a.set(t,n),a.set(n,t);++f<c;){var p=t[f],y=n[f];if(r)var m=u?r(y,p,f,n,t,a):r(p,y,f,t,n,a);if(m!==o){if(m)continue;h=!1;break}if(d){if(!ie(n,function(t,n){if(!ve(d,n)&&(p===t||i(p,t,e,r,a)))return d.push(n)})){h=!1;break}}else if(p!==y&&!i(p,y,e,r,a)){h=!1;break}}return a.delete(t),a.delete(n),h}function Oo(t){return ia(ta(t,o,ya),t+"")}function No(t){return $r(t,rc,Bo)}function jo(t){return $r(t,ic,Uo)}var zo=rr?function(t){return rr.get(t)}:Dc;function Do(t){for(var n=t.name+"",e=ir[n],r=ln.call(ir,n)?e.length:0;r--;){var i=e[r],o=i.func;if(null==o||o==t)return i.name}return n}function Lo(t){return(ln.call(dr,"placeholder")?dr:t).placeholder}function Fo(){var t=dr.iteratee||Oc;return t=t===Oc?ci:t,arguments.length?t(arguments[0],arguments[1]):t}function Ro(t,n){var e=t.__data__;return function(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}(n)?e["string"==typeof n?"string":"hash"]:e.map}function Po(t){for(var n=rc(t),e=n.length;e--;){var r=n[e],i=t[r];n[e]=[r,i,Qo(i)]}return n}function Io(t,n){var e=function(t,n){return null==t?o:t[n]}(t,n);return ui(e)?e:o}var Bo=Be?function(t){return null==t?[]:(t=tn(t),$n(Be(t),function(n){return zn.call(t,n)}))}:Uc,Uo=Be?function(t){for(var n=[];t;)ne(n,Bo(t)),t=Cn(t);return n}:Uc,Ho=Qr;function Wo(t,n,e){for(var r=-1,i=(n=Xi(n,t)).length,o=!1;++r<i;){var a=sa(n[r]);if(!(o=null!=t&&e(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Su(i)&&Xo(a,i)&&(_u(t)||gu(t))}function Yo(t){return"function"!=typeof t.constructor||$o(t)?{}:pr(Cn(t))}function Go(t){return _u(t)||gu(t)||!!(Fn&&t&&t[Fn])}function Xo(t,n){var e=typeof t;return!!(n=null==n?D:n)&&("number"==e||"symbol"!=e&&Vt.test(t))&&t>-1&&t%1==0&&t<n}function qo(t,n,e){if(!Au(e))return!1;var r=typeof n;return!!("number"==r?mu(e)&&Xo(n,e.length):"string"==r&&n in e)&&hu(e[n],t)}function Vo(t,n){if(_u(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!Du(t))||Ot.test(t)||!Ct.test(t)||null!=n&&t in tn(n)}function Zo(t){var n=Do(t),e=dr[n];if("function"!=typeof e||!(n in yr.prototype))return!1;if(t===e)return!0;var r=zo(e);return!!r&&t===r[0]}($e&&Ho(new $e(new ArrayBuffer(1)))!=st||Qe&&Ho(new Qe)!=J||Ke&&"[object Promise]"!=Ho(Ke.resolve())||tr&&Ho(new tr)!=et||nr&&Ho(new nr)!=at)&&(Ho=function(t){var n=Qr(t),e=n==K?t.constructor:o,r=e?la(e):"";if(r)switch(r){case or:return st;case ar:return J;case ur:return"[object Promise]";case cr:return et;case sr:return at}return n});var Jo=cn?Mu:Hc;function $o(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||un)}function Qo(t){return t==t&&!Au(t)}function Ko(t,n){return function(e){return null!=e&&e[t]===n&&(n!==o||t in tn(e))}}function ta(t,n,r){return n=Ge(n===o?t.length-1:n,0),function(){for(var i=arguments,o=-1,a=Ge(i.length-n,0),u=e(a);++o<a;)u[o]=i[n+o];o=-1;for(var c=e(n+1);++o<n;)c[o]=i[o];return c[n]=r(u),Xn(t,this,c)}}function na(t,n){return n.length<2?t:Jr(t,Oi(n,0,-1))}var ea=aa(Ei),ra=Re||function(t,n){return Dn.setTimeout(t,n)},ia=aa(Ti);function oa(t,n,e){var r=n+"";return ia(t,function(t,n){var e=n.length;if(!e)return t;var r=e-1;return n[r]=(e>1?"& ":"")+n[r],n=n.join(e>2?", ":" "),t.replace(Rt,"{\n/* [wrapped with "+n+"] */\n")}(r,function(t,n){return Vn(B,function(e){var r="_."+e[0];n&e[1]&&!Qn(t,r)&&t.push(r)}),t.sort()}(function(t){var n=t.match(Pt);return n?n[1].split(It):[]}(r),e)))}function aa(t){var n=0,e=0;return function(){var r=qe(),i=O-(r-e);if(e=r,i>0){if(++n>=C)return arguments[0]}else n=0;return t.apply(o,arguments)}}function ua(t,n){var e=-1,r=t.length,i=r-1;for(n=n===o?r:n;++e<n;){var a=xi(e,i),u=t[a];t[a]=t[e],t[e]=u}return t.length=n,t}var ca=function(t){var n=au(t,function(t){return e.size===l&&e.clear(),t}),e=n.cache;return n}(function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(Nt,function(t,e,r,i){n.push(r?i.replace(Ut,"$1"):e||t)}),n});function sa(t){if("string"==typeof t||Du(t))return t;var n=t+"";return"0"==n&&1/t==-z?"-0":n}function la(t){if(null!=t){try{return sn.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function fa(t){if(t instanceof yr)return t.clone();var n=new _r(t.__wrapped__,t.__chain__);return n.__actions__=eo(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}var ha=Mi(function(t,n){return vu(t)?Pr(t,Yr(n,1,vu,!0)):[]}),da=Mi(function(t,n){var e=wa(n);return vu(e)&&(e=o),vu(t)?Pr(t,Yr(n,1,vu,!0),Fo(e,2)):[]}),pa=Mi(function(t,n){var e=wa(n);return vu(e)&&(e=o),vu(t)?Pr(t,Yr(n,1,vu,!0),o,e):[]});function ga(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=null==e?0:Bu(e);return i<0&&(i=Ge(r+i,0)),ue(t,Fo(n,3),i)}function _a(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return e!==o&&(i=Bu(e),i=e<0?Ge(r+i,0):Xe(i,r-1)),ue(t,Fo(n,3),i,!0)}function ya(t){return null!=t&&t.length?Yr(t,1):[]}function ma(t){return t&&t.length?t[0]:o}var va=Mi(function(t){var n=te(t,Yi);return n.length&&n[0]===t[0]?ei(n):[]}),ba=Mi(function(t){var n=wa(t),e=te(t,Yi);return n===wa(e)?n=o:e.pop(),e.length&&e[0]===t[0]?ei(e,Fo(n,2)):[]}),xa=Mi(function(t){var n=wa(t),e=te(t,Yi);return(n="function"==typeof n?n:o)&&e.pop(),e.length&&e[0]===t[0]?ei(e,o,n):[]});function wa(t){var n=null==t?0:t.length;return n?t[n-1]:o}var Ma=Mi(ka);function ka(t,n){return t&&t.length&&n&&n.length?vi(t,n):t}var Sa=Oo(function(t,n){var e=null==t?0:t.length,r=zr(t,n);return bi(t,te(n,function(t){return Xo(t,e)?+t:t}).sort(Ki)),r});function Aa(t){return null==t?t:Je.call(t)}var Ea=Mi(function(t){return Ri(Yr(t,1,vu,!0))}),Ta=Mi(function(t){var n=wa(t);return vu(n)&&(n=o),Ri(Yr(t,1,vu,!0),Fo(n,2))}),Ca=Mi(function(t){var n=wa(t);return n="function"==typeof n?n:o,Ri(Yr(t,1,vu,!0),o,n)});function Oa(t){if(!t||!t.length)return[];var n=0;return t=$n(t,function(t){if(vu(t))return n=Ge(t.length,n),!0}),_e(n,function(n){return te(t,he(n))})}function Na(t,n){if(!t||!t.length)return[];var e=Oa(t);return null==n?e:te(e,function(t){return Xn(n,o,t)})}var ja=Mi(function(t,n){return vu(t)?Pr(t,n):[]}),za=Mi(function(t){return Hi($n(t,vu))}),Da=Mi(function(t){var n=wa(t);return vu(n)&&(n=o),Hi($n(t,vu),Fo(n,2))}),La=Mi(function(t){var n=wa(t);return n="function"==typeof n?n:o,Hi($n(t,vu),o,n)}),Fa=Mi(Oa);var Ra=Mi(function(t){var n=t.length,e=n>1?t[n-1]:o;return Na(t,e="function"==typeof e?(t.pop(),e):o)});function Pa(t){var n=dr(t);return n.__chain__=!0,n}function Ia(t,n){return n(t)}var Ba=Oo(function(t){var n=t.length,e=n?t[0]:0,r=this.__wrapped__,i=function(n){return zr(n,t)};return!(n>1||this.__actions__.length)&&r instanceof yr&&Xo(e)?((r=r.slice(e,+e+(n?1:0))).__actions__.push({func:Ia,args:[i],thisArg:o}),new _r(r,this.__chain__).thru(function(t){return n&&!t.length&&t.push(o),t})):this.thru(i)});var Ua=io(function(t,n,e){ln.call(t,e)?++t[e]:jr(t,e,1)});var Ha=fo(ga),Wa=fo(_a);function Ya(t,n){return(_u(t)?Vn:Ir)(t,Fo(n,3))}function Ga(t,n){return(_u(t)?Zn:Br)(t,Fo(n,3))}var Xa=io(function(t,n,e){ln.call(t,e)?t[e].push(n):jr(t,e,[n])});var qa=Mi(function(t,n,r){var i=-1,o="function"==typeof n,a=mu(t)?e(t.length):[];return Ir(t,function(t){a[++i]=o?Xn(n,t,r):ri(t,n,r)}),a}),Va=io(function(t,n,e){jr(t,e,n)});function Za(t,n){return(_u(t)?te:hi)(t,Fo(n,3))}var Ja=io(function(t,n,e){t[e?0:1].push(n)},function(){return[[],[]]});var $a=Mi(function(t,n){if(null==t)return[];var e=n.length;return e>1&&qo(t,n[0],n[1])?n=[]:e>2&&qo(n[0],n[1],n[2])&&(n=[n[0]]),yi(t,Yr(n,1),[])}),Qa=Fe||function(){return Dn.Date.now()};function Ka(t,n,e){return n=e?o:n,n=t&&null==n?t.length:n,So(t,k,o,o,o,o,n)}function tu(t,n){var e;if("function"!=typeof n)throw new rn(c);return t=Bu(t),function(){return--t>0&&(e=n.apply(this,arguments)),t<=1&&(n=o),e}}var nu=Mi(function(t,n,e){var r=y;if(e.length){var i=Te(e,Lo(nu));r|=w}return So(t,r,n,e,i)}),eu=Mi(function(t,n,e){var r=y|m;if(e.length){var i=Te(e,Lo(eu));r|=w}return So(n,r,t,e,i)});function ru(t,n,e){var r,i,a,u,s,l,f=0,h=!1,d=!1,p=!0;if("function"!=typeof t)throw new rn(c);function g(n){var e=r,a=i;return r=i=o,f=n,u=t.apply(a,e)}function _(t){var e=t-l;return l===o||e>=n||e<0||d&&t-f>=a}function y(){var t=Qa();if(_(t))return m(t);s=ra(y,function(t){var e=n-(t-l);return d?Xe(e,a-(t-f)):e}(t))}function m(t){return s=o,p&&r?g(t):(r=i=o,u)}function v(){var t=Qa(),e=_(t);if(r=arguments,i=this,l=t,e){if(s===o)return function(t){return f=t,s=ra(y,n),h?g(t):u}(l);if(d)return s=ra(y,n),g(l)}return s===o&&(s=ra(y,n)),u}return n=Hu(n)||0,Au(e)&&(h=!!e.leading,a=(d="maxWait"in e)?Ge(Hu(e.maxWait)||0,n):a,p="trailing"in e?!!e.trailing:p),v.cancel=function(){s!==o&&Zi(s),f=0,r=l=i=s=o},v.flush=function(){return s===o?u:m(Qa())},v}var iu=Mi(function(t,n){return Rr(t,1,n)}),ou=Mi(function(t,n,e){return Rr(t,Hu(n)||0,e)});function au(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new rn(c);var e=function(){var r=arguments,i=n?n.apply(this,r):r[0],o=e.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return e.cache=o.set(i,a)||o,a};return e.cache=new(au.Cache||br),e}function uu(t){if("function"!=typeof t)throw new rn(c);return function(){var n=arguments;switch(n.length){case 0:return!t.call(this);case 1:return!t.call(this,n[0]);case 2:return!t.call(this,n[0],n[1]);case 3:return!t.call(this,n[0],n[1],n[2])}return!t.apply(this,n)}}au.Cache=br;var cu=qi(function(t,n){var e=(n=1==n.length&&_u(n[0])?te(n[0],ye(Fo())):te(Yr(n,1),ye(Fo()))).length;return Mi(function(r){for(var i=-1,o=Xe(r.length,e);++i<o;)r[i]=n[i].call(this,r[i]);return Xn(t,this,r)})}),su=Mi(function(t,n){var e=Te(n,Lo(su));return So(t,w,o,n,e)}),lu=Mi(function(t,n){var e=Te(n,Lo(lu));return So(t,M,o,n,e)}),fu=Oo(function(t,n){return So(t,S,o,o,o,n)});function hu(t,n){return t===n||t!=t&&n!=n}var du=bo(Kr),pu=bo(function(t,n){return t>=n}),gu=ii(function(){return arguments}())?ii:function(t){return Eu(t)&&ln.call(t,"callee")&&!zn.call(t,"callee")},_u=e.isArray,yu=Bn?ye(Bn):function(t){return Eu(t)&&Qr(t)==ct};function mu(t){return null!=t&&Su(t.length)&&!Mu(t)}function vu(t){return Eu(t)&&mu(t)}var bu=Ue||Hc,xu=Un?ye(Un):function(t){return Eu(t)&&Qr(t)==G};function wu(t){if(!Eu(t))return!1;var n=Qr(t);return n==q||n==X||"string"==typeof t.message&&"string"==typeof t.name&&!Ou(t)}function Mu(t){if(!Au(t))return!1;var n=Qr(t);return n==V||n==Z||n==W||n==tt}function ku(t){return"number"==typeof t&&t==Bu(t)}function Su(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=D}function Au(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}function Eu(t){return null!=t&&"object"==typeof t}var Tu=Hn?ye(Hn):function(t){return Eu(t)&&Ho(t)==J};function Cu(t){return"number"==typeof t||Eu(t)&&Qr(t)==$}function Ou(t){if(!Eu(t)||Qr(t)!=K)return!1;var n=Cn(t);if(null===n)return!0;var e=ln.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&sn.call(e)==pn}var Nu=Wn?ye(Wn):function(t){return Eu(t)&&Qr(t)==nt};var ju=Yn?ye(Yn):function(t){return Eu(t)&&Ho(t)==et};function zu(t){return"string"==typeof t||!_u(t)&&Eu(t)&&Qr(t)==rt}function Du(t){return"symbol"==typeof t||Eu(t)&&Qr(t)==it}var Lu=Gn?ye(Gn):function(t){return Eu(t)&&Su(t.length)&&!!En[Qr(t)]};var Fu=bo(fi),Ru=bo(function(t,n){return t<=n});function Pu(t){if(!t)return[];if(mu(t))return zu(t)?ze(t):eo(t);if(Pn&&t[Pn])return function(t){for(var n,e=[];!(n=t.next()).done;)e.push(n.value);return e}(t[Pn]());var n=Ho(t);return(n==J?Ae:n==et?Oe:hc)(t)}function Iu(t){return t?(t=Hu(t))===z||t===-z?(t<0?-1:1)*L:t==t?t:0:0===t?t:0}function Bu(t){var n=Iu(t),e=n%1;return n==n?e?n-e:n:0}function Uu(t){return t?Dr(Bu(t),0,R):0}function Hu(t){if("number"==typeof t)return t;if(Du(t))return F;if(Au(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=Au(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Dt,"");var e=Gt.test(t);return e||qt.test(t)?Nn(t.slice(2),e?2:8):Yt.test(t)?F:+t}function Wu(t){return ro(t,ic(t))}function Yu(t){return null==t?"":Fi(t)}var Gu=oo(function(t,n){if($o(n)||mu(n))ro(n,rc(n),t);else for(var e in n)ln.call(n,e)&&Tr(t,e,n[e])}),Xu=oo(function(t,n){ro(n,ic(n),t)}),qu=oo(function(t,n,e,r){ro(n,ic(n),t,r)}),Vu=oo(function(t,n,e,r){ro(n,rc(n),t,r)}),Zu=Oo(zr);var Ju=Mi(function(t,n){t=tn(t);var e=-1,r=n.length,i=r>2?n[2]:o;for(i&&qo(n[0],n[1],i)&&(r=1);++e<r;)for(var a=n[e],u=ic(a),c=-1,s=u.length;++c<s;){var l=u[c],f=t[l];(f===o||hu(f,un[l])&&!ln.call(t,l))&&(t[l]=a[l])}return t}),$u=Mi(function(t){return t.push(o,Eo),Xn(ac,o,t)});function Qu(t,n,e){var r=null==t?o:Jr(t,n);return r===o?e:r}function Ku(t,n){return null!=t&&Wo(t,n,ni)}var tc=go(function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=dn.call(n)),t[n]=e},Ac(Cc)),nc=go(function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=dn.call(n)),ln.call(t,n)?t[n].push(e):t[n]=[e]},Fo),ec=Mi(ri);function rc(t){return mu(t)?Mr(t):si(t)}function ic(t){return mu(t)?Mr(t,!0):li(t)}var oc=oo(function(t,n,e){gi(t,n,e)}),ac=oo(function(t,n,e,r){gi(t,n,e,r)}),uc=Oo(function(t,n){var e={};if(null==t)return e;var r=!1;n=te(n,function(n){return n=Xi(n,t),r||(r=n.length>1),n}),ro(t,jo(t),e),r&&(e=Lr(e,h|d|p,To));for(var i=n.length;i--;)Pi(e,n[i]);return e});var cc=Oo(function(t,n){return null==t?{}:function(t,n){return mi(t,n,function(n,e){return Ku(t,e)})}(t,n)});function sc(t,n){if(null==t)return{};var e=te(jo(t),function(t){return[t]});return n=Fo(n),mi(t,e,function(t,e){return n(t,e[0])})}var lc=ko(rc),fc=ko(ic);function hc(t){return null==t?[]:me(t,rc(t))}var dc=so(function(t,n,e){return n=n.toLowerCase(),t+(e?pc(n):n)});function pc(t){return wc(Yu(t).toLowerCase())}function gc(t){return(t=Yu(t))&&t.replace(Zt,we).replace(bn,"")}var _c=so(function(t,n,e){return t+(e?"-":"")+n.toLowerCase()}),yc=so(function(t,n,e){return t+(e?" ":"")+n.toLowerCase()}),mc=co("toLowerCase");var vc=so(function(t,n,e){return t+(e?"_":"")+n.toLowerCase()});var bc=so(function(t,n,e){return t+(e?" ":"")+wc(n)});var xc=so(function(t,n,e){return t+(e?" ":"")+n.toUpperCase()}),wc=co("toUpperCase");function Mc(t,n,e){return t=Yu(t),(n=e?o:n)===o?function(t){return kn.test(t)}(t)?function(t){return t.match(wn)||[]}(t):function(t){return t.match(Bt)||[]}(t):t.match(n)||[]}var kc=Mi(function(t,n){try{return Xn(t,o,n)}catch(t){return wu(t)?t:new i(t)}}),Sc=Oo(function(t,n){return Vn(n,function(n){n=sa(n),jr(t,n,nu(t[n],t))}),t});function Ac(t){return function(){return t}}var Ec=ho(),Tc=ho(!0);function Cc(t){return t}function Oc(t){return ci("function"==typeof t?t:Lr(t,h))}var Nc=Mi(function(t,n){return function(e){return ri(e,t,n)}}),jc=Mi(function(t,n){return function(e){return ri(t,e,n)}});function zc(t,n,e){var r=rc(n),i=Zr(n,r);null!=e||Au(n)&&(i.length||!r.length)||(e=n,n=t,t=this,i=Zr(n,rc(n)));var o=!(Au(e)&&"chain"in e&&!e.chain),a=Mu(t);return Vn(i,function(e){var r=n[e];t[e]=r,a&&(t.prototype[e]=function(){var n=this.__chain__;if(o||n){var e=t(this.__wrapped__);return(e.__actions__=eo(this.__actions__)).push({func:r,args:arguments,thisArg:t}),e.__chain__=n,e}return r.apply(t,ne([this.value()],arguments))})}),t}function Dc(){}var Lc=yo(te),Fc=yo(Jn),Rc=yo(ie);function Pc(t){return Vo(t)?he(sa(t)):function(t){return function(n){return Jr(n,t)}}(t)}var Ic=vo(),Bc=vo(!0);function Uc(){return[]}function Hc(){return!1}var Wc=_o(function(t,n){return t+n},0),Yc=wo("ceil"),Gc=_o(function(t,n){return t/n},1),Xc=wo("floor");var qc=_o(function(t,n){return t*n},1),Vc=wo("round"),Zc=_o(function(t,n){return t-n},0);return dr.after=function(t,n){if("function"!=typeof n)throw new rn(c);return t=Bu(t),function(){if(--t<1)return n.apply(this,arguments)}},dr.ary=Ka,dr.assign=Gu,dr.assignIn=Xu,dr.assignInWith=qu,dr.assignWith=Vu,dr.at=Zu,dr.before=tu,dr.bind=nu,dr.bindAll=Sc,dr.bindKey=eu,dr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return _u(t)?t:[t]},dr.chain=Pa,dr.chunk=function(t,n,r){n=(r?qo(t,n,r):n===o)?1:Ge(Bu(n),0);var i=null==t?0:t.length;if(!i||n<1)return[];for(var a=0,u=0,c=e(Pe(i/n));a<i;)c[u++]=Oi(t,a,a+=n);return c},dr.compact=function(t){for(var n=-1,e=null==t?0:t.length,r=0,i=[];++n<e;){var o=t[n];o&&(i[r++]=o)}return i},dr.concat=function(){var t=arguments.length;if(!t)return[];for(var n=e(t-1),r=arguments[0],i=t;i--;)n[i-1]=arguments[i];return ne(_u(r)?eo(r):[r],Yr(n,1))},dr.cond=function(t){var n=null==t?0:t.length,e=Fo();return t=n?te(t,function(t){if("function"!=typeof t[1])throw new rn(c);return[e(t[0]),t[1]]}):[],Mi(function(e){for(var r=-1;++r<n;){var i=t[r];if(Xn(i[0],this,e))return Xn(i[1],this,e)}})},dr.conforms=function(t){return function(t){var n=rc(t);return function(e){return Fr(e,t,n)}}(Lr(t,h))},dr.constant=Ac,dr.countBy=Ua,dr.create=function(t,n){var e=pr(t);return null==n?e:Nr(e,n)},dr.curry=function t(n,e,r){var i=So(n,b,o,o,o,o,o,e=r?o:e);return i.placeholder=t.placeholder,i},dr.curryRight=function t(n,e,r){var i=So(n,x,o,o,o,o,o,e=r?o:e);return i.placeholder=t.placeholder,i},dr.debounce=ru,dr.defaults=Ju,dr.defaultsDeep=$u,dr.defer=iu,dr.delay=ou,dr.difference=ha,dr.differenceBy=da,dr.differenceWith=pa,dr.drop=function(t,n,e){var r=null==t?0:t.length;return r?Oi(t,(n=e||n===o?1:Bu(n))<0?0:n,r):[]},dr.dropRight=function(t,n,e){var r=null==t?0:t.length;return r?Oi(t,0,(n=r-(n=e||n===o?1:Bu(n)))<0?0:n):[]},dr.dropRightWhile=function(t,n){return t&&t.length?Bi(t,Fo(n,3),!0,!0):[]},dr.dropWhile=function(t,n){return t&&t.length?Bi(t,Fo(n,3),!0):[]},dr.fill=function(t,n,e,r){var i=null==t?0:t.length;return i?(e&&"number"!=typeof e&&qo(t,n,e)&&(e=0,r=i),function(t,n,e,r){var i=t.length;for((e=Bu(e))<0&&(e=-e>i?0:i+e),(r=r===o||r>i?i:Bu(r))<0&&(r+=i),r=e>r?0:Uu(r);e<r;)t[e++]=n;return t}(t,n,e,r)):[]},dr.filter=function(t,n){return(_u(t)?$n:Wr)(t,Fo(n,3))},dr.flatMap=function(t,n){return Yr(Za(t,n),1)},dr.flatMapDeep=function(t,n){return Yr(Za(t,n),z)},dr.flatMapDepth=function(t,n,e){return e=e===o?1:Bu(e),Yr(Za(t,n),e)},dr.flatten=ya,dr.flattenDeep=function(t){return null!=t&&t.length?Yr(t,z):[]},dr.flattenDepth=function(t,n){return null!=t&&t.length?Yr(t,n=n===o?1:Bu(n)):[]},dr.flip=function(t){return So(t,A)},dr.flow=Ec,dr.flowRight=Tc,dr.fromPairs=function(t){for(var n=-1,e=null==t?0:t.length,r={};++n<e;){var i=t[n];r[i[0]]=i[1]}return r},dr.functions=function(t){return null==t?[]:Zr(t,rc(t))},dr.functionsIn=function(t){return null==t?[]:Zr(t,ic(t))},dr.groupBy=Xa,dr.initial=function(t){return null!=t&&t.length?Oi(t,0,-1):[]},dr.intersection=va,dr.intersectionBy=ba,dr.intersectionWith=xa,dr.invert=tc,dr.invertBy=nc,dr.invokeMap=qa,dr.iteratee=Oc,dr.keyBy=Va,dr.keys=rc,dr.keysIn=ic,dr.map=Za,dr.mapKeys=function(t,n){var e={};return n=Fo(n,3),qr(t,function(t,r,i){jr(e,n(t,r,i),t)}),e},dr.mapValues=function(t,n){var e={};return n=Fo(n,3),qr(t,function(t,r,i){jr(e,r,n(t,r,i))}),e},dr.matches=function(t){return di(Lr(t,h))},dr.matchesProperty=function(t,n){return pi(t,Lr(n,h))},dr.memoize=au,dr.merge=oc,dr.mergeWith=ac,dr.method=Nc,dr.methodOf=jc,dr.mixin=zc,dr.negate=uu,dr.nthArg=function(t){return t=Bu(t),Mi(function(n){return _i(n,t)})},dr.omit=uc,dr.omitBy=function(t,n){return sc(t,uu(Fo(n)))},dr.once=function(t){return tu(2,t)},dr.orderBy=function(t,n,e,r){return null==t?[]:(_u(n)||(n=null==n?[]:[n]),_u(e=r?o:e)||(e=null==e?[]:[e]),yi(t,n,e))},dr.over=Lc,dr.overArgs=cu,dr.overEvery=Fc,dr.overSome=Rc,dr.partial=su,dr.partialRight=lu,dr.partition=Ja,dr.pick=cc,dr.pickBy=sc,dr.property=Pc,dr.propertyOf=function(t){return function(n){return null==t?o:Jr(t,n)}},dr.pull=Ma,dr.pullAll=ka,dr.pullAllBy=function(t,n,e){return t&&t.length&&n&&n.length?vi(t,n,Fo(e,2)):t},dr.pullAllWith=function(t,n,e){return t&&t.length&&n&&n.length?vi(t,n,o,e):t},dr.pullAt=Sa,dr.range=Ic,dr.rangeRight=Bc,dr.rearg=fu,dr.reject=function(t,n){return(_u(t)?$n:Wr)(t,uu(Fo(n,3)))},dr.remove=function(t,n){var e=[];if(!t||!t.length)return e;var r=-1,i=[],o=t.length;for(n=Fo(n,3);++r<o;){var a=t[r];n(a,r,t)&&(e.push(a),i.push(r))}return bi(t,i),e},dr.rest=function(t,n){if("function"!=typeof t)throw new rn(c);return Mi(t,n=n===o?n:Bu(n))},dr.reverse=Aa,dr.sampleSize=function(t,n,e){return n=(e?qo(t,n,e):n===o)?1:Bu(n),(_u(t)?Sr:Si)(t,n)},dr.set=function(t,n,e){return null==t?t:Ai(t,n,e)},dr.setWith=function(t,n,e,r){return r="function"==typeof r?r:o,null==t?t:Ai(t,n,e,r)},dr.shuffle=function(t){return(_u(t)?Ar:Ci)(t)},dr.slice=function(t,n,e){var r=null==t?0:t.length;return r?(e&&"number"!=typeof e&&qo(t,n,e)?(n=0,e=r):(n=null==n?0:Bu(n),e=e===o?r:Bu(e)),Oi(t,n,e)):[]},dr.sortBy=$a,dr.sortedUniq=function(t){return t&&t.length?Di(t):[]},dr.sortedUniqBy=function(t,n){return t&&t.length?Di(t,Fo(n,2)):[]},dr.split=function(t,n,e){return e&&"number"!=typeof e&&qo(t,n,e)&&(n=e=o),(e=e===o?R:e>>>0)?(t=Yu(t))&&("string"==typeof n||null!=n&&!Nu(n))&&!(n=Fi(n))&&Se(t)?Vi(ze(t),0,e):t.split(n,e):[]},dr.spread=function(t,n){if("function"!=typeof t)throw new rn(c);return n=null==n?0:Ge(Bu(n),0),Mi(function(e){var r=e[n],i=Vi(e,0,n);return r&&ne(i,r),Xn(t,this,i)})},dr.tail=function(t){var n=null==t?0:t.length;return n?Oi(t,1,n):[]},dr.take=function(t,n,e){return t&&t.length?Oi(t,0,(n=e||n===o?1:Bu(n))<0?0:n):[]},dr.takeRight=function(t,n,e){var r=null==t?0:t.length;return r?Oi(t,(n=r-(n=e||n===o?1:Bu(n)))<0?0:n,r):[]},dr.takeRightWhile=function(t,n){return t&&t.length?Bi(t,Fo(n,3),!1,!0):[]},dr.takeWhile=function(t,n){return t&&t.length?Bi(t,Fo(n,3)):[]},dr.tap=function(t,n){return n(t),t},dr.throttle=function(t,n,e){var r=!0,i=!0;if("function"!=typeof t)throw new rn(c);return Au(e)&&(r="leading"in e?!!e.leading:r,i="trailing"in e?!!e.trailing:i),ru(t,n,{leading:r,maxWait:n,trailing:i})},dr.thru=Ia,dr.toArray=Pu,dr.toPairs=lc,dr.toPairsIn=fc,dr.toPath=function(t){return _u(t)?te(t,sa):Du(t)?[t]:eo(ca(Yu(t)))},dr.toPlainObject=Wu,dr.transform=function(t,n,e){var r=_u(t),i=r||bu(t)||Lu(t);if(n=Fo(n,4),null==e){var o=t&&t.constructor;e=i?r?new o:[]:Au(t)&&Mu(o)?pr(Cn(t)):{}}return(i?Vn:qr)(t,function(t,r,i){return n(e,t,r,i)}),e},dr.unary=function(t){return Ka(t,1)},dr.union=Ea,dr.unionBy=Ta,dr.unionWith=Ca,dr.uniq=function(t){return t&&t.length?Ri(t):[]},dr.uniqBy=function(t,n){return t&&t.length?Ri(t,Fo(n,2)):[]},dr.uniqWith=function(t,n){return n="function"==typeof n?n:o,t&&t.length?Ri(t,o,n):[]},dr.unset=function(t,n){return null==t||Pi(t,n)},dr.unzip=Oa,dr.unzipWith=Na,dr.update=function(t,n,e){return null==t?t:Ii(t,n,Gi(e))},dr.updateWith=function(t,n,e,r){return r="function"==typeof r?r:o,null==t?t:Ii(t,n,Gi(e),r)},dr.values=hc,dr.valuesIn=function(t){return null==t?[]:me(t,ic(t))},dr.without=ja,dr.words=Mc,dr.wrap=function(t,n){return su(Gi(n),t)},dr.xor=za,dr.xorBy=Da,dr.xorWith=La,dr.zip=Fa,dr.zipObject=function(t,n){return Wi(t||[],n||[],Tr)},dr.zipObjectDeep=function(t,n){return Wi(t||[],n||[],Ai)},dr.zipWith=Ra,dr.entries=lc,dr.entriesIn=fc,dr.extend=Xu,dr.extendWith=qu,zc(dr,dr),dr.add=Wc,dr.attempt=kc,dr.camelCase=dc,dr.capitalize=pc,dr.ceil=Yc,dr.clamp=function(t,n,e){return e===o&&(e=n,n=o),e!==o&&(e=(e=Hu(e))==e?e:0),n!==o&&(n=(n=Hu(n))==n?n:0),Dr(Hu(t),n,e)},dr.clone=function(t){return Lr(t,p)},dr.cloneDeep=function(t){return Lr(t,h|p)},dr.cloneDeepWith=function(t,n){return Lr(t,h|p,n="function"==typeof n?n:o)},dr.cloneWith=function(t,n){return Lr(t,p,n="function"==typeof n?n:o)},dr.conformsTo=function(t,n){return null==n||Fr(t,n,rc(n))},dr.deburr=gc,dr.defaultTo=function(t,n){return null==t||t!=t?n:t},dr.divide=Gc,dr.endsWith=function(t,n,e){t=Yu(t),n=Fi(n);var r=t.length,i=e=e===o?r:Dr(Bu(e),0,r);return(e-=n.length)>=0&&t.slice(e,i)==n},dr.eq=hu,dr.escape=function(t){return(t=Yu(t))&&St.test(t)?t.replace(Mt,Me):t},dr.escapeRegExp=function(t){return(t=Yu(t))&&zt.test(t)?t.replace(jt,"\\$&"):t},dr.every=function(t,n,e){var r=_u(t)?Jn:Ur;return e&&qo(t,n,e)&&(n=o),r(t,Fo(n,3))},dr.find=Ha,dr.findIndex=ga,dr.findKey=function(t,n){return ae(t,Fo(n,3),qr)},dr.findLast=Wa,dr.findLastIndex=_a,dr.findLastKey=function(t,n){return ae(t,Fo(n,3),Vr)},dr.floor=Xc,dr.forEach=Ya,dr.forEachRight=Ga,dr.forIn=function(t,n){return null==t?t:Gr(t,Fo(n,3),ic)},dr.forInRight=function(t,n){return null==t?t:Xr(t,Fo(n,3),ic)},dr.forOwn=function(t,n){return t&&qr(t,Fo(n,3))},dr.forOwnRight=function(t,n){return t&&Vr(t,Fo(n,3))},dr.get=Qu,dr.gt=du,dr.gte=pu,dr.has=function(t,n){return null!=t&&Wo(t,n,ti)},dr.hasIn=Ku,dr.head=ma,dr.identity=Cc,dr.includes=function(t,n,e,r){t=mu(t)?t:hc(t),e=e&&!r?Bu(e):0;var i=t.length;return e<0&&(e=Ge(i+e,0)),zu(t)?e<=i&&t.indexOf(n,e)>-1:!!i&&ce(t,n,e)>-1},dr.indexOf=function(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=null==e?0:Bu(e);return i<0&&(i=Ge(r+i,0)),ce(t,n,i)},dr.inRange=function(t,n,e){return n=Iu(n),e===o?(e=n,n=0):e=Iu(e),function(t,n,e){return t>=Xe(n,e)&&t<Ge(n,e)}(t=Hu(t),n,e)},dr.invoke=ec,dr.isArguments=gu,dr.isArray=_u,dr.isArrayBuffer=yu,dr.isArrayLike=mu,dr.isArrayLikeObject=vu,dr.isBoolean=function(t){return!0===t||!1===t||Eu(t)&&Qr(t)==Y},dr.isBuffer=bu,dr.isDate=xu,dr.isElement=function(t){return Eu(t)&&1===t.nodeType&&!Ou(t)},dr.isEmpty=function(t){if(null==t)return!0;if(mu(t)&&(_u(t)||"string"==typeof t||"function"==typeof t.splice||bu(t)||Lu(t)||gu(t)))return!t.length;var n=Ho(t);if(n==J||n==et)return!t.size;if($o(t))return!si(t).length;for(var e in t)if(ln.call(t,e))return!1;return!0},dr.isEqual=function(t,n){return oi(t,n)},dr.isEqualWith=function(t,n,e){var r=(e="function"==typeof e?e:o)?e(t,n):o;return r===o?oi(t,n,o,e):!!r},dr.isError=wu,dr.isFinite=function(t){return"number"==typeof t&&He(t)},dr.isFunction=Mu,dr.isInteger=ku,dr.isLength=Su,dr.isMap=Tu,dr.isMatch=function(t,n){return t===n||ai(t,n,Po(n))},dr.isMatchWith=function(t,n,e){return e="function"==typeof e?e:o,ai(t,n,Po(n),e)},dr.isNaN=function(t){return Cu(t)&&t!=+t},dr.isNative=function(t){if(Jo(t))throw new i(u);return ui(t)},dr.isNil=function(t){return null==t},dr.isNull=function(t){return null===t},dr.isNumber=Cu,dr.isObject=Au,dr.isObjectLike=Eu,dr.isPlainObject=Ou,dr.isRegExp=Nu,dr.isSafeInteger=function(t){return ku(t)&&t>=-D&&t<=D},dr.isSet=ju,dr.isString=zu,dr.isSymbol=Du,dr.isTypedArray=Lu,dr.isUndefined=function(t){return t===o},dr.isWeakMap=function(t){return Eu(t)&&Ho(t)==at},dr.isWeakSet=function(t){return Eu(t)&&Qr(t)==ut},dr.join=function(t,n){return null==t?"":We.call(t,n)},dr.kebabCase=_c,dr.last=wa,dr.lastIndexOf=function(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=r;return e!==o&&(i=(i=Bu(e))<0?Ge(r+i,0):Xe(i,r-1)),n==n?function(t,n,e){for(var r=e+1;r--;)if(t[r]===n)return r;return r}(t,n,i):ue(t,le,i,!0)},dr.lowerCase=yc,dr.lowerFirst=mc,dr.lt=Fu,dr.lte=Ru,dr.max=function(t){return t&&t.length?Hr(t,Cc,Kr):o},dr.maxBy=function(t,n){return t&&t.length?Hr(t,Fo(n,2),Kr):o},dr.mean=function(t){return fe(t,Cc)},dr.meanBy=function(t,n){return fe(t,Fo(n,2))},dr.min=function(t){return t&&t.length?Hr(t,Cc,fi):o},dr.minBy=function(t,n){return t&&t.length?Hr(t,Fo(n,2),fi):o},dr.stubArray=Uc,dr.stubFalse=Hc,dr.stubObject=function(){return{}},dr.stubString=function(){return""},dr.stubTrue=function(){return!0},dr.multiply=qc,dr.nth=function(t,n){return t&&t.length?_i(t,Bu(n)):o},dr.noConflict=function(){return Dn._===this&&(Dn._=gn),this},dr.noop=Dc,dr.now=Qa,dr.pad=function(t,n,e){t=Yu(t);var r=(n=Bu(n))?je(t):0;if(!n||r>=n)return t;var i=(n-r)/2;return mo(Ie(i),e)+t+mo(Pe(i),e)},dr.padEnd=function(t,n,e){t=Yu(t);var r=(n=Bu(n))?je(t):0;return n&&r<n?t+mo(n-r,e):t},dr.padStart=function(t,n,e){t=Yu(t);var r=(n=Bu(n))?je(t):0;return n&&r<n?mo(n-r,e)+t:t},dr.parseInt=function(t,n,e){return e||null==n?n=0:n&&(n=+n),Ve(Yu(t).replace(Lt,""),n||0)},dr.random=function(t,n,e){if(e&&"boolean"!=typeof e&&qo(t,n,e)&&(n=e=o),e===o&&("boolean"==typeof n?(e=n,n=o):"boolean"==typeof t&&(e=t,t=o)),t===o&&n===o?(t=0,n=1):(t=Iu(t),n===o?(n=t,t=0):n=Iu(n)),t>n){var r=t;t=n,n=r}if(e||t%1||n%1){var i=Ze();return Xe(t+i*(n-t+On("1e-"+((i+"").length-1))),n)}return xi(t,n)},dr.reduce=function(t,n,e){var r=_u(t)?ee:pe,i=arguments.length<3;return r(t,Fo(n,4),e,i,Ir)},dr.reduceRight=function(t,n,e){var r=_u(t)?re:pe,i=arguments.length<3;return r(t,Fo(n,4),e,i,Br)},dr.repeat=function(t,n,e){return n=(e?qo(t,n,e):n===o)?1:Bu(n),wi(Yu(t),n)},dr.replace=function(){var t=arguments,n=Yu(t[0]);return t.length<3?n:n.replace(t[1],t[2])},dr.result=function(t,n,e){var r=-1,i=(n=Xi(n,t)).length;for(i||(i=1,t=o);++r<i;){var a=null==t?o:t[sa(n[r])];a===o&&(r=i,a=e),t=Mu(a)?a.call(t):a}return t},dr.round=Vc,dr.runInContext=t,dr.sample=function(t){return(_u(t)?kr:ki)(t)},dr.size=function(t){if(null==t)return 0;if(mu(t))return zu(t)?je(t):t.length;var n=Ho(t);return n==J||n==et?t.size:si(t).length},dr.snakeCase=vc,dr.some=function(t,n,e){var r=_u(t)?ie:Ni;return e&&qo(t,n,e)&&(n=o),r(t,Fo(n,3))},dr.sortedIndex=function(t,n){return ji(t,n)},dr.sortedIndexBy=function(t,n,e){return zi(t,n,Fo(e,2))},dr.sortedIndexOf=function(t,n){var e=null==t?0:t.length;if(e){var r=ji(t,n);if(r<e&&hu(t[r],n))return r}return-1},dr.sortedLastIndex=function(t,n){return ji(t,n,!0)},dr.sortedLastIndexBy=function(t,n,e){return zi(t,n,Fo(e,2),!0)},dr.sortedLastIndexOf=function(t,n){if(null!=t&&t.length){var e=ji(t,n,!0)-1;if(hu(t[e],n))return e}return-1},dr.startCase=bc,dr.startsWith=function(t,n,e){return t=Yu(t),e=null==e?0:Dr(Bu(e),0,t.length),n=Fi(n),t.slice(e,e+n.length)==n},dr.subtract=Zc,dr.sum=function(t){return t&&t.length?ge(t,Cc):0},dr.sumBy=function(t,n){return t&&t.length?ge(t,Fo(n,2)):0},dr.template=function(t,n,e){var r=dr.templateSettings;e&&qo(t,n,e)&&(n=o),t=Yu(t),n=qu({},n,r,Ao);var i,a,u=qu({},n.imports,r.imports,Ao),c=rc(u),s=me(u,c),l=0,f=n.interpolate||Jt,h="__p += '",d=nn((n.escape||Jt).source+"|"+f.source+"|"+(f===Tt?Ht:Jt).source+"|"+(n.evaluate||Jt).source+"|$","g"),p="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++An+"]")+"\n";t.replace(d,function(n,e,r,o,u,c){return r||(r=o),h+=t.slice(l,c).replace($t,ke),e&&(i=!0,h+="' +\n__e("+e+") +\n'"),u&&(a=!0,h+="';\n"+u+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+n.length,n}),h+="';\n";var g=n.variable;g||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(vt,""):h).replace(bt,"$1").replace(xt,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var _=kc(function(){return Qt(c,p+"return "+h).apply(o,s)});if(_.source=h,wu(_))throw _;return _},dr.times=function(t,n){if((t=Bu(t))<1||t>D)return[];var e=R,r=Xe(t,R);n=Fo(n),t-=R;for(var i=_e(r,n);++e<t;)n(e);return i},dr.toFinite=Iu,dr.toInteger=Bu,dr.toLength=Uu,dr.toLower=function(t){return Yu(t).toLowerCase()},dr.toNumber=Hu,dr.toSafeInteger=function(t){return t?Dr(Bu(t),-D,D):0===t?t:0},dr.toString=Yu,dr.toUpper=function(t){return Yu(t).toUpperCase()},dr.trim=function(t,n,e){if((t=Yu(t))&&(e||n===o))return t.replace(Dt,"");if(!t||!(n=Fi(n)))return t;var r=ze(t),i=ze(n);return Vi(r,be(r,i),xe(r,i)+1).join("")},dr.trimEnd=function(t,n,e){if((t=Yu(t))&&(e||n===o))return t.replace(Ft,"");if(!t||!(n=Fi(n)))return t;var r=ze(t);return Vi(r,0,xe(r,ze(n))+1).join("")},dr.trimStart=function(t,n,e){if((t=Yu(t))&&(e||n===o))return t.replace(Lt,"");if(!t||!(n=Fi(n)))return t;var r=ze(t);return Vi(r,be(r,ze(n))).join("")},dr.truncate=function(t,n){var e=E,r=T;if(Au(n)){var i="separator"in n?n.separator:i;e="length"in n?Bu(n.length):e,r="omission"in n?Fi(n.omission):r}var a=(t=Yu(t)).length;if(Se(t)){var u=ze(t);a=u.length}if(e>=a)return t;var c=e-je(r);if(c<1)return r;var s=u?Vi(u,0,c).join(""):t.slice(0,c);if(i===o)return s+r;if(u&&(c+=s.length-c),Nu(i)){if(t.slice(c).search(i)){var l,f=s;for(i.global||(i=nn(i.source,Yu(Wt.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var h=l.index;s=s.slice(0,h===o?c:h)}}else if(t.indexOf(Fi(i),c)!=c){var d=s.lastIndexOf(i);d>-1&&(s=s.slice(0,d))}return s+r},dr.unescape=function(t){return(t=Yu(t))&&kt.test(t)?t.replace(wt,De):t},dr.uniqueId=function(t){var n=++fn;return Yu(t)+n},dr.upperCase=xc,dr.upperFirst=wc,dr.each=Ya,dr.eachRight=Ga,dr.first=ma,zc(dr,function(){var t={};return qr(dr,function(n,e){ln.call(dr.prototype,e)||(t[e]=n)}),t}(),{chain:!1}),dr.VERSION="4.17.10",Vn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){dr[t].placeholder=dr}),Vn(["drop","take"],function(t,n){yr.prototype[t]=function(e){e=e===o?1:Ge(Bu(e),0);var r=this.__filtered__&&!n?new yr(this):this.clone();return r.__filtered__?r.__takeCount__=Xe(e,r.__takeCount__):r.__views__.push({size:Xe(e,R),type:t+(r.__dir__<0?"Right":"")}),r},yr.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}}),Vn(["filter","map","takeWhile"],function(t,n){var e=n+1,r=e==N||3==e;yr.prototype[t]=function(t){var n=this.clone();return n.__iteratees__.push({iteratee:Fo(t,3),type:e}),n.__filtered__=n.__filtered__||r,n}}),Vn(["head","last"],function(t,n){var e="take"+(n?"Right":"");yr.prototype[t]=function(){return this[e](1).value()[0]}}),Vn(["initial","tail"],function(t,n){var e="drop"+(n?"":"Right");yr.prototype[t]=function(){return this.__filtered__?new yr(this):this[e](1)}}),yr.prototype.compact=function(){return this.filter(Cc)},yr.prototype.find=function(t){return this.filter(t).head()},yr.prototype.findLast=function(t){return this.reverse().find(t)},yr.prototype.invokeMap=Mi(function(t,n){return"function"==typeof t?new yr(this):this.map(function(e){return ri(e,t,n)})}),yr.prototype.reject=function(t){return this.filter(uu(Fo(t)))},yr.prototype.slice=function(t,n){t=Bu(t);var e=this;return e.__filtered__&&(t>0||n<0)?new yr(e):(t<0?e=e.takeRight(-t):t&&(e=e.drop(t)),n!==o&&(e=(n=Bu(n))<0?e.dropRight(-n):e.take(n-t)),e)},yr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},yr.prototype.toArray=function(){return this.take(R)},qr(yr.prototype,function(t,n){var e=/^(?:filter|find|map|reject)|While$/.test(n),r=/^(?:head|last)$/.test(n),i=dr[r?"take"+("last"==n?"Right":""):n],a=r||/^find/.test(n);i&&(dr.prototype[n]=function(){var n=this.__wrapped__,u=r?[1]:arguments,c=n instanceof yr,s=u[0],l=c||_u(n),f=function(t){var n=i.apply(dr,ne([t],u));return r&&h?n[0]:n};l&&e&&"function"==typeof s&&1!=s.length&&(c=l=!1);var h=this.__chain__,d=!!this.__actions__.length,p=a&&!h,g=c&&!d;if(!a&&l){n=g?n:new yr(this);var _=t.apply(n,u);return _.__actions__.push({func:Ia,args:[f],thisArg:o}),new _r(_,h)}return p&&g?t.apply(this,u):(_=this.thru(f),p?r?_.value()[0]:_.value():_)})}),Vn(["pop","push","shift","sort","splice","unshift"],function(t){var n=on[t],e=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);dr.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return n.apply(_u(i)?i:[],t)}return this[e](function(e){return n.apply(_u(e)?e:[],t)})}}),qr(yr.prototype,function(t,n){var e=dr[n];if(e){var r=e.name+"";(ir[r]||(ir[r]=[])).push({name:n,func:e})}}),ir[po(o,m).name]=[{name:"wrapper",func:o}],yr.prototype.clone=function(){var t=new yr(this.__wrapped__);return t.__actions__=eo(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=eo(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=eo(this.__views__),t},yr.prototype.reverse=function(){if(this.__filtered__){var t=new yr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},yr.prototype.value=function(){var t=this.__wrapped__.value(),n=this.__dir__,e=_u(t),r=n<0,i=e?t.length:0,o=function(t,n,e){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":n-=a;break;case"take":n=Xe(n,t+a);break;case"takeRight":t=Ge(t,n-a)}}return{start:t,end:n}}(0,i,this.__views__),a=o.start,u=o.end,c=u-a,s=r?u:a-1,l=this.__iteratees__,f=l.length,h=0,d=Xe(c,this.__takeCount__);if(!e||!r&&i==c&&d==c)return Ui(t,this.__actions__);var p=[];t:for(;c--&&h<d;){for(var g=-1,_=t[s+=n];++g<f;){var y=l[g],m=y.iteratee,v=y.type,b=m(_);if(v==j)_=b;else if(!b){if(v==N)continue t;break t}}p[h++]=_}return p},dr.prototype.at=Ba,dr.prototype.chain=function(){return Pa(this)},dr.prototype.commit=function(){return new _r(this.value(),this.__chain__)},dr.prototype.next=function(){this.__values__===o&&(this.__values__=Pu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},dr.prototype.plant=function(t){for(var n,e=this;e instanceof gr;){var r=fa(e);r.__index__=0,r.__values__=o,n?i.__wrapped__=r:n=r;var i=r;e=e.__wrapped__}return i.__wrapped__=t,n},dr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof yr){var n=t;return this.__actions__.length&&(n=new yr(this)),(n=n.reverse()).__actions__.push({func:Ia,args:[Aa],thisArg:o}),new _r(n,this.__chain__)}return this.thru(Aa)},dr.prototype.toJSON=dr.prototype.valueOf=dr.prototype.value=function(){return Ui(this.__wrapped__,this.__actions__)},dr.prototype.first=dr.prototype.head,Pn&&(dr.prototype[Pn]=function(){return this}),dr}();Dn._=Le,(i=function(){return Le}.call(n,e,n,r))===o||(r.exports=i)}).call(this)}).call(this,e(15),e(16)(t))},function(t,n,e){"use strict";e.r(n);var r,i=function(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]},o=function(t){return(t=i(Math.abs(t)))?t[1]:NaN},a=function(t,n){var e=i(t,n);if(!e)return t+"";var r=e[0],o=e[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")},u={"":function(t,n){t=t.toPrecision(n);t:for(var e,r=t.length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=e=i;break;case"0":0===o&&(o=i),e=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t},"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return a(100*t,n)},r:a,s:function(t,n){var e=i(t,n);if(!e)return t+"";var o=e[0],a=e[1],u=a-(r=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,c=o.length;return u===c?o:u>c?o+new Array(u-c+1).join("0"):u>0?o.slice(0,u)+"."+o.slice(u):"0."+new Array(1-u).join("0")+i(t,Math.max(0,n+u-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},c=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function s(t){return new l(t)}function l(t){if(!(n=c.exec(t)))throw new Error("invalid format: "+t);var n,e=n[1]||" ",r=n[2]||">",i=n[3]||"-",o=n[4]||"",a=!!n[5],s=n[6]&&+n[6],l=!!n[7],f=n[8]&&+n[8].slice(1),h=n[9]||"";"n"===h?(l=!0,h="g"):u[h]||(h=""),(a||"0"===e&&"="===r)&&(a=!0,e="0",r="="),this.fill=e,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=s,this.comma=l,this.precision=f,this.type=h}s.prototype=l.prototype,l.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var f,h,d,p=function(t){return t},g=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],_=function(t){var n=t.grouping&&t.thousands?function(t,n){return function(e,r){for(var i=e.length,o=[],a=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),o.push(e.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[a=(a+1)%t.length];return o.reverse().join(n)}}(t.grouping,t.thousands):p,e=t.currency,i=t.decimal,a=t.numerals?function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}(t.numerals):p,c=t.percent||"%";function l(t){var o=(t=s(t)).fill,l=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,_=t.comma,y=t.precision,m=t.type,v="$"===h?e[0]:"#"===h&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",b="$"===h?e[1]:/[%p]/.test(m)?c:"",x=u[m],w=!m||/[defgprs%]/.test(m);function M(t){var e,u,c,s=v,h=b;if("c"===m)h=x(t)+h,t="";else{var M=(t=+t)<0;if(t=x(Math.abs(t),y),M&&0==+t&&(M=!1),s=(M?"("===f?f:"-":"-"===f||"("===f?"":f)+s,h=("s"===m?g[8+r/3]:"")+h+(M&&"("===f?")":""),w)for(e=-1,u=t.length;++e<u;)if(48>(c=t.charCodeAt(e))||c>57){h=(46===c?i+t.slice(e+1):t.slice(e))+h,t=t.slice(0,e);break}}_&&!d&&(t=n(t,1/0));var k=s.length+t.length+h.length,S=k<p?new Array(p-k+1).join(o):"";switch(_&&d&&(t=n(S+t,S.length?p-h.length:1/0),S=""),l){case"<":t=s+t+h+S;break;case"=":t=s+S+t+h;break;case"^":t=S.slice(0,k=S.length>>1)+s+t+h+S.slice(k);break;default:t=S+s+t+h}return a(t)}return y=null==y?m?6:12:/[gprs]/.test(m)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),M.toString=function(){return t+""},M}return{format:l,formatPrefix:function(t,n){var e=l(((t=s(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(o(n)/3))),i=Math.pow(10,-r),a=g[8+r/3];return function(t){return e(i*t)+a}}}};function y(t){return f=_(t),h=f.format,d=f.formatPrefix,f}y({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var m=function(t){return Math.max(0,-o(Math.abs(t)))},v=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(o(n)/3)))-o(Math.abs(t)))},b=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,o(n)-o(t))+1};e.d(n,"formatDefaultLocale",function(){return y}),e.d(n,"format",function(){return h}),e.d(n,"formatPrefix",function(){return d}),e.d(n,"formatLocale",function(){return _}),e.d(n,"formatSpecifier",function(){return s}),e.d(n,"precisionFixed",function(){return m}),e.d(n,"precisionPrefix",function(){return v}),e.d(n,"precisionRound",function(){return b})},function(t,n,e){"use strict";var r={value:function(){}};function i(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new o(r)}function o(t){this._=t}function a(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function u(t,n,e){for(var i=0,o=t.length;i<o;++i)if(t[i].name===n){t[i]=r,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=e&&t.push({name:n,value:e}),t}o.prototype=i.prototype={constructor:o,on:function(t,n){var e,r=this._,i=function(t,n){return t.trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}(t+"",r),o=-1,c=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<c;)if(e=(t=i[o]).type)r[e]=u(r[e],t.name,n);else if(null==n)for(e in r)r[e]=u(r[e],t.name,null);return this}for(;++o<c;)if((e=(t=i[o]).type)&&(e=a(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new o(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var c=i;e.d(n,"a",function(){return c})},function(t,n,e){"use strict";e.r(n);var r=e(1);function i(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function o(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function a(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function u(t){var n=t.dateTime,e=t.date,u=t.time,c=t.periods,s=t.days,l=t.shortDays,f=t.months,h=t.shortMonths,p=v(c),g=b(c),_=v(s),y=b(s),m=v(l),Mt=b(l),kt=v(f),St=b(f),At=v(h),Et=b(h),Tt={a:function(t){return l[t.getDay()]},A:function(t){return s[t.getDay()]},b:function(t){return h[t.getMonth()]},B:function(t){return f[t.getMonth()]},c:null,d:B,e:B,f:G,H:U,I:H,j:W,L:Y,m:X,M:q,p:function(t){return c[+(t.getHours()>=12)]},Q:xt,s:wt,S:V,u:Z,U:J,V:$,w:Q,W:K,x:null,X:null,y:tt,Y:nt,Z:et,"%":bt},Ct={a:function(t){return l[t.getUTCDay()]},A:function(t){return s[t.getUTCDay()]},b:function(t){return h[t.getUTCMonth()]},B:function(t){return f[t.getUTCMonth()]},c:null,d:rt,e:rt,f:ct,H:it,I:ot,j:at,L:ut,m:st,M:lt,p:function(t){return c[+(t.getUTCHours()>=12)]},Q:xt,s:wt,S:ft,u:ht,U:dt,V:pt,w:gt,W:_t,x:null,X:null,y:yt,Y:mt,Z:vt,"%":bt},Ot={a:function(t,n,e){var r=m.exec(n.slice(e));return r?(t.w=Mt[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=_.exec(n.slice(e));return r?(t.w=y[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=At.exec(n.slice(e));return r?(t.m=Et[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=kt.exec(n.slice(e));return r?(t.m=St[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,e,r){return zt(t,n,e,r)},d:O,e:O,f:F,H:j,I:j,j:N,L:L,m:C,M:z,p:function(t,n,e){var r=p.exec(n.slice(e));return r?(t.p=g[r[0].toLowerCase()],e+r[0].length):-1},Q:P,s:I,S:D,u:w,U:M,V:k,w:x,W:S,x:function(t,n,r){return zt(t,e,n,r)},X:function(t,n,e){return zt(t,u,n,e)},y:E,Y:A,Z:T,"%":R};function Nt(t,n){return function(e){var r,i,o,a=[],u=-1,c=0,s=t.length;for(e instanceof Date||(e=new Date(+e));++u<s;)37===t.charCodeAt(u)&&(a.push(t.slice(c,u)),null!=(i=d[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),a.push(r),c=u+1);return a.push(t.slice(c,u)),a.join("")}}function jt(t,n){return function(e){var i,u,c=a(1900);if(zt(c,t,e+="",0)!=e.length)return null;if("Q"in c)return new Date(c.Q);if("p"in c&&(c.H=c.H%12+12*c.p),"V"in c){if(c.V<1||c.V>53)return null;"w"in c||(c.w=1),"Z"in c?(i=(u=(i=o(a(c.y))).getUTCDay())>4||0===u?r.utcMonday.ceil(i):Object(r.utcMonday)(i),i=r.utcDay.offset(i,7*(c.V-1)),c.y=i.getUTCFullYear(),c.m=i.getUTCMonth(),c.d=i.getUTCDate()+(c.w+6)%7):(i=(u=(i=n(a(c.y))).getDay())>4||0===u?r.timeMonday.ceil(i):Object(r.timeMonday)(i),i=r.timeDay.offset(i,7*(c.V-1)),c.y=i.getFullYear(),c.m=i.getMonth(),c.d=i.getDate()+(c.w+6)%7)}else("W"in c||"U"in c)&&("w"in c||(c.w="u"in c?c.u%7:"W"in c?1:0),u="Z"in c?o(a(c.y)).getUTCDay():n(a(c.y)).getDay(),c.m=0,c.d="W"in c?(c.w+6)%7+7*c.W-(u+5)%7:c.w+7*c.U-(u+6)%7);return"Z"in c?(c.H+=c.Z/100|0,c.M+=c.Z%100,o(c)):n(c)}}function zt(t,n,e,r){for(var i,o,a=0,u=n.length,c=e.length;a<u;){if(r>=c)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=Ot[i in d?n.charAt(a++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return Tt.x=Nt(e,Tt),Tt.X=Nt(u,Tt),Tt.c=Nt(n,Tt),Ct.x=Nt(e,Ct),Ct.X=Nt(u,Ct),Ct.c=Nt(n,Ct),{format:function(t){var n=Nt(t+="",Tt);return n.toString=function(){return t},n},parse:function(t){var n=jt(t+="",i);return n.toString=function(){return t},n},utcFormat:function(t){var n=Nt(t+="",Ct);return n.toString=function(){return t},n},utcParse:function(t){var n=jt(t,o);return n.toString=function(){return t},n}}}var c,s,l,f,h,d={"-":"",_:" ",0:"0"},p=/^\s*\d+/,g=/^%/,_=/[\\^$*+?|[\]().{}]/g;function y(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function m(t){return t.replace(_,"\\$&")}function v(t){return new RegExp("^(?:"+t.map(m).join("|")+")","i")}function b(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function x(t,n,e){var r=p.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function w(t,n,e){var r=p.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function M(t,n,e){var r=p.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function k(t,n,e){var r=p.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function S(t,n,e){var r=p.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function A(t,n,e){var r=p.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function E(t,n,e){var r=p.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function T(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function C(t,n,e){var r=p.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function O(t,n,e){var r=p.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function N(t,n,e){var r=p.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function j(t,n,e){var r=p.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function z(t,n,e){var r=p.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function D(t,n,e){var r=p.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function L(t,n,e){var r=p.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function F(t,n,e){var r=p.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function R(t,n,e){var r=g.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function P(t,n,e){var r=p.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function I(t,n,e){var r=p.exec(n.slice(e));return r?(t.Q=1e3*+r[0],e+r[0].length):-1}function B(t,n){return y(t.getDate(),n,2)}function U(t,n){return y(t.getHours(),n,2)}function H(t,n){return y(t.getHours()%12||12,n,2)}function W(t,n){return y(1+r.timeDay.count(Object(r.timeYear)(t),t),n,3)}function Y(t,n){return y(t.getMilliseconds(),n,3)}function G(t,n){return Y(t,n)+"000"}function X(t,n){return y(t.getMonth()+1,n,2)}function q(t,n){return y(t.getMinutes(),n,2)}function V(t,n){return y(t.getSeconds(),n,2)}function Z(t){var n=t.getDay();return 0===n?7:n}function J(t,n){return y(r.timeSunday.count(Object(r.timeYear)(t),t),n,2)}function $(t,n){var e=t.getDay();return t=e>=4||0===e?Object(r.timeThursday)(t):r.timeThursday.ceil(t),y(r.timeThursday.count(Object(r.timeYear)(t),t)+(4===Object(r.timeYear)(t).getDay()),n,2)}function Q(t){return t.getDay()}function K(t,n){return y(r.timeMonday.count(Object(r.timeYear)(t),t),n,2)}function tt(t,n){return y(t.getFullYear()%100,n,2)}function nt(t,n){return y(t.getFullYear()%1e4,n,4)}function et(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+y(n/60|0,"0",2)+y(n%60,"0",2)}function rt(t,n){return y(t.getUTCDate(),n,2)}function it(t,n){return y(t.getUTCHours(),n,2)}function ot(t,n){return y(t.getUTCHours()%12||12,n,2)}function at(t,n){return y(1+r.utcDay.count(Object(r.utcYear)(t),t),n,3)}function ut(t,n){return y(t.getUTCMilliseconds(),n,3)}function ct(t,n){return ut(t,n)+"000"}function st(t,n){return y(t.getUTCMonth()+1,n,2)}function lt(t,n){return y(t.getUTCMinutes(),n,2)}function ft(t,n){return y(t.getUTCSeconds(),n,2)}function ht(t){var n=t.getUTCDay();return 0===n?7:n}function dt(t,n){return y(r.utcSunday.count(Object(r.utcYear)(t),t),n,2)}function pt(t,n){var e=t.getUTCDay();return t=e>=4||0===e?Object(r.utcThursday)(t):r.utcThursday.ceil(t),y(r.utcThursday.count(Object(r.utcYear)(t),t)+(4===Object(r.utcYear)(t).getUTCDay()),n,2)}function gt(t){return t.getUTCDay()}function _t(t,n){return y(r.utcMonday.count(Object(r.utcYear)(t),t),n,2)}function yt(t,n){return y(t.getUTCFullYear()%100,n,2)}function mt(t,n){return y(t.getUTCFullYear()%1e4,n,4)}function vt(){return"+0000"}function bt(){return"%"}function xt(t){return+t}function wt(t){return Math.floor(+t/1e3)}function Mt(t){return c=u(t),s=c.format,l=c.parse,f=c.utcFormat,h=c.utcParse,c}Mt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var kt=Date.prototype.toISOString?function(t){return t.toISOString()}:f("%Y-%m-%dT%H:%M:%S.%LZ");var St=+new Date("2000-01-01T00:00:00.000Z")?function(t){var n=new Date(t);return isNaN(n)?null:n}:h("%Y-%m-%dT%H:%M:%S.%LZ");e.d(n,"timeFormatDefaultLocale",function(){return Mt}),e.d(n,"timeFormat",function(){return s}),e.d(n,"timeParse",function(){return l}),e.d(n,"utcFormat",function(){return f}),e.d(n,"utcParse",function(){return h}),e.d(n,"timeFormatLocale",function(){return u}),e.d(n,"isoFormat",function(){return kt}),e.d(n,"isoParse",function(){return St})},function(t,n,e){"use strict";function r(){}function i(t,n){var e=new r;if(t instanceof r)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var i,o=-1,a=t.length;if(null==n)for(;++o<a;)e.set(o,t[o]);else for(;++o<a;)e.set(n(i=t[o],o,t),i)}else if(t)for(var u in t)e.set(u,t[u]);return e}r.prototype=i.prototype={constructor:r,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var o=i;function a(){}var u=o.prototype;function c(t,n){var e=new a;if(t instanceof a)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}a.prototype=c.prototype={constructor:a,has:u.has,add:function(t){return this["$"+(t+="")]=t,this},remove:u.remove,clear:u.clear,values:u.keys,size:u.size,empty:u.empty,each:u.each};e.d(n,!1,function(){}),e.d(n,!1,function(){}),e.d(n,"a",function(){return o}),e.d(n,!1,function(){}),e.d(n,!1,function(){}),e.d(n,!1,function(){})},function(t,n,e){"use strict";e.r(n);var r,i,o=e(0),a=e(8),u=0,c=0,s=0,l=1e3,f=0,h=0,d=0,p="object"==typeof performance&&performance.now?performance:Date,g="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function _(){return h||(g(y),h=p.now()+d)}function y(){h=0}function m(){this._call=this._time=this._next=null}function v(t,n,e){var r=new m;return r.restart(t,n,e),r}function b(){h=(f=p.now())+d,u=c=0;try{!function(){_(),++u;for(var t,n=r;n;)(t=h-n._time)>=0&&n._call.call(null,t),n=n._next;--u}()}finally{u=0,function(){var t,n,e=r,o=1/0;for(;e;)e._call?(o>e._time&&(o=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:r=n);i=t,w(o)}(),h=0}}function x(){var t=p.now(),n=t-f;n>l&&(d-=n,f=t)}function w(t){u||(c&&(c=clearTimeout(c)),t-h>24?(t<1/0&&(c=setTimeout(b,t-p.now()-d)),s&&(s=clearInterval(s))):(s||(f=p.now(),s=setInterval(x,l)),u=1,g(b)))}m.prototype=v.prototype={constructor:m,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?_():+e)+(null==n?0:+n),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=t,this._time=e,w()},stop:function(){this._call&&(this._call=null,this._time=1/0,w())}};var M=function(t,n,e){var r=new m;return n=null==n?0:+n,r.restart(function(e){r.stop(),t(e+n)},n,e),r},k=Object(a.a)("start","end","interrupt"),S=[],A=0,E=1,T=2,C=3,O=4,N=5,j=6,z=function(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(c){var s,l,f,h;if(e.state!==E)return u();for(s in i)if((h=i[s]).name===e.name){if(h.state===C)return M(o);h.state===O?(h.state=j,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[s]):+s<n&&(h.state=j,h.timer.stop(),delete i[s])}if(M(function(){e.state===C&&(e.state=O,e.timer.restart(a,e.delay,e.time),a(c))}),e.state=T,e.on.call("start",t,t.__data__,e.index,e.group),e.state===T){for(e.state=C,r=new Array(f=e.tween.length),s=0,l=-1;s<f;++s)(h=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(r[++l]=h);r.length=l+1}}function a(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=N,1),o=-1,a=r.length;++o<a;)r[o].call(null,i);e.state===N&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=j,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=v(function(t){e.state=E,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)},0,e.time)}(t,e,{name:n,index:r,group:i,on:k,tween:S,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:A})};function D(t,n){var e=F(t,n);if(e.state>A)throw new Error("too late; already scheduled");return e}function L(t,n){var e=F(t,n);if(e.state>T)throw new Error("too late; already started");return e}function F(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}var R=function(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>T&&e.state<N,e.state=j,e.timer.stop(),r&&e.on.call("interrupt",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}},P=e(4);function I(t,n,e){var r=t._id;return t.each(function(){var t=L(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return F(t,r).value[n]}}var B=e(3),U=function(t,n){var e;return("number"==typeof n?P.c:n instanceof B.color?P.d:(e=Object(B.color)(n))?(n=e,P.d):P.f)(t,n)};var H=o.selection.prototype.constructor;var W=0;function Y(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function G(t){return Object(o.selection)().transition(t)}function X(){return++W}var q=o.selection.prototype;Y.prototype=G.prototype={constructor:Y,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Object(o.selector)(t));for(var r=this._groups,i=r.length,a=new Array(i),u=0;u<i;++u)for(var c,s,l=r[u],f=l.length,h=a[u]=new Array(f),d=0;d<f;++d)(c=l[d])&&(s=t.call(c,c.__data__,d,l))&&("__data__"in c&&(s.__data__=c.__data__),h[d]=s,z(h[d],n,e,d,h,F(c,e)));return new Y(a,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Object(o.selectorAll)(t));for(var r=this._groups,i=r.length,a=[],u=[],c=0;c<i;++c)for(var s,l=r[c],f=l.length,h=0;h<f;++h)if(s=l[h]){for(var d,p=t.call(s,s.__data__,h,l),g=F(s,e),_=0,y=p.length;_<y;++_)(d=p[_])&&z(d,n,e,_,p,g);a.push(p),u.push(s)}return new Y(a,u,n,e)},filter:function(t){"function"!=typeof t&&(t=Object(o.matcher)(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a,u=n[i],c=u.length,s=r[i]=[],l=0;l<c;++l)(a=u[l])&&t.call(a,a.__data__,l,u)&&s.push(a);return new Y(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var c,s=n[u],l=e[u],f=s.length,h=a[u]=new Array(f),d=0;d<f;++d)(c=s[d]||l[d])&&(h[d]=c);for(;u<r;++u)a[u]=n[u];return new Y(a,this._parents,this._name,this._id)},selection:function(){return new H(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=X(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,s=0;s<c;++s)if(a=u[s]){var l=F(a,n);z(a,t,e,s,u,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Y(r,this._parents,t,e)},call:q.call,nodes:q.nodes,node:q.node,size:q.size,empty:q.empty,each:q.each,on:function(t,n){var e=this._id;return arguments.length<2?F(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(n)?D:L;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}(e,t,n))},attr:function(t,n){var e=Object(o.namespace)(t),r="transform"===e?P.h:U;return this.attrTween(t,"function"==typeof n?(e.local?function(t,n,e){var r,i,o;return function(){var a,u=e(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===u?null:a===r&&u===i?o:o=n(r=a,i=u);this.removeAttributeNS(t.space,t.local)}}:function(t,n,e){var r,i,o;return function(){var a,u=e(this);if(null!=u)return(a=this.getAttribute(t))===u?null:a===r&&u===i?o:o=n(r=a,i=u);this.removeAttribute(t)}})(e,r,I(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(t,n,e){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===e?null:o===r?i:i=n(r=o,e)}}:function(t,n,e){var r,i;return function(){var o=this.getAttribute(t);return o===e?null:o===r?i:i=n(r=o,e)}})(e,r,n+""))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=Object(o.namespace)(t);return this.tween(e,(r.local?function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttributeNS(t.space,t.local,r(n))}}return e._value=n,e}:function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttribute(t,r(n))}}return e._value=n,e})(r,n))},style:function(t,n,e){var r="transform"==(t+="")?P.g:U;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var a=Object(o.style)(this,t),u=(this.style.removeProperty(t),Object(o.style)(this,t));return a===u?null:a===e&&u===r?i:i=n(e=a,r=u)}}(t,r)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof n?function(t,n,e){var r,i,a;return function(){var u=Object(o.style)(this,t),c=e(this);return null==c&&(this.style.removeProperty(t),c=Object(o.style)(this,t)),u===c?null:u===r&&c===i?a:a=n(r=u,i=c)}}(t,r,I(this,"style."+t,n)):function(t,n,e){var r,i;return function(){var a=Object(o.style)(this,t);return a===e?null:a===r?i:i=n(r=a,e)}}(t,r,n+""),e)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){function r(){var r=this,i=n.apply(r,arguments);return i&&function(n){r.style.setProperty(t,i(n),e)}}return r._value=n,r}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(I(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=F(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?function(t,n){var e,r;return function(){var i=L(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}:function(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=L(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},c=0,s=i.length;c<s;++c)if(i[c].name===n){i[c]=u;break}c===s&&i.push(u)}o.tween=i}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){D(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){D(this,t).delay=n}})(n,t)):F(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){L(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){L(this,t).duration=n}})(n,t)):F(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){L(this,t).ease=n}}(n,t)):F(this.node(),n).ease}};(function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e})(3),function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),Math.PI;(function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e})(1.70158),function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(1.70158),function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(1.70158);var V=2*Math.PI,Z=(function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=V);function i(t){return n*Math.pow(2,10*--t)*Math.sin((r-t)/e)}return i.amplitude=function(n){return t(n,e*V)},i.period=function(e){return t(n,e)},i}(1,.3),function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=V);function i(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/e)}return i.amplitude=function(n){return t(n,e*V)},i.period=function(e){return t(n,e)},i}(1,.3),function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=V);function i(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((r-t)/e):2-n*Math.pow(2,-10*t)*Math.sin((r+t)/e))/2}return i.amplitude=function(n){return t(n,e*V)},i.period=function(e){return t(n,e)},i}(1,.3),{time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}});function J(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return Z.time=_(),Z;return e}o.selection.prototype.interrupt=function(t){return this.each(function(){R(this,t)})},o.selection.prototype.transition=function(t){var n,e;t instanceof Y?(n=t._id,t=t._name):(n=X(),(e=Z).time=_(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,s=0;s<c;++s)(a=u[s])&&z(a,t,n,s,u,e||J(a,n));return new Y(r,this._parents,t,n)};var $=[null],Q=function(t,n){var e,r,i=t.__transition;if(i)for(r in n=null==n?null:n+"",i)if((e=i[r]).state>E&&e.name===n)return new Y([[t]],$,n,+r);return null};e.d(n,"transition",function(){return G}),e.d(n,"active",function(){return Q}),e.d(n,"interrupt",function(){return R})},function(t,n,e){"use strict";e.r(n);var r=e(5),i=e.n(r),o=(e(13),e(14),e(6)),a=e.n(o),u=(e(17),void 0),c=void 0,s=void 0,l=void 0,f=[{area:"work",importance:1,urgency:1,effort:2,priority:"low",item:"paycheck"},{area:"work",importance:2,urgency:1,effort:1,priority:"low",item:"healthcare"},{area:"work",importance:7,urgency:3,effort:8,priority:"medium",item:"Typescript learning"},{area:"work",importance:6,urgency:3,effort:3,priority:"medium",item:"Angular get v. set research"},{area:"work",importance:3,urgency:4,effort:7,priority:"high",item:"completing sprint work"},{area:"work",importance:4,urgency:6,effort:8,priority:"medium",item:"refactor scary code"},{area:"work",importance:6,urgency:4,effort:3,priority:"high",item:"review PRs"},{area:"work",importance:8.5,urgency:3.25,effort:2,priority:"low",item:"meetings"},{area:"work",importance:2,urgency:2,effort:1,priority:"high",item:"submit health insurance expense report"},{area:"life",importance:2.5,urgency:1,effort:1,priority:"high",item:"paying mortgage"},{area:"life",importance:1.75,urgency:1,effort:1,priority:"high",item:"home maintenance"},{area:"life",importance:3.5,urgency:1,effort:1,priority:"high",item:"paying bills"},{area:"life",importance:7,urgency:2,effort:5,priority:"medium",item:"keeping house clean"},{area:"life",importance:6,urgency:8,effort:3,priority:"medium",item:"gardening"},{area:"life",importance:1,urgency:5,effort:3,priority:"high",item:"furbaby care"},{area:"life",importance:2,urgency:5.5,effort:3,priority:"medium",item:"cooking/mealprep"},{area:"life",importance:7,urgency:1,effort:5,priority:"medium",item:"preparing for family"},{area:"life",importance:9.25,urgency:1.5,effort:2,priority:"medium",item:"learning to brew kombucha"},{area:"life",importance:9.5,urgency:1,effort:1,priority:"low",item:"gaming"},{area:"life",importance:8.5,urgency:1,effort:1,priority:"low",item:"Watching The Bachelor"},{area:"life",importance:3,urgency:1,effort:6,priority:"medium",item:"time with husband"},{area:"life",importance:8,urgency:1,effort:2,priority:"low",item:"watch Expanse with husband"},{area:"life",importance:4,urgency:1,effort:3,priority:"medium",item:"time with friends"},{area:"life",importance:2,urgency:3,effort:7,priority:"high",item:"fitness"},{area:"life",importance:.5,urgency:3,effort:0,priority:"high",item:"sleep"},{area:"blank",importance:8,urgency:4,effort:1,priority:"low",item:"updating current talk"},{area:"blank",importance:7,urgency:5,effort:8,priority:"low",item:"working on a new talk"},{area:"blank",importance:3,urgency:6,effort:8,priority:"medium",item:"managing non-profit team"},{area:"blank",importance:5,urgency:8,effort:3,priority:"high",item:"responding to emails"},{area:"blank",importance:2,urgency:8,effort:8,priority:"high",item:"solving non-profit crisis"},{area:"blank",importance:5,urgency:1,effort:3,priority:"medium",item:"running non-profit meetings"},{area:"blank",importance:7.5,urgency:1,effort:6,priority:"medium",item:"mentoring others"}];function h(t){return a.a.map(t,function(t){return"life"===t.area&&(t.effort=t.effort/3),t})}function d(t,n){this.options=n,this.init(t)}$.fn.sparkleh=function(t){return this.each(function(n,e){var r=$(e).css("position","relative");new d(r,$.extend({width:r.outerWidth(),height:r.outerHeight(),color:"#FFFFFF",count:30,overlap:0,speed:1},t)).over()})},d.prototype={init:function(t){this.$canvas=$("<canvas>").addClass("sparkle-canvas").css({position:"absolute",top:"-"+this.options.overlap+"px",left:"-"+this.options.overlap+"px","pointer-events":"none"}).appendTo(t),this.canvas=this.$canvas[0],this.context=this.canvas.getContext("2d"),this.sprite=new Image,this.sprites=[0,6,13,20],this.sprite.src=this.datauri,this.canvas.width=this.options.width+2*this.options.overlap,this.canvas.height=this.options.height+2*this.options.overlap,this.particles=this.createSparkles(this.canvas.width,this.canvas.height),this.anim=null,this.fade=!1},createSparkles:function(t,n){for(var e=[],r=0;r<this.options.count;r++){var i=this.options.color;"rainbow"==this.options.color?i="#"+("000000"+Math.floor(16777215*Math.random()).toString(16)).slice(-6):"array"===$.type(this.options.color)&&(i=this.options.color[Math.floor(Math.random()*this.options.color.length)]),e[r]={position:{x:Math.floor(Math.random()*t),y:Math.floor(Math.random()*n)},style:this.sprites[Math.floor(4*Math.random())],delta:{x:Math.floor(1e3*Math.random())-500,y:Math.floor(1e3*Math.random())-500},size:parseFloat((2*Math.random()).toFixed(2)),color:i}}return e},draw:function(t,n){var e=this.context;e.clearRect(0,0,this.canvas.width,this.canvas.height);for(var r=0;r<this.options.count;r++){var i=this.particles[r],o=Math.floor(7*Math.random());Math.floor(t)%o==0&&(i.style=this.sprites[Math.floor(4*Math.random())]),e.save(),e.globalAlpha=i.opacity,e.drawImage(this.sprite,i.style,0,7,7,i.position.x,i.position.y,7,7),this.options.color&&(e.globalCompositeOperation="source-atop",e.globalAlpha=.5,e.fillStyle=i.color,e.fillRect(i.position.x,i.position.y,7,7)),e.restore()}},update:function(){var t=this;this.anim=window.requestAnimationFrame(function(n){for(var e=0;e<t.options.count;e++){var r=t.particles[e],i=Math.random()>2*Math.random(),o=Math.random()>3*Math.random();i&&(r.position.x+=r.delta.x*t.options.speed/1500),o||(r.position.y-=r.delta.y*t.options.speed/800),r.position.x>t.canvas.width?r.position.x=-7:r.position.x<-7&&(r.position.x=t.canvas.width),r.position.y>t.canvas.height?(r.position.y=-7,r.position.x=Math.floor(Math.random()*t.canvas.width)):r.position.y<-7&&(r.position.y=t.canvas.height,r.position.x=Math.floor(Math.random()*t.canvas.width)),t.fade?r.opacity-=.02:r.opacity-=.005,r.opacity<=0&&(r.opacity=t.fade?0:1)}t.draw(n),t.fade?(t.fadeCount-=1,t.fadeCount<0?window.cancelAnimationFrame(t.anim):t.update()):t.update()})},cancel:function(){this.fadeCount=100},over:function(){window.cancelAnimationFrame(this.anim);for(var t=0;t<this.options.count;t++)this.particles[t].opacity=Math.random();this.fade=!1,this.update()},out:function(){this.fade=!0,this.cancel()},datauri:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAHCAYAAAD5wDa1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozNDNFMzM5REEyMkUxMUUzOEE3NEI3Q0U1QUIzMTc4NiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozNDNFMzM5RUEyMkUxMUUzOEE3NEI3Q0U1QUIzMTc4NiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjM0M0UzMzlCQTIyRTExRTM4QTc0QjdDRTVBQjMxNzg2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjM0M0UzMzlDQTIyRTExRTM4QTc0QjdDRTVBQjMxNzg2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+jzOsUQAAANhJREFUeNqsks0KhCAUhW/Sz6pFSc1AD9HL+OBFbdsVOKWLajH9EE7GFBEjOMxcUNHD8dxPBCEE/DKyLGMqraoqcd4j0ChpUmlBEGCFRBzH2dbj5JycJAn90CEpy1J2SK4apVSM4yiKonhePYwxMU2TaJrm8BpykpWmKQ3D8FbX9SOO4/tOhDEG0zRhGAZo2xaiKDLyPGeSyPM8sCxr868+WC/mvu9j13XBtm1ACME8z7AsC/R9r0fGOf+arOu6jUwS7l6tT/B+xo+aDFRo5BykHfav3/gSYAAtIdQ1IT0puAAAAABJRU5ErkJggg=="},Reveal.addEventListener("slidechanged",function(t){var n,e=parseInt(window.innerHeight,10)-180;if("chart"!==t.currentSlide.getAttribute("id")||u||(document.getElementById("basicScatter").setAttribute("style","height:"+e+"px"),(u=new i.a.Chart({guide:{showGridLines:"",x:{label:{text:"Importance",padding:20},padding:10},y:{label:{text:"Urgency",padding:20},padding:10}},data:f,type:"scatterplot",x:"importance",y:"urgency",color:"area",size:"effort",plugins:[i.a.api.plugins.get("tooltip")({fields:["item"]}),i.a.api.plugins.get("legend")()]})).renderTo("#basicScatter")),"chaosChart"===t.currentSlide.getAttribute("id")&&!c){document.getElementById("chaosScatter").setAttribute("style","height:"+e+"px");var r=a.a.map(f,function(t){return a.a.clone(t)});(c=new i.a.Chart({guide:{showGridLines:"",x:{label:{text:"Importance",padding:20},padding:10},y:{label:{text:"Urgency",padding:20},padding:10}},data:r,type:"scatterplot",x:"importance",y:"urgency",color:"area",size:"effort",plugins:[i.a.api.plugins.get("tooltip")({fields:["item"]}),i.a.api.plugins.get("legend")()]})).renderTo("#chaosScatter");var o=!0;setInterval(function(){o?(c.setData(function(t){return a.a.map(t,function(t){return"home maintenance"===t.item?(t.importance=.5*t.importance,t.effort=30*t.effort,t.urgency=10*t.urgency):t.importance=2.5*t.importance,t})}(r)),o=!1):(c.setData(function(t){return a.a.map(t,function(t){return"home maintenance"===t.item?(t.importance=t.importance/.5,t.effort=t.effort/30,t.urgency=t.urgency/10):t.importance=t.importance/2.5,t})}(r)),o=!0)},3e3)}if("afterAutomating"===t.currentSlide.getAttribute("id")&&!s){document.getElementById("afterAutomatingScatter").setAttribute("style","height:"+e+"px");r=a.a.map(f,function(t){return a.a.clone(t)});(s=new i.a.Chart({guide:{showGridLines:"",x:{label:{text:"Importance",padding:20},padding:10},y:{label:{text:"Urgency",padding:20},padding:10}},data:r,type:"scatterplot",x:"importance",y:"urgency",color:"area",size:"effort",plugins:[i.a.api.plugins.get("tooltip")({fields:["item"]}),i.a.api.plugins.get("legend")()]})).renderTo("#afterAutomatingScatter");o=!0;setInterval(function(){o?(s.setData(h(r)),o=!1):(s.setData(function(t){return a.a.map(t,function(t){return"life"===t.area&&(t.effort=3*t.effort),t})}(r)),o=!0)},3e3)}if("afterAutomating2"===t.currentSlide.getAttribute("id")&&!l){document.getElementById("afterAutomatingBar").setAttribute("style","height:"+e+"px");var d=h(a.a.map(f,function(t){var n=a.a.clone(t);return n.state="after",n})),p=a.a.map(f,function(t){var n=a.a.clone(t);return n.state="before",n}).concat(d);(l=new i.a.Chart({guide:{showGridLines:"",x:{label:{text:"Importance",padding:20},padding:10},y:{label:{text:"Effort",padding:20},padding:10}},data:p,type:"stacked-bar",x:"state",y:"effort",size:200,color:"area",plugins:[i.a.api.plugins.get("tooltip")({fields:["item"]}),i.a.api.plugins.get("legend")()]})).renderTo("#afterAutomatingBar")}"trainyourbrain"===t.currentSlide.getAttribute("id")?((n=document.getElementById("focusmusic")).volume=.1,console.log(n),n.play()):(n=document.getElementById("focusmusic")).pause();"worklifeblankrotate"===t.currentSlide.getAttribute("id")&&$("body").sparkleh({color:"rainbow",count:500,overlap:10})})},function(t,n,e){window,t.exports=function(t,n){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=15)}({0:function(n,e){n.exports=t},1:function(t,e){t.exports=n},15:function(t,n,e){"use strict";e.r(n);var r=e(0),i=e.n(r),o=e(4);function a(t){return new o.a(t)}i.a.api.plugins.add("tooltip",a),n.default=a},2:function(t,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"b",function(){return i});var r="tau-chart__tooltip";function i(t,n){return{render:function(t){return this.args=t,t=Object.assign({},t,{fields:this.filterFields(t.fields)}),this.rootTemplate(t)},rootTemplate:function(t){return['<div class="'+r+"__buttons "+r+'__clickable">',this.buttonsTemplate(),"</div>",'<div class="i-role-content '+r+'__content">',this.contentTemplate(t),"</div>"].join("\n")},contentTemplate:function(t){return this.fieldsTemplate(t)},filterFields:function(n){return n.filter(function(n){var e=n.split(".");return!(2===e.length&&t.skipInfo[e[0]])})},getLabel:function(n){return t.getFieldLabel(n)},getFormatter:function(n){return t.getFieldFormat(n)},fieldsTemplate:function(t){var n=this,e=t.data;return t.fields.map(function(t){return n.itemTemplate({data:e,field:t})}).join("\n")},itemTemplate:function(t){var n=t.data,e=t.field,i=this.getLabel(e),o=this.getFormatter(e)(n[e]);return['<div class="'+r+'__list__item">','  <div class="'+r+'__list__elem">'+i+"</div>",'  <div class="'+r+'__list__elem">'+o+"</div>","</div>"].join("\n")},buttonsTemplate:function(){return[this.buttonTemplate({cls:"i-role-exclude",text:"Exclude",icon:function(){return'<span class="tau-icon-close-gray"></span>'}})].join("\n")},buttonTemplate:function(t){var n=t.icon,e=t.text,i=t.cls;return['<div class="'+r+"__button "+i+'">','  <div class="'+r+'__button__wrap">',"    "+(n?n()+" ":"")+e,"  </div>","</div>"].join("\n")},didMount:function(){var n=t.getDomNode().querySelector(".i-role-exclude");n&&n.addEventListener("click",function(){t.excludeHighlightedElement(),t.setState({highlight:null,isStuck:!1})})}}}},4:function(t,n,e){"use strict";var r=e(0),i=e.n(r),o=e(1),a=e(2),u=i.a.api.utils,c=i.a.api.domUtils,s=i.a.api.pluginsSDK,l="tau-chart__tooltip",f=function(){function t(t){this.settings=u.defaults(t||{},{align:"bottom-right",clsClickable:l+"__clickable",clsStuck:"stuck",clsTarget:l+"-target",escapeHtml:!0,fields:null,formatters:{},getTemplate:null,spacing:24,winBound:12}),this.onRender=this._getRenderHandler()}return t.prototype.init=function(t){this._chart=t,this._tooltip=this._chart.addBalloon({spacing:this.settings.spacing,winBound:this.settings.winBound,auto:!0,effectClass:"fade"}),this._initDomEvents(),this.state={highlight:null,isStuck:!1},this.setState(this.state),this._template=this._getTemplate()},t.prototype._getTemplate=function(){var t=Object(a.b)(this,this.settings);return"function"==typeof this.settings.getTemplate?this.settings.getTemplate(t,this,this.settings):t},t.prototype._renderTemplate=function(t,n){return this._template.render({data:t,fields:n})},t.prototype._initDomEvents=function(){var t=this;this._scrollHandler=function(){t.setState({highlight:null,isStuck:!1})},window.addEventListener("scroll",this._scrollHandler,!0),this._outerClickHandler=function(n){var e=Array.from(document.querySelectorAll("."+t.settings.clsClickable)).concat(t.getDomNode()).map(function(t){return t.getBoundingClientRect()}),r=Math.min.apply(Math,e.map(function(t){return t.top})),i=Math.min.apply(Math,e.map(function(t){return t.left})),o=Math.max.apply(Math,e.map(function(t){return t.right})),a=Math.max.apply(Math,e.map(function(t){return t.bottom}));(n.clientX<i||n.clientX>o||n.clientY<r||n.clientY>a)&&t.setState({highlight:null,isStuck:!1})}},t.prototype.getDomNode=function(){return this._tooltip.getElement()},t.prototype.setState=function(t){var n=this,e=this.settings,r=this.state,i=this.state=Object.assign({},r,t);r.highlight=r.highlight||{data:null,cursor:null,unit:null},i.highlight=i.highlight||{data:null,cursor:null,unit:null},i.isStuck&&r.highlight.data&&(i.highlight=r.highlight),i.highlight.data!==r.highlight.data&&(i.highlight.data?(this._hideTooltip(),this._showTooltip(i.highlight.data,i.highlight.cursor),this._setTargetSvgClass(!0),requestAnimationFrame(function(){n._setTargetSvgClass(!0)})):i.isStuck||!r.highlight.data||i.highlight.data||(this._removeFocus(),this._hideTooltip(),this._setTargetSvgClass(!1))),!i.highlight.data||r.highlight.cursor&&i.highlight.cursor.x===r.highlight.cursor.x&&i.highlight.cursor.y===r.highlight.cursor.y||(this._tooltip.position(i.highlight.cursor.x,i.highlight.cursor.y),this._tooltip.updateSize());var o=this.getDomNode();i.isStuck!==r.isStuck&&(i.isStuck?(window.addEventListener("click",this._outerClickHandler,!0),o.classList.add(e.clsStuck),this._setTargetEventsEnabled(!1),this._accentFocus(i.highlight.data),this._tooltip.updateSize()):(window.removeEventListener("click",this._outerClickHandler,!0),o.classList.remove(e.clsStuck),requestAnimationFrame(function(){n._setTargetEventsEnabled(!0);var t=n._chart.getSVG();t&&c.dispatchMouseEvent(t,"mouseleave")})))},t.prototype._showTooltip=function(t,n){var e=this.settings,r=e.fields||"function"==typeof e.getFields&&e.getFields(this._chart)||Object.keys(t),i=this._renderTemplate(t,r);this._tooltip.content(i).position(n.x,n.y).place(e.align).show().updateSize(),this._template.didMount&&this._template.didMount()},t.prototype._hideTooltip=function(){window.removeEventListener("click",this._outerClickHandler,!0),this._template.willUnmount&&this._template.willUnmount(),this._tooltip.hide()},t.prototype.destroy=function(){window.removeEventListener("scroll",this._scrollHandler,!0),this._setTargetSvgClass(!1),this.setState({highlight:null,isStuck:!1}),this._tooltip.destroy()},t.prototype._subscribeToHover=function(){var t=this,n=["ELEMENT.LINE","ELEMENT.AREA","ELEMENT.PATH","ELEMENT.INTERVAL","ELEMENT.INTERVAL.STACKED","ELEMENT.POINT"];this._chart.select(function(t){return n.indexOf(t.config.type)>=0}).forEach(function(n){n.on("data-hover",function(n,e){var r=document.body.getBoundingClientRect();t.setState({highlight:e.data?{data:e.data,cursor:{x:e.event.clientX-r.left,y:e.event.clientY-r.top},unit:e.unit}:null})}),n.on("data-click",function(n,e){var r=document.body.getBoundingClientRect();t.setState(e.data?{highlight:{data:e.data,cursor:{x:e.event.clientX-r.left,y:e.event.clientY-r.top},unit:e.unit},isStuck:!0}:{highlight:null,isStuck:null})})})},t.prototype.getFieldFormat=function(t){var n=this._formatters[t]?this._formatters[t].format:function(t){return String(t)};return this.settings.escapeHtml?function(t){return u.escapeHtml(n(t))}:n},t.prototype.getFieldLabel=function(t){var n=this._formatters[t]?this._formatters[t].label:t;return this.settings.escapeHtml?u.escapeHtml(n):n},t.prototype._accentFocus=function(t){var n=function(n){return n===t};this._chart.select(function(){return!0}).forEach(function(t){t.fire("highlight",n)})},t.prototype._removeFocus=function(){var t=function(){return null};this._chart.select(function(){return!0}).forEach(function(n){n.fire("highlight",t),n.fire("highlight-data-points",t)})},t.prototype.excludeHighlightedElement=function(){var t=this.state.highlight.data;this._chart.addFilter({tag:"exclude",predicate:function(n){return n!==t}}),this._chart.refresh()},t.prototype._getRenderHandler=function(){return function(){this._formatters=s.getFieldFormatters(this._chart.getSpec(),this.settings.formatters),this._subscribeToHover(),this.setState({highlight:null,isStuck:!1})}},t.prototype._setTargetSvgClass=function(t){o.select(this._chart.getSVG()).classed(this.settings.clsTarget,t)},t.prototype._setTargetEventsEnabled=function(t){t?this._chart.enablePointerEvents():this._chart.disablePointerEvents()},t}();n.a=f}})}(e(5),e(0))},function(t,n,e){window,t.exports=function(t,n){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=20)}({0:function(n,e){n.exports=t},20:function(t,n,e){"use strict";e.r(n);var r,i,o=e(0),a=e.n(o),u=e(8),c=a.a.api.utils,s=a.a.api.pluginsSDK,l=".tau-chart__legend__reset",f=".tau-chart__legend__item-color",h=".tau-chart__legend__guide--color__overlay",d=4,p=13,g=0,_=function(){return++g},y=a.a.api.utils.xml,m=function(t,n){var e=t[0],r=t[1],i=(r-e)/(n-1),o=c.range(n-2).map(function(t){return e+i*(t+1)});return[e].concat(o).concat(r)},v=function(t,n,e){if(t.length<3)return t.slice(0);if(n<3)return[t[0],t[t.length-1]];var r,i=t[0]<0?Math.abs(t[0]):0,o=function(t){return t},a="sqrt"===e?function(t){return Math.sqrt(t+i)}:o,u="sqrt"===e?function(t){return Math.pow(t,2)-i}:o,s=[(t=t.map(a))[0]],l=t[t.length-1]-t[0],f=.5*l/(n-1),h=c.range(1,n-1).map(function(t){var e=l*t/(n-1);return{min:e-f,mid:e,max:e+f,diff:Number.MAX_VALUE,closest:null}}),d=0,p=function(){if(d!==h.length){var t=r;(r=h[d++]).min=Math.max(r.min,(t&&null!==t.closest?t.closest:s[0])+f)}};return p(),t.forEach(function(t){if(!(t<r.min)){t>r.max&&p();var n=Math.abs(t-r.mid);n<r.diff&&n<f?(r.diff=n,r.closest=t):p(),0===n&&p()}}),h.forEach(function(t){null!==t.closest&&s.push(t.closest)}),s.push(t[t.length-1]),s=s.map(u)},b=function(t){return Math.log(t)/Math.LN10},x=function(t){return 0===t?0:Math.floor(b(Math.abs(t)))},w=(r=/\.0+([^\d].*)?$/,i=/(\.\d+?)0+([^\d].*)?$/,function(t){return t.replace(r,"$1").replace(i,"$1$2")}),M=u.format(".3s"),k=function(t){return w(M(t))},S=function(t,n){var e=Math.max(Math.abs(t),Math.abs(n)),r=x(e),i=t*n>0?Math.abs(n-t):e,o=x(i),a=Math.abs(r-o);return Math.abs(r)>3&&a<=3?k:function(t){var n=x(e-t),r=Math.min((o<0?Math.abs(o):0)+(n<o?1:0),20);return w(t.toFixed(r))}};function A(t){var n=c.defaults(t||{},{formatters:{}}),e=function(t){return null===t||""===t||void 0===t},r=function(t,n){return function(r){var i=r[t],o=JSON.stringify(e(i)?null:i);return n===o}},i=function(t,n,e,r){t.addEventListener(n,function(t){for(var n=t.target;n!==t.currentTarget&&null!==n;)n.matches(e)&&r(t,n),n=n.parentNode})};return{init:function(t){this.instanceId=_(),this._chart=t,this._currentFilters={},this._legendColorByScaleId={},this._legendOrderState={};var e=this._chart.getSpec(),r=function(t){return function(n,r){var i=e.scales[r];return i.type===t&&i.dim&&n.push(r),n}};this._color=Object.keys(e.scales).reduce(r("color"),[]).filter(function(n){return t.getScaleInfo(n).discrete}),this._fill=Object.keys(e.scales).reduce(r("color"),[]).filter(function(n){return!t.getScaleInfo(n).discrete}),this._size=Object.keys(e.scales).reduce(r("size"),[]);var o=this._color.length>0,a=this._fill.length>0,u=this._size.length>0;if(this._assignStaticBrewersOrEx(),o||a||u){switch(n.position){case"left":this._container=this._chart.insertToLeftSidebar(this._containerTemplate);break;case"right":this._container=this._chart.insertToRightSidebar(this._containerTemplate);break;case"top":this._container=this._chart.insertToHeader(this._containerTemplate);break;case"bottom":this._container=this._chart.insertToFooter(this._containerTemplate);break;default:this._container=this._chart.insertToRightSidebar(this._containerTemplate)}o&&(i(this._container,"click",l,function(t,n){this._toggleLegendItem(n,"reset")}.bind(this)),i(this._container,"click",f,function(t,n){var e=t.ctrlKey||t.target.matches(h)?"leave-others":"focus-single";this._toggleLegendItem(n,e)}.bind(this)),i(this._container,"mouseover",f,function(t,n){this._highlightToggle(n,!0)}.bind(this)),i(this._container,"mouseout",f,function(t,n){this._highlightToggle(n,!1)}.bind(this)))}},destroy:function(){var t=this._currentFilters,n=this._chart;Object.keys(t).forEach(function(e){return n.removeFilter(t[e])}),this._container&&this._container.parentElement&&(this._clearPanel(),this._container.parentElement.removeChild(this._container))},onSpecReady:function(t,e){this._formatters=s.getFieldFormatters(e,n.formatters)},_getFormat:function(t){return this._formatters[t]?this._formatters[t].format:function(t){return String(t)}},onRender:function(){this._clearPanel(),this._drawColorLegend(),this._drawFillLegend(),this._drawSizeLegend()},_containerTemplate:'<div class="tau-chart__legend"></div>',_template:c.template(['<div class="tau-chart__legend__wrap">',"<%=top%>",'<div class="tau-chart__legend__title"><%=name%></div>',"<%=items%>","</div>"].join("")),_itemTemplate:c.template(["<div data-scale-id='<%= scaleId %>' data-dim='<%= dim %>' data-value='<%= value %>' class=\"tau-chart__legend__item tau-chart__legend__item-color <%=classDisabled%>\">",'   <div class="tau-chart__legend__guide__wrap">','   <div class="tau-chart__legend__guide tau-chart__legend__guide--color <%=cssClass%>"','        style="background-color: <%=cssColor%>; border-color: <%=borderColor%>;">','       <div class="tau-chart__legend__guide--color__overlay">',"       </div>","   </div>","   </div>",'   <span class="tau-chart__legend__guide__label"><%=label%></span>',"</div>"].join("")),_resetTemplate:c.template(['<div class="tau-chart__legend__reset <%=classDisabled%>">','    <div role="button" class="tau-chart__button">Reset</div>',"</div>"].join("")),_clearPanel:function(){this._container&&(clearTimeout(this._scrollTimeout),this._getScrollContainer().removeEventListener("scroll",this._scrollListener),this._container.innerHTML="")},_drawFillLegend:function(){var t=this;t._fill.forEach(function(n){var e,r,i,o=t._chart.select(function(t){return t.config.color===n})[0];if(o){var a=o.config.guide||{},u=o.getScale("color"),l=u.domain().sort(function(t,n){return t-n}),f=l.reduce(function(t,n){return t&&c.isDate(n)},!0),h=f?l.map(Number):l,d=S(h[0],h[h.length-1]),g=function(){var n=t._chart.getSpec(),e=s.extractFieldsFormatInfo(n)[u.dim].format;return e||(e=function(t){return new Date(t)}),function(t){return String(e(t))}}(),_=f?g:d,v=u.brewer.length,b=((a.color||{}).label||{}).text||u.dim,x=function(t){return t.length*p*.618},w=u.isInteger?(h[1]-h[0])%3==0?4:(h[1]-h[0])%2==0?3:2:3,M=m(h,w),k=(f?M.map(function(t){return new Date(t)}):M).map(_);k[0]===k[k.length-1]&&(k=[k[0]]),t._container.insertAdjacentHTML("beforeend",t._template({name:b,top:null,items:'<div class="tau-chart__legend__gradient-wrapper"></div>'}));var A=t._container.lastElementChild.querySelector(".tau-chart__legend__gradient-wrapper"),E=A.getBoundingClientRect().width,T=!1;k.reduce(function(t,n){return t+x(n)},0)>E&&(k.length>1&&x(k[0])+x(k[k.length-1])>E?T=!0:k=[k[0],k[k.length-1]]);var C=T?(i=-.382*p/2,{width:E,height:120,barX:0,barY:0,barWidth:20,barHeight:120,textAnchor:"start",textX:c.range(w).map(function(){return 25}),textY:1===k.length?60+.618*p:k.map(function(t,n){var e=(k.length-1-n)/(k.length-1);return p*(1-e)+120*e+i})}):(e=x(k[0])/2,r=x(k[k.length-1])/2,{width:E,height:28+p,barX:0,barY:0,barWidth:E,barHeight:20,textAnchor:"middle",textX:1===k.length?[E/2]:k.map(function(t,n){var i=n/(k.length-1);return e*(1-i)+(E-r)*i}),textY:c.range(w).map(function(){return 28+p})}),O=m(h,v).map(function(t,n){return y("stop",{offset:n/(v-1)*100+"%",style:"stop-color:"+u(t)+';stop-opacity:1"'})}),N="legend-gradient-"+t.instanceId,j=y.apply(void 0,["svg",{class:"tau-chart__legend__gradient",width:C.width,height:C.height},y("defs",y.apply(void 0,["linearGradient",{id:N,x1:"0%",y1:T?"100%":"0%",x2:T?"0%":"100%",y2:"0%"}].concat(O))),y("rect",{class:"tau-chart__legend__gradient__bar",x:C.barX,y:C.barY,width:C.barWidth,height:C.barHeight,fill:"url(#"+N+")"})].concat(k.map(function(t,n){return y("text",{x:C.textX[n],y:C.textY[n],"text-anchor":C.textAnchor},t)})));A.insertAdjacentHTML("beforeend",j)}})},_drawSizeLegend:function(){var t=this;t._size.forEach(function(n){var e=t._chart.select(function(t){return t.config.size===n})[0];if(e){var r=e.config.guide||{},i=e.getScale("size"),o=i.domain().sort(function(t,n){return t-n});if(!Array.isArray(o)||!o.every(isFinite))return;var a=((r.size||{}).label||{}).text||i.dim,u=o[0],s=o[o.length-1],l=[u];if(s-u){var f=b(s-u),h=Math.round(4-f),g=Math.pow(10,h),_=c.unique(t._chart.getDataSources({excludeFilter:["legend"]})[i.source].data.map(function(t){return t[i.dim]}).filter(function(t){return t>=u&&t<=s})).sort(function(t,n){return t-n}),m=v(_,d,i.funcType);l=c.unique(m.map(function(t){return Math.round(t*g)/g}))}var x=S(l[0],l[l.length-1]),w=function(t){return t.length*p*.618};l.reverse();var M=l.map(i),k=Math.max.apply(null,M),A=l.map(x);t._container.insertAdjacentHTML("beforeend",t._template({name:a,top:null,items:'<div class="tau-chart__legend__size-wrapper"></div>'}));var E=t._container.lastElementChild.querySelector(".tau-chart__legend__size-wrapper"),T=E.getBoundingClientRect().width,C=!1;(Math.max.apply(null,A.map(w))>T/4||1===A.length)&&(C=!0);var O=C?function(){for(var t,n,e=p,r=M[0]/2,i=M[M.length-1]/2,o=[r],a=1;a<M.length;a++)n=M[a-1]/2,t=M[a]/2,o.push(o[a-1]+Math.max(1.618*p,n+e+t));var u=.618*p/2;return{width:T,height:o[o.length-1]+Math.max(i,p/2),circleX:c.range(M.length).map(function(){return k/2}),circleY:o,textAnchor:"start",textX:c.range(A.length).map(function(){return k+8}),textY:o.map(function(t){return t+u})}}():function(){for(var t,n,e=Math.max(w(A[0])/2,M[0]/2),r=Math.max(w(A[A.length-1])/2,M[M.length-1]/2),i=(T-M.reduce(function(t,n,e){return t+(0===e||e===M.length-1?n/2:n)},0)-e-r)/(d-1),o=[e],a=1;a<M.length;a++)n=M[a-1]/2,t=M[a]/2,o.push(o[a-1]+n+i+t);var u=M.map(function(t){return k-t/2});return{width:T,height:k+8+p,circleX:o,circleY:u,textAnchor:"middle",textX:o,textY:c.range(A.length).map(function(){return k+8+p})}}(),N=y.apply(void 0,["svg",{class:"tau-chart__legend__size",width:O.width,height:O.height}].concat(M.map(function(t,n){return y("circle",{class:"tau-chart__legend__size__item__circle "+(e.config.color?"color-definite":"color-default-size"),cx:O.circleX[n],cy:O.circleY[n],r:t/2})}),A.map(function(t,n){return y("text",{class:"tau-chart__legend__size__item__label",x:O.textX[n],y:O.textY[n],"text-anchor":O.textAnchor},t)})));E.insertAdjacentHTML("beforeend",N)}})},_drawColorLegend:function(){var t=this;t._color.forEach(function(n){var r=t._chart.select(function(t){return t.config.color===n})[0];if(r){var i=r.config.guide||{},o=r.getScale("color"),a=t._chart.getDataSources({excludeFilter:["legend"]}),u=c.unique(a[o.source].data.map(function(t){return t[o.dim]})),s=t._chart.getSpec().scales[n];if(s.order)u=c.union(c.intersection(s.order,u),u);else{var l=t._legendOrderState[n];u=u.sort(function(t,n){var e=l[t]-l[n];return e&&e/Math.abs(e)})}var f=((i.color||{}).label||{}).text||o.dim,h=(i.color||{}).tickFormatNullAlias||"No "+f,d=t._getFormat(o.dim),p=u.map(function(r){var i=JSON.stringify(e(r)?null:r),a=o.dim+i;return{scaleId:n,dim:o.dim,color:o(r),disabled:t._currentFilters.hasOwnProperty(a),label:d(r),value:i}});t._legendColorByScaleId[n]=p,t._container.insertAdjacentHTML("beforeend",t._template({name:f,top:t._resetTemplate({classDisabled:p.some(function(t){return t.disabled})?"":"disabled"}),items:p.map(function(n){return t._itemTemplate({scaleId:n.scaleId,dim:c.escape(n.dim),color:n.color,cssClass:o.toClass(n.color),cssColor:n.disabled?"transparent":o.toColor(n.color),borderColor:o.toColor(n.color),classDisabled:n.disabled?"disabled":"",label:c.escape(e(n.label)?h:n.label),value:c.escape(n.value)})}).join("")}))}}),t._color.length>0&&(t._updateResetButtonPosition(),t._scrollTimeout=null,t._scrollListener=function(){var n=t._container.querySelector(l);n.style.display="none",t._scrollTimeout&&clearTimeout(t._scrollTimeout),t._scrollTimeout=setTimeout(function(){t._updateResetButtonPosition(),n.style.display="",t._scrollTimeout=null},250)},t._getScrollContainer().addEventListener("scroll",t._scrollListener))},_toggleLegendItem:function(t,n){var e=this._currentFilters,i=t?Array.prototype.filter.call(t.parentNode.childNodes,function(t){return t.matches(f)}):null,o=function(t){var n=t.getAttribute("data-dim"),e=t.getAttribute("data-value");return{sid:t.getAttribute("data-scale-id"),dim:n,val:e,key:n+e}},a=function(t){return t in e},u=function(t,n){var i=o(t);if(a(i.key)===n)if(n){var u=e[i.key];delete e[i.key],t.classList.remove("disabled"),this._chart.removeFilter(u)}else{t.classList.add("disabled");var c=r(i.dim,i.val);e[i.key]=this._chart.addFilter({tag:"legend",predicate:function(t){return!c(t)}})}}.bind(this),c=function(n){return n===t},s=!!t&&a(o(t).key),l=function(t,n){t.querySelector(".tau-chart__legend__guide").style.backgroundColor=n?"":"transparent"};if("reset"===n)i.forEach(function(t){u(t,!0),l(t,!0)});else if("leave-others"===n)i.forEach(function(t){c(t)&&u(t,s)}),l(t,s);else if("focus-single"===n){var h=!s&&i.every(function(t){return c(t)||a(o(t).key)});i.forEach(function(t){var n=c(t)||h;u(t,n)}),s&&l(t,!0)}this._chart.refresh()},_highlightToggle:function(t,n){if(!t.matches(".disabled")){var e=t.getAttribute("data-dim"),i=t.getAttribute("data-value"),o=n?r(e,i):function(t){return null};this._chart.select(function(t){return!0}).forEach(function(t){t.fire("highlight",o)})}},_getScrollContainer:function(){return this._container.parentNode.parentNode},_updateResetButtonPosition:function(){this._container.querySelector(l).style.top=this._getScrollContainer().scrollTop+"px"},_generateColorMap:function(t,n){var e=n.length;return t.reduce(function(t,r,i){return t[r]=n[i%e],t},{})},_assignStaticBrewersOrEx:function(){var t=this;t._color.forEach(function(n){var e=t._chart.getSpec().scales[n],r=t._chart.getDataSources({excludeFilter:["legend"]}),i=t._chart.getScaleFactory(r).createScaleInfoByName(n).domain();if(!e.brewer||Array.isArray(e.brewer)){var o=e.brewer||c.range(20).map(function(t){return"color20-"+(1+t)});e.brewer=t._generateColorMap(i,o)}t._legendOrderState[n]=i.reduce(function(t,n,e){return t[n]=e,t},{})})}}}a.a.api.plugins.add("legend",A),n.default=A},8:function(t,e){t.exports=n}})}(e(5),e(7))},function(t,n){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,n,e){var r=e(18);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};e(20)(r,i);r.locals&&(t.exports=r.locals)},function(t,n,e){(t.exports=e(19)(!1)).push([t.i,'/*!\n * /*\n * taucharts@2.1.0 (2018-03-21)\n * Copyright 2018 Targetprocess, Inc.\n * Licensed under Apache License 2.0\n * * /\n * \n */\n.tau-chart__layout {\n  line-height: 1;\n  font-family: Helvetica Neue, Segoe UI, Open Sans, Ubuntu, sans-serif; }\n\n.tau-chart__layout text {\n  font: normal 13px Helvetica Neue, Segoe UI, Open Sans, Ubuntu, sans-serif; }\n\n.tau-chart__chart {\n  font-family: Helvetica Neue, Segoe UI, Open Sans, Ubuntu, sans-serif;\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  overflow: auto; }\n\n.tau-chart__layout {\n  display: -webkit-box;\n  display: -webkit-flexbox;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: stretch;\n  -webkit-align-items: stretch;\n  align-items: stretch;\n  -ms-flex-direction: column;\n  -webkit-box-orient: vertical;\n  flex-direction: column;\n  height: 100%;\n  width: 100%;\n  overflow: auto;\n  background: transparent;\n  color: #333; }\n\n.tau-chart__layout__header {\n  -ms-flex: 0 0.1 auto;\n  -webkit-box-flex: 0 0.1 auto;\n  flex: 0 0.1 auto;\n  position: relative; }\n\n.tau-chart__layout__container {\n  display: -webkit-box;\n  display: -webkit-flexbox;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex: 1 1 auto;\n  -webkit-box-flex: 1 1 auto;\n  flex: 1 1 auto;\n  height: 100%; }\n\n.tau-chart__layout__footer {\n  -ms-flex: 0 1 auto;\n  -webkit-box-flex: 0 1 auto;\n  flex: 0 1 auto; }\n\n.tau-chart__layout__sidebar {\n  -ms-flex: 0 1 auto;\n  -webkit-box-flex: 0 1 auto;\n  flex: 0 1 auto; }\n\n.tau-chart__layout__content {\n  -ms-flex: 1 1 auto;\n  -webkit-box-flex: 1 1 auto;\n  flex: 1 1 auto;\n  overflow: hidden; }\n\n.tau-chart__layout__sidebar-right {\n  position: relative;\n  overflow: hidden;\n  -ms-flex: 0 0 auto;\n  -webkit-box-flex: 0 0 auto;\n  flex: 0 0 auto; }\n\n.tau-chart__layout__sidebar-right__wrap {\n  max-height: 100%;\n  box-sizing: border-box; }\n\n.tau-chart__layout text {\n  fill: #333; }\n\n.tau-chart__layout.tau-chart__layout_rendering-error {\n  opacity: 0.75; }\n\n.tau-chart__rendering-timeout-warning {\n  align-items: center;\n  background: rgba(255, 255, 255, 0.5);\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  width: 100%; }\n\n.tau-chart__rendering-timeout-warning svg {\n  height: 100%;\n  max-width: 32em;\n  width: 100%; }\n\n.tau-chart__rendering-timeout-warning text {\n  font-weight: 300; }\n\n.tau-chart__progress {\n  box-sizing: border-box;\n  height: 0.25em;\n  opacity: 0;\n  overflow: hidden;\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  transition: opacity 1s 0.75s;\n  width: 100%; }\n\n.tau-chart__progress_active {\n  opacity: 1; }\n\n.tau-chart__progress__value {\n  background: rgba(51, 51, 51, 0.25);\n  height: 100%;\n  transition: width 0.75s; }\n\n.tau-chart {\n  /* region Select --------------------------------------------------*/ }\n\n.tau-chart__checkbox {\n  position: relative;\n  display: block; }\n\n.tau-chart__checkbox__input {\n  position: absolute;\n  z-index: -1;\n  opacity: 0; }\n\n.tau-chart__checkbox__icon {\n  position: relative;\n  width: 14px;\n  height: 14px;\n  top: 3px;\n  display: inline-block;\n  border: 1px solid #c3c3c3;\n  border-radius: 2px;\n  background: linear-gradient(to bottom, #fff 0%, #dbdbde 100%); }\n\n.tau-chart__checkbox__icon:before {\n  display: none;\n  content: \'\';\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAFoTx1HAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MEQ4M0RDOTE4NDQ2MTFFNEE5RTdBRERDQzRBQzNEMTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MEQ4M0RDOTI4NDQ2MTFFNEE5RTdBRERDQzRBQzNEMTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowRDgzREM4Rjg0NDYxMUU0QTlFN0FERENDNEFDM0QxNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowRDgzREM5MDg0NDYxMUU0QTlFN0FERENDNEFDM0QxNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pn2UjdoAAAEGSURBVHjaYvz//z8DGIAYSUlJdwECiBEukpiY/BDEAQggBrgIVBkLjAEDAAHEiMyBywBNOwDmJCYm/cdQBhBAqHrQAUgSojV5P8QtSY+A+D7cPTDdMAUwTQABhNdYJgZ8AF1nRkaGAgjDvQzi/AOCP3+YWX7+/HmXiYlRAcXY37//AEPs511OTg65uXPnPkQxNi0tTTklJUWGaNcCBBj+EMIDmBjIBCwo1jMyYigAul/x79//B4CulwOqODBv3hxHDKcmJycfAHLtgfrvMTExJf/7938xUF4GaOB9FhZmh1mzZj2CqUdNEkAdSUmZSsAgBNrAIAsUAQYlu+O0adMeo0cS/QMHAGJZps83N5ZDAAAAAElFTkSuQmCC");\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0; }\n\n.tau-chart__checkbox__text {\n  margin-left: 5px; }\n\n.tau-chart__checkbox__input ~ .tau-chart__checkbox__text {\n  cursor: pointer; }\n\n.tau-chart__checkbox__input:disabled ~ .tau-chart__checkbox__text {\n  cursor: default;\n  opacity: 0.3; }\n\n.tau-chart__checkbox__input:not(:disabled):focus + .tau-chart__checkbox__icon {\n  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.3), 0 0 7px 0 #52a8ec;\n  outline: none; }\n\n.tau-chart__checkbox:hover .tau-chart__checkbox__input:not(:disabled) ~ .tau-chart__checkbox__icon {\n  border-color: #999; }\n\n.tau-chart__checkbox__input:checked + .tau-chart__checkbox__icon {\n  background: linear-gradient(to bottom, #fff 0%, #dbdbde 100%); }\n\n.tau-chart__checkbox__input:checked + .tau-chart__checkbox__icon:before {\n  display: block; }\n\n.tau-chart__select {\n  font-size: 13px;\n  font-family: inherit;\n  display: inline-block;\n  height: 24px;\n  line-height: 24px;\n  vertical-align: middle;\n  padding: 2px;\n  background-color: #fff;\n  border: 1px solid #c3c3c3;\n  border-radius: 2px;\n  color: #333; }\n\n.tau-chart__select:focus {\n  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.3), 0 0 7px 0 #52a8ec;\n  outline: none; }\n\n.tau-chart__select[disabled] {\n  opacity: 0.3;\n  cursor: default; }\n\n.tau-chart__select[multiple] {\n  height: auto; }\n\n.tau-chart__select option[disabled] {\n  opacity: 0.6; }\n\n.tau-chart__button {\n  background-color: rgba(255, 255, 255, 0.9);\n  border: 1px solid currentColor;\n  border-radius: 4px;\n  box-shadow: 0 0 1px rgba(0, 0, 0, 0.1);\n  box-sizing: border-box;\n  color: #b3b3b3;\n  cursor: pointer;\n  font-size: 13px;\n  padding: 0 6px;\n  line-height: 1.5em;\n  height: calc(1.5em + 2px); }\n\n.tau-chart__button:hover {\n  border-color: #999999;\n  color: #333; }\n\n/* region Generate .color@{n}-@{i}  function  */\n.tau-chart__svg .color20-1 {\n  stroke: #6FA1D9;\n  fill: #6FA1D9; }\n\n.tau-chart__svg .color20-2 {\n  stroke: #DF2B59;\n  fill: #DF2B59; }\n\n.tau-chart__svg .color20-3 {\n  stroke: #66DA26;\n  fill: #66DA26; }\n\n.tau-chart__svg .color20-4 {\n  stroke: #4C3862;\n  fill: #4C3862; }\n\n.tau-chart__svg .color20-5 {\n  stroke: #E5B011;\n  fill: #E5B011; }\n\n.tau-chart__svg .color20-6 {\n  stroke: #3A3226;\n  fill: #3A3226; }\n\n.tau-chart__svg .color20-7 {\n  stroke: #CB461A;\n  fill: #CB461A; }\n\n.tau-chart__svg .color20-8 {\n  stroke: #C7CE23;\n  fill: #C7CE23; }\n\n.tau-chart__svg .color20-9 {\n  stroke: #7FCDC2;\n  fill: #7FCDC2; }\n\n.tau-chart__svg .color20-10 {\n  stroke: #CCA1C8;\n  fill: #CCA1C8; }\n\n.tau-chart__svg .color20-11 {\n  stroke: #C84CCE;\n  fill: #C84CCE; }\n\n.tau-chart__svg .color20-12 {\n  stroke: #54762E;\n  fill: #54762E; }\n\n.tau-chart__svg .color20-13 {\n  stroke: #746BC9;\n  fill: #746BC9; }\n\n.tau-chart__svg .color20-14 {\n  stroke: #953441;\n  fill: #953441; }\n\n.tau-chart__svg .color20-15 {\n  stroke: #5C7A76;\n  fill: #5C7A76; }\n\n.tau-chart__svg .color20-16 {\n  stroke: #C8BF87;\n  fill: #C8BF87; }\n\n.tau-chart__svg .color20-17 {\n  stroke: #BFC1C3;\n  fill: #BFC1C3; }\n\n.tau-chart__svg .color20-18 {\n  stroke: #8E5C31;\n  fill: #8E5C31; }\n\n.tau-chart__svg .color20-19 {\n  stroke: #71CE7B;\n  fill: #71CE7B; }\n\n.tau-chart__svg .color20-20 {\n  stroke: #BE478B;\n  fill: #BE478B; }\n\n.tau-chart__svg .color-default {\n  stroke: #6FA1D9;\n  fill: #6FA1D9; }\n\n/* endregion */\n/* region Generate .line-params-@{n}  function  */\n/* Generate .line-size-@{n} */\n.tau-chart__line-width-1 {\n  stroke-width: 1px; }\n\n.tau-chart__line-width-2 {\n  stroke-width: 1.5px; }\n\n.tau-chart__line-width-3 {\n  stroke-width: 2px; }\n\n.tau-chart__line-width-4 {\n  stroke-width: 2.5px; }\n\n.tau-chart__line-width-5 {\n  stroke-width: 3px; }\n\n/* Generate .line-opacity-@{n} */\n.tau-chart__line-opacity-1 {\n  stroke-opacity: 1; }\n\n.tau-chart__line-opacity-2 {\n  stroke-opacity: 0.95; }\n\n.tau-chart__line-opacity-3 {\n  stroke-opacity: 0.9; }\n\n.tau-chart__line-opacity-4 {\n  stroke-opacity: 0.85; }\n\n.tau-chart__line-opacity-5 {\n  stroke-opacity: 0.8; }\n\n/* endregion */\n/* endregion */\n.tau-chart {\n  /* Links */\n  /* Axises and Grid */\n  /* Scatterplot  */\n  /* Linechart  */\n  /*  Bar  */\n  /* TODO: fix to avoid conflict on "stroke" with color brewer */\n  /* TODO: remove this when CSS for color brewer is fixed */\n  /*  PLUGINS  */\n  /*  Highlighter  */ }\n\n.tau-chart a {\n  color: #3962FF;\n  border-bottom: 1px solid rgba(57, 98, 255, 0.3);\n  text-decoration: none; }\n\n.tau-chart a:hover {\n  color: #E17152;\n  border-bottom: 1px solid rgba(225, 113, 82, 0.3); }\n\n.tau-chart__time-axis-overflow .tick:nth-child(even) {\n  display: none; }\n\n.tau-chart__svg {\n  display: block;\n  overflow: hidden; }\n\n.tau-chart__svg .place {\n  fill: #fff;\n  stroke: #000;\n  stroke-opacity: 0.7;\n  stroke-width: 0.5; }\n\n.tau-chart__svg .place-label {\n  opacity: 0.7;\n  font-size: 11px;\n  color: #000000;\n  line-height: 13px;\n  text-anchor: start; }\n\n.tau-chart__svg .place-label-countries,\n.tau-chart__svg .place-label-subunits,\n.tau-chart__svg .place-label-states {\n  text-anchor: middle;\n  font-size: 10px;\n  fill: rgba(51, 51, 51, 0.5);\n  line-height: 10px;\n  text-transform: capitalize; }\n\n.tau-chart__svg .map-contour-level path {\n  stroke-opacity: 0.5;\n  stroke-linejoin: \'round\'; }\n\n.tau-chart__svg .map-contour-level-0 path {\n  stroke: #fff; }\n\n.tau-chart__svg .map-contour-level-1 path {\n  stroke: #fff; }\n\n.tau-chart__svg .map-contour-level-2 path {\n  stroke: #fff; }\n\n.tau-chart__svg .map-contour-level-3 path {\n  stroke: #fff; }\n\n.tau-chart__svg .map-contour-level-4 path {\n  stroke: #fff; }\n\n.tau-chart__svg .map-contour-highlighted,\n.tau-chart__svg .map-contour:hover {\n  fill: #FFBF00; }\n\n.tau-chart__svg .map-contour-highlighted path,\n.tau-chart__svg .map-contour:hover path {\n  stroke: #fff; }\n\n.tau-chart__svg .map-contour-highlighted text,\n.tau-chart__svg .map-contour:hover text {\n  fill: #000; }\n\n.tau-chart__svg .axis line,\n.tau-chart__svg .axis path {\n  stroke-width: 1;\n  fill: none;\n  stroke: rgba(189, 195, 205, 0.4);\n  shape-rendering: crispEdges; }\n\n.tau-chart__svg .axis.facet-axis .tick line {\n  opacity: 0; }\n\n.tau-chart__svg .axis.facet-axis .tick line.label-ref {\n  opacity: 1; }\n\n.tau-chart__svg .axis.facet-axis .tick text {\n  font-size: 12px;\n  font-weight: 600; }\n\n.tau-chart__svg .axis.facet-axis path.domain {\n  opacity: 0; }\n\n.tau-chart__svg .axis.facet-axis.compact .tick text {\n  font-weight: normal; }\n\n.tau-chart__svg .axis.facet-axis.compact .label {\n  font-weight: normal; }\n\n.tau-chart__svg .axis.facet-axis.compact .label .label-token {\n  font-weight: normal; }\n\n.tau-chart__svg .tick text {\n  font-size: 11px; }\n\n.tau-chart__svg .grid .grid-lines path {\n  shape-rendering: crispEdges; }\n\n.tau-chart__svg .grid .line path,\n.tau-chart__svg .grid path.line,\n.tau-chart__svg .grid path.domain {\n  fill: none; }\n\n.tau-chart__svg .grid .tick > line,\n.tau-chart__svg .grid .extra-tick-line {\n  fill: none;\n  stroke: rgba(189, 195, 205, 0.4);\n  stroke-width: 1px;\n  shape-rendering: crispEdges; }\n\n.tau-chart__svg .grid .tick.zero-tick > line {\n  stroke: rgba(126, 129, 134, 0.505); }\n\n.tau-chart__svg .grid .line path {\n  shape-rendering: auto; }\n\n.tau-chart__svg .grid .cursor-line {\n  shape-rendering: crispEdges;\n  stroke: #adadad;\n  stroke-width: 1px; }\n\n.tau-chart__svg .label {\n  font-size: 12px;\n  font-weight: 600; }\n\n.tau-chart__svg .label .label-token {\n  font-size: 12px;\n  font-weight: 600;\n  text-transform: capitalize; }\n\n.tau-chart__svg .label .label-token-1,\n.tau-chart__svg .label .label-token-2 {\n  font-weight: normal; }\n\n.tau-chart__svg .label .label-token-2 {\n  fill: gray; }\n\n.tau-chart__svg .label .label-token-delimiter {\n  font-weight: normal;\n  fill: gray; }\n\n.tau-chart__svg .label.inline .label-token {\n  font-weight: normal;\n  fill: gray;\n  text-transform: none; }\n\n.tau-chart__svg .brush .selection {\n  fill-opacity: .3;\n  stroke: #fff;\n  shape-rendering: crispEdges; }\n\n.tau-chart__svg .background {\n  stroke: #f2f2f2; }\n\n.tau-chart__dot {\n  opacity: 0.7;\n  stroke-width: 0;\n  transition: stroke-width 0.1s ease, opacity 0.2s ease; }\n\n.tau-chart__line {\n  fill: none;\n  transition: stroke-opacity 0.2s ease, stroke-width 0.2s ease; }\n\n.tau-chart__dot-line {\n  opacity: 1;\n  transition: stroke-opacity 0.2s ease; }\n\n.tau-chart__bar {\n  opacity: 0.7;\n  shape-rendering: geometricPrecision;\n  stroke-opacity: 0.5;\n  stroke-width: 1;\n  stroke: #fff;\n  transition: opacity 0.2s ease; }\n\n.tau-chart__area {\n  transition: opacity 0.2s ease; }\n\n.tau-chart__area path:not(.i-data-anchor),\n.tau-chart__area polygon {\n  opacity: 0.6;\n  transition: stroke-opacity 0.2s ease, stroke-width 0.2s ease; }\n\n.tau-chart__svg .tau-chart__bar {\n  stroke: #fff; }\n\n.tau-chart__dot.tau-chart__highlighted {\n  stroke-width: 1;\n  opacity: 1; }\n\n.tau-chart__dot.tau-chart__dimmed {\n  opacity: 0.2; }\n\n.tau-chart__line.tau-chart__highlighted {\n  stroke-opacity: 1;\n  stroke-width: 3; }\n\n.tau-chart__line.tau-chart__dimmed {\n  stroke-opacity: 0.2; }\n\n.i-role-label.tau-chart__highlighted,\n.tau-chart__area.tau-chart__highlighted,\n.tau-chart__bar.tau-chart__highlighted {\n  stroke-opacity: 1;\n  opacity: 1; }\n\n.i-role-label.tau-chart__dimmed,\n.tau-chart__area.tau-chart__dimmed,\n.tau-chart__bar.tau-chart__dimmed {\n  opacity: 0.2; }\n\n.tau-chart__annotation-line {\n  stroke-width: 2px;\n  stroke-dasharray: 1,1;\n  shape-rendering: crispEdges; }\n\n.tau-chart__annotation-area.tau-chart__area polygon {\n  opacity: 0.1; }\n\n.tau-chart__category-filter {\n  box-sizing: border-box;\n  margin-right: 30px;\n  padding: 20px 0 10px 10px;\n  width: 160px; }\n\n.tau-chart__category-filter__category__label {\n  font-weight: 600;\n  font-size: 13px;\n  margin: 0 0 10px 10px;\n  text-transform: capitalize; }\n\n.tau-chart__category-filter__category__values {\n  margin-bottom: 10px; }\n\n.tau-chart__category-filter__value {\n  align-items: center;\n  color: #ccc;\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  font-size: 13px;\n  width: 100%; }\n\n.tau-chart__category-filter__value:hover {\n  background-color: rgba(189, 195, 205, 0.2); }\n\n.tau-chart__category-filter__value_checked {\n  color: #333; }\n\n.tau-chart__category-filter__value__toggle {\n  flex: none;\n  padding: 10px 10px 8px 10px; }\n\n.tau-chart__category-filter__value__toggle__icon {\n  background-color: transparent;\n  border: 1px solid #8694a3;\n  box-sizing: border-box;\n  border-radius: 50%;\n  display: inline-block;\n  height: 16px;\n  pointer-events: none;\n  position: relative;\n  width: 16px; }\n\n.tau-chart__category-filter__value__toggle__icon::before,\n.tau-chart__category-filter__value__toggle__icon::after {\n  background-color: #333;\n  content: "";\n  display: block;\n  opacity: 0;\n  position: absolute; }\n\n.tau-chart__category-filter__value__toggle__icon::before {\n  height: 2px;\n  left: 3px;\n  top: 6px;\n  width: 8px; }\n\n.tau-chart__category-filter__value__toggle__icon::after {\n  height: 8px;\n  left: 6px;\n  top: 3px;\n  width: 2px; }\n\n.tau-chart__category-filter__value__toggle:hover .tau-chart__category-filter__value__toggle__icon::before,\n.tau-chart__category-filter__value__toggle:hover .tau-chart__category-filter__value__toggle__icon::after {\n  opacity: 1; }\n\n.tau-chart__category-filter__value_checked .tau-chart__category-filter__value__toggle__icon {\n  background-color: #8694a3;\n  border-color: transparent; }\n\n.tau-chart__category-filter__value_checked .tau-chart__category-filter__value__toggle__icon::before,\n.tau-chart__category-filter__value_checked .tau-chart__category-filter__value__toggle__icon::after {\n  background-color: #fff;\n  transform: rotate(45deg); }\n\n.tau-chart__category-filter__value__label {\n  padding-left: 4px; }\n\n.tau-chart__layout .tau-crosshair__line {\n  shape-rendering: crispEdges;\n  stroke-dasharray: 1px 1px;\n  stroke-width: 1px; }\n\n.tau-chart__layout .tau-crosshair__label__text {\n  fill: #fff;\n  stroke: none; }\n\n.tau-chart__layout .tau-crosshair__label__text,\n.tau-chart__layout .tau-crosshair__label__text-shadow {\n  font-size: 12px;\n  font-weight: normal; }\n\n.tau-chart__layout .tau-crosshair__line-shadow {\n  shape-rendering: crispEdges;\n  stroke: #cccccc;\n  stroke-width: 1px; }\n\n.tau-chart__layout .tau-crosshair__group.y .tau-crosshair__line-shadow {\n  transform: translateX(-0.5px); }\n\n.tau-chart__layout .tau-crosshair__group.x .tau-crosshair__line-shadow {\n  transform: translateY(0.5px); }\n\n.tau-chart__layout .tau-crosshair__label__text-shadow {\n  stroke-linejoin: round;\n  stroke-width: 3px;\n  visibility: hidden; }\n\n.tau-chart__layout .tau-crosshair__label__box {\n  fill-opacity: 0.85;\n  rx: 3px;\n  ry: 3px;\n  stroke: none; }\n\n.tau-chart__layout .tau-crosshair__line.color20-1 {\n  stroke: #6FA1D9; }\n\n.tau-chart__layout .tau-crosshair__label.color20-1 .tau-crosshair__label__text-shadow {\n  stroke: #6FA1D9; }\n\n.tau-chart__layout .tau-crosshair__label.color20-1 .tau-crosshair__label__box {\n  fill: #6FA1D9; }\n\n.tau-chart__layout .tau-crosshair__line.color20-2 {\n  stroke: #DF2B59; }\n\n.tau-chart__layout .tau-crosshair__label.color20-2 .tau-crosshair__label__text-shadow {\n  stroke: #DF2B59; }\n\n.tau-chart__layout .tau-crosshair__label.color20-2 .tau-crosshair__label__box {\n  fill: #DF2B59; }\n\n.tau-chart__layout .tau-crosshair__line.color20-3 {\n  stroke: #66DA26; }\n\n.tau-chart__layout .tau-crosshair__label.color20-3 .tau-crosshair__label__text-shadow {\n  stroke: #66DA26; }\n\n.tau-chart__layout .tau-crosshair__label.color20-3 .tau-crosshair__label__box {\n  fill: #66DA26; }\n\n.tau-chart__layout .tau-crosshair__line.color20-4 {\n  stroke: #4C3862; }\n\n.tau-chart__layout .tau-crosshair__label.color20-4 .tau-crosshair__label__text-shadow {\n  stroke: #4C3862; }\n\n.tau-chart__layout .tau-crosshair__label.color20-4 .tau-crosshair__label__box {\n  fill: #4C3862; }\n\n.tau-chart__layout .tau-crosshair__line.color20-5 {\n  stroke: #E5B011; }\n\n.tau-chart__layout .tau-crosshair__label.color20-5 .tau-crosshair__label__text-shadow {\n  stroke: #E5B011; }\n\n.tau-chart__layout .tau-crosshair__label.color20-5 .tau-crosshair__label__box {\n  fill: #E5B011; }\n\n.tau-chart__layout .tau-crosshair__line.color20-6 {\n  stroke: #3A3226; }\n\n.tau-chart__layout .tau-crosshair__label.color20-6 .tau-crosshair__label__text-shadow {\n  stroke: #3A3226; }\n\n.tau-chart__layout .tau-crosshair__label.color20-6 .tau-crosshair__label__box {\n  fill: #3A3226; }\n\n.tau-chart__layout .tau-crosshair__line.color20-7 {\n  stroke: #CB461A; }\n\n.tau-chart__layout .tau-crosshair__label.color20-7 .tau-crosshair__label__text-shadow {\n  stroke: #CB461A; }\n\n.tau-chart__layout .tau-crosshair__label.color20-7 .tau-crosshair__label__box {\n  fill: #CB461A; }\n\n.tau-chart__layout .tau-crosshair__line.color20-8 {\n  stroke: #C7CE23; }\n\n.tau-chart__layout .tau-crosshair__label.color20-8 .tau-crosshair__label__text-shadow {\n  stroke: #C7CE23; }\n\n.tau-chart__layout .tau-crosshair__label.color20-8 .tau-crosshair__label__box {\n  fill: #C7CE23; }\n\n.tau-chart__layout .tau-crosshair__line.color20-9 {\n  stroke: #7FCDC2; }\n\n.tau-chart__layout .tau-crosshair__label.color20-9 .tau-crosshair__label__text-shadow {\n  stroke: #7FCDC2; }\n\n.tau-chart__layout .tau-crosshair__label.color20-9 .tau-crosshair__label__box {\n  fill: #7FCDC2; }\n\n.tau-chart__layout .tau-crosshair__line.color20-10 {\n  stroke: #CCA1C8; }\n\n.tau-chart__layout .tau-crosshair__label.color20-10 .tau-crosshair__label__text-shadow {\n  stroke: #CCA1C8; }\n\n.tau-chart__layout .tau-crosshair__label.color20-10 .tau-crosshair__label__box {\n  fill: #CCA1C8; }\n\n.tau-chart__layout .tau-crosshair__line.color20-11 {\n  stroke: #C84CCE; }\n\n.tau-chart__layout .tau-crosshair__label.color20-11 .tau-crosshair__label__text-shadow {\n  stroke: #C84CCE; }\n\n.tau-chart__layout .tau-crosshair__label.color20-11 .tau-crosshair__label__box {\n  fill: #C84CCE; }\n\n.tau-chart__layout .tau-crosshair__line.color20-12 {\n  stroke: #54762E; }\n\n.tau-chart__layout .tau-crosshair__label.color20-12 .tau-crosshair__label__text-shadow {\n  stroke: #54762E; }\n\n.tau-chart__layout .tau-crosshair__label.color20-12 .tau-crosshair__label__box {\n  fill: #54762E; }\n\n.tau-chart__layout .tau-crosshair__line.color20-13 {\n  stroke: #746BC9; }\n\n.tau-chart__layout .tau-crosshair__label.color20-13 .tau-crosshair__label__text-shadow {\n  stroke: #746BC9; }\n\n.tau-chart__layout .tau-crosshair__label.color20-13 .tau-crosshair__label__box {\n  fill: #746BC9; }\n\n.tau-chart__layout .tau-crosshair__line.color20-14 {\n  stroke: #953441; }\n\n.tau-chart__layout .tau-crosshair__label.color20-14 .tau-crosshair__label__text-shadow {\n  stroke: #953441; }\n\n.tau-chart__layout .tau-crosshair__label.color20-14 .tau-crosshair__label__box {\n  fill: #953441; }\n\n.tau-chart__layout .tau-crosshair__line.color20-15 {\n  stroke: #5C7A76; }\n\n.tau-chart__layout .tau-crosshair__label.color20-15 .tau-crosshair__label__text-shadow {\n  stroke: #5C7A76; }\n\n.tau-chart__layout .tau-crosshair__label.color20-15 .tau-crosshair__label__box {\n  fill: #5C7A76; }\n\n.tau-chart__layout .tau-crosshair__line.color20-16 {\n  stroke: #C8BF87; }\n\n.tau-chart__layout .tau-crosshair__label.color20-16 .tau-crosshair__label__text-shadow {\n  stroke: #C8BF87; }\n\n.tau-chart__layout .tau-crosshair__label.color20-16 .tau-crosshair__label__box {\n  fill: #C8BF87; }\n\n.tau-chart__layout .tau-crosshair__line.color20-17 {\n  stroke: #BFC1C3; }\n\n.tau-chart__layout .tau-crosshair__label.color20-17 .tau-crosshair__label__text-shadow {\n  stroke: #BFC1C3; }\n\n.tau-chart__layout .tau-crosshair__label.color20-17 .tau-crosshair__label__box {\n  fill: #BFC1C3; }\n\n.tau-chart__layout .tau-crosshair__line.color20-18 {\n  stroke: #8E5C31; }\n\n.tau-chart__layout .tau-crosshair__label.color20-18 .tau-crosshair__label__text-shadow {\n  stroke: #8E5C31; }\n\n.tau-chart__layout .tau-crosshair__label.color20-18 .tau-crosshair__label__box {\n  fill: #8E5C31; }\n\n.tau-chart__layout .tau-crosshair__line.color20-19 {\n  stroke: #71CE7B; }\n\n.tau-chart__layout .tau-crosshair__label.color20-19 .tau-crosshair__label__text-shadow {\n  stroke: #71CE7B; }\n\n.tau-chart__layout .tau-crosshair__label.color20-19 .tau-crosshair__label__box {\n  fill: #71CE7B; }\n\n.tau-chart__layout .tau-crosshair__line.color20-20 {\n  stroke: #BE478B; }\n\n.tau-chart__layout .tau-crosshair__label.color20-20 .tau-crosshair__label__text-shadow {\n  stroke: #BE478B; }\n\n.tau-chart__layout .tau-crosshair__label.color20-20 .tau-crosshair__label__box {\n  fill: #BE478B; }\n\n.diff-tooltip__table {\n  border-top: 1px solid rgba(51, 51, 51, 0.2);\n  margin-top: 5px;\n  padding-top: 5px;\n  width: calc(100% + 15px); }\n\n.diff-tooltip__header {\n  align-items: stretch;\n  display: flex;\n  font-weight: 600;\n  justify-content: space-between;\n  padding: 2px 0px;\n  position: relative; }\n\n.diff-tooltip__header__text {\n  align-items: center;\n  display: inline-flex;\n  flex: 1 1 auto;\n  justify-content: flex-start;\n  max-width: 120px; }\n\n.diff-tooltip__header__value {\n  align-items: center;\n  display: inline-flex;\n  flex: 1 1 auto;\n  justify-content: flex-end;\n  margin-right: 15px;\n  max-width: 120px;\n  padding-left: 10px;\n  text-align: right; }\n\n.diff-tooltip__header__updown {\n  align-items: center;\n  display: inline-flex;\n  flex: 1 1 auto;\n  font-size: 75%;\n  height: 100%;\n  justify-content: flex-start;\n  padding-left: 2px;\n  position: absolute;\n  right: 0;\n  visibility: hidden; }\n\n.diff-tooltip__body {\n  max-height: 250px;\n  overflow: hidden;\n  padding: 1px;\n  position: relative; }\n\n.diff-tooltip__body__content {\n  padding-bottom: 1px; }\n\n.diff-tooltip__body_overflow-top::before,\n.diff-tooltip__body_overflow-bottom::after {\n  align-items: center;\n  color: rgba(51, 51, 51, 0.7);\n  content: "...";\n  display: flex;\n  flex-direction: column;\n  height: 26px;\n  left: 0;\n  position: absolute;\n  width: 100%;\n  z-index: 2; }\n\n.diff-tooltip__body_overflow-top::before {\n  background: linear-gradient(to bottom, #fff, rgba(255, 255, 255, 0));\n  justify-content: flex-start;\n  top: 0; }\n\n.diff-tooltip__body_overflow-bottom::after {\n  background: linear-gradient(to top, #fff, rgba(255, 255, 255, 0));\n  justify-content: flex-end;\n  bottom: 0; }\n\n.diff-tooltip__item {\n  display: flex;\n  justify-content: space-between;\n  margin-right: 15px;\n  min-width: 100px;\n  position: relative; }\n\n.diff-tooltip__item_highlighted {\n  background-color: rgba(241, 233, 255, 0.5);\n  box-shadow: 0 0 0 1px #877aa1;\n  z-index: 1; }\n\n.diff-tooltip__item__bg {\n  align-items: center;\n  display: inline-flex;\n  height: 100%;\n  justify-content: center;\n  min-width: 3px;\n  opacity: 0.6;\n  position: absolute;\n  z-index: 0; }\n\n.diff-tooltip__item__text {\n  flex: 1 1 auto;\n  overflow: hidden;\n  padding: 2px 4px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 100%;\n  z-index: 1; }\n\n.diff-tooltip__item__value {\n  flex: none;\n  padding: 2px 4px 2px 30px;\n  z-index: 1; }\n\n.diff-tooltip__item__updown {\n  align-items: center;\n  display: inline-flex;\n  flex: 4;\n  justify-content: flex-start;\n  left: 100%;\n  height: 100%;\n  padding: 0 4px 0 4px;\n  position: absolute; }\n\n.diff-tooltip__item__updown_positive {\n  color: #4ca383; }\n\n.diff-tooltip__item__updown_negative {\n  color: #df6772; }\n\n.diff-tooltip__field__updown_positive {\n  color: #4ca383; }\n\n.diff-tooltip__field__updown_negative {\n  color: #df6772; }\n\n.interval-highlight__range {\n  shape-rendering: crispEdges; }\n\n.interval-highlight__range-start {\n  shape-rendering: crispEdges;\n  stroke: #b8aecb;\n  stroke-dasharray: 2 1; }\n\n.interval-highlight__range-end {\n  shape-rendering: crispEdges;\n  stroke: #b8aecb; }\n\n.interval-highlight__gradient-start {\n  stop-color: #c4b3e6;\n  stop-opacity: 0.02; }\n\n.interval-highlight__gradient-end {\n  stop-color: #c4b3e6;\n  stop-opacity: 0.2; }\n\n.diff-tooltip__item__bg.color20-1 {\n  background-color: #6FA1D9; }\n\n.diff-tooltip__item__bg.color20-2 {\n  background-color: #DF2B59; }\n\n.diff-tooltip__item__bg.color20-3 {\n  background-color: #66DA26; }\n\n.diff-tooltip__item__bg.color20-4 {\n  background-color: #4C3862; }\n\n.diff-tooltip__item__bg.color20-5 {\n  background-color: #E5B011; }\n\n.diff-tooltip__item__bg.color20-6 {\n  background-color: #3A3226; }\n\n.diff-tooltip__item__bg.color20-7 {\n  background-color: #CB461A; }\n\n.diff-tooltip__item__bg.color20-8 {\n  background-color: #C7CE23; }\n\n.diff-tooltip__item__bg.color20-9 {\n  background-color: #7FCDC2; }\n\n.diff-tooltip__item__bg.color20-10 {\n  background-color: #CCA1C8; }\n\n.diff-tooltip__item__bg.color20-11 {\n  background-color: #C84CCE; }\n\n.diff-tooltip__item__bg.color20-12 {\n  background-color: #54762E; }\n\n.diff-tooltip__item__bg.color20-13 {\n  background-color: #746BC9; }\n\n.diff-tooltip__item__bg.color20-14 {\n  background-color: #953441; }\n\n.diff-tooltip__item__bg.color20-15 {\n  background-color: #5C7A76; }\n\n.diff-tooltip__item__bg.color20-16 {\n  background-color: #C8BF87; }\n\n.diff-tooltip__item__bg.color20-17 {\n  background-color: #BFC1C3; }\n\n.diff-tooltip__item__bg.color20-18 {\n  background-color: #8E5C31; }\n\n.diff-tooltip__item__bg.color20-19 {\n  background-color: #71CE7B; }\n\n.diff-tooltip__item__bg.color20-20 {\n  background-color: #BE478B; }\n\n.tau-chart__print-block {\n  display: none; }\n\n.tau-chart__export {\n  float: right;\n  margin: 0 20px 0 0;\n  display: block;\n  text-indent: 20px;\n  overflow: hidden;\n  background-repeat: no-repeat;\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48dGl0bGU+ZXhwb3J0PC90aXRsZT48ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiMwMDAiPjxwYXRoIGQ9Ik0xNyAxLjY3bC04LjMyOCA4LjM2Nkw4IDkuNSAxNi4zNTMgMUgxMlYwaDZ2NmgtMVYxLjY3eiIgb3BhY2l0eT0iLjgiLz48cGF0aCBkPSJNMCA1LjAxQzAgMy4zNDYgMS4zMzcgMiAzLjAxIDJIMTZ2MTIuOTljMCAxLjY2My0xLjMzNyAzLjAxLTMuMDEgMy4wMUgzLjAxQzEuMzQ2IDE4IDAgMTYuNjYzIDAgMTQuOTlWNS4wMXpNMTUgMTVDMTUgMTYuMTA1IDE0LjEwMyAxNyAxMi45OTQgMTdIMy4wMDZDMS44OTggMTcgMSAxNi4xMDMgMSAxNC45OTRWNS4wMDZDMSAzLjg5OCAxLjg4NyAzIDIuOTk4IDNIOVYyaDd2N2gtMXY2LjAwMnoiIG9wYWNpdHk9Ii40Ii8+PC9nPjwvZz48L3N2Zz4=);\n  width: 20px;\n  height: 20px;\n  color: transparent;\n  opacity: 0.6;\n  cursor: pointer;\n  text-decoration: none;\n  position: relative;\n  z-index: 2; }\n\n.tau-chart__export:hover {\n  opacity: 1;\n  text-decoration: none; }\n\n.tau-chart__export__list {\n  font-size: 11px;\n  margin: 0;\n  padding: 0; }\n\n.tau-chart__export__item {\n  overflow: hidden;\n  box-sizing: border-box; }\n\n.tau-chart__export__item > a {\n  display: block;\n  padding: 7px 15px;\n  color: inherit;\n  text-decoration: none;\n  cursor: pointer; }\n\n.tau-chart__export__item > a:hover,\n.tau-chart__export__item > a:focus {\n  background: #EAF2FC;\n  outline: none;\n  box-shadow: none; }\n\n.tau-chart__legend {\n  padding: 20px 0 10px 10px;\n  position: relative;\n  margin-right: 30px;\n  width: 160px;\n  box-sizing: border-box; }\n\n.tau-chart__legend__wrap {\n  margin-bottom: 30px;\n  position: relative; }\n\n.tau-chart__legend__wrap:last-child {\n  margin-bottom: 0; }\n\n.tau-chart__legend__title {\n  margin: 0 0 10px 10px;\n  text-transform: capitalize;\n  font-weight: 600;\n  font-size: 13px; }\n\n.tau-chart__legend__reset {\n  margin-top: -4px;\n  position: absolute;\n  right: -25px;\n  top: 0;\n  z-index: 1; }\n\n.tau-chart__legend__reset.disabled {\n  display: none; }\n\n.tau-chart__legend__reset + .tau-chart__legend__title {\n  margin-right: 1.7em; }\n\n.tau-chart__legend__item {\n  padding: 10px 20px 8px 40px;\n  position: relative;\n  font-size: 13px;\n  line-height: 1.2em;\n  cursor: pointer; }\n\n.tau-chart__legend__item:hover {\n  background-color: rgba(189, 195, 205, 0.2); }\n\n.tau-chart__legend__item--size {\n  cursor: default; }\n\n.tau-chart__legend__item--size:hover {\n  background: none; }\n\n.tau-chart__legend__item .color-default {\n  background: #6FA1D9;\n  border-color: #6FA1D9; }\n\n.tau-chart__legend__item:disabled,\n.tau-chart__legend__item.disabled {\n  color: #ccc; }\n\n.tau-chart__legend__item.disabled .tau-chart__legend__guide {\n  background: transparent; }\n\n.tau-chart__legend__guide {\n  position: absolute;\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  border: 1px solid transparent;\n  border-radius: 50%; }\n\n.tau-chart__legend__guide__wrap {\n  position: absolute;\n  top: calc((10px - 8px) + 0.6em);\n  left: 10px;\n  width: 16px;\n  height: 16px; }\n\n.tau-chart__legend__guide--size {\n  stroke: #6FA1D9;\n  fill: #6FA1D9; }\n\n.tau-chart__legend__guide--color__overlay {\n  background-color: transparent;\n  height: 36px;\n  left: -12px;\n  position: absolute;\n  top: -12px;\n  width: 36px; }\n\n.tau-chart__legend__guide--color::before {\n  content: "";\n  display: none;\n  height: 2px;\n  left: 3px;\n  pointer-events: none;\n  position: absolute;\n  top: 6px;\n  width: 8px; }\n\n.tau-chart__legend__guide--color::after {\n  content: "";\n  display: none;\n  height: 8px;\n  left: 6px;\n  pointer-events: none;\n  position: absolute;\n  top: 3px;\n  width: 2px; }\n\n.tau-chart__legend__item .tau-chart__legend__guide--color:hover::before,\n.tau-chart__legend__item .tau-chart__legend__guide--color:hover::after {\n  background-color: #fff;\n  display: inline-block;\n  transform: rotate(45deg); }\n\n.tau-chart__legend__item.disabled .tau-chart__legend__guide--color:hover {\n  background: #fff; }\n\n.tau-chart__legend__item.disabled .tau-chart__legend__guide--color:hover::before,\n.tau-chart__legend__item.disabled .tau-chart__legend__guide--color:hover::after {\n  background-color: #333;\n  transform: none; }\n\n.tau-chart__legend__size-wrapper,\n.tau-chart__legend__gradient-wrapper {\n  box-sizing: border-box;\n  margin: 10px;\n  overflow: visible;\n  width: 100%; }\n\n.tau-chart__legend__size,\n.tau-chart__legend__gradient {\n  overflow: visible; }\n\n.tau-chart__legend__size__item__circle.color-definite {\n  stroke: #cacaca;\n  fill: #cacaca; }\n\n.tau-chart__legend__size__item__circle.color-default-size {\n  stroke: #6FA1D9;\n  fill: #6FA1D9; }\n\n.tau-chart__legend__gradient__bar {\n  rx: 4px;\n  ry: 4px; }\n\n.tau-chart__legend__item .color20-1 {\n  background: #6FA1D9;\n  border: 1px solid #6FA1D9; }\n\n.tau-chart__legend__item.disabled .color20-1 {\n  background-color: transparent; }\n\n.tau-chart__legend__item .color20-2 {\n  background: #DF2B59;\n  border: 1px solid #DF2B59; }\n\n.tau-chart__legend__item.disabled .color20-2 {\n  background-color: transparent; }\n\n.tau-chart__legend__item .color20-3 {\n  background: #66DA26;\n  border: 1px solid #66DA26; }\n\n.tau-chart__legend__item.disabled .color20-3 {\n  background-color: transparent; }\n\n.tau-chart__legend__item .color20-4 {\n  background: #4C3862;\n  border: 1px solid #4C3862; }\n\n.tau-chart__legend__item.disabled .color20-4 {\n  background-color: transparent; }\n\n.tau-chart__legend__item .color20-5 {\n  background: #E5B011;\n  border: 1px solid #E5B011; }\n\n.tau-chart__legend__item.disabled .color20-5 {\n  background-color: transparent; }\n\n.tau-chart__legend__item .color20-6 {\n  background: #3A3226;\n  border: 1px solid #3A3226; }\n\n.tau-chart__legend__item.disabled .color20-6 {\n  background-color: transparent; }\n\n.tau-chart__legend__item .color20-7 {\n  background: #CB461A;\n  border: 1px solid #CB461A; }\n\n.tau-chart__legend__item.disabled .color20-7 {\n  background-color: transparent; }\n\n.tau-chart__legend__item .color20-8 {\n  background: #C7CE23;\n  border: 1px solid #C7CE23; }\n\n.tau-chart__legend__item.disabled .color20-8 {\n  background-color: transparent; }\n\n.tau-chart__legend__item .color20-9 {\n  background: #7FCDC2;\n  border: 1px solid #7FCDC2; }\n\n.tau-chart__legend__item.disabled .color20-9 {\n  background-color: transparent; }\n\n.tau-chart__legend__item .color20-10 {\n  background: #CCA1C8;\n  border: 1px solid #CCA1C8; }\n\n.tau-chart__legend__item.disabled .color20-10 {\n  background-color: transparent; }\n\n.tau-chart__legend__item .color20-11 {\n  background: #C84CCE;\n  border: 1px solid #C84CCE; }\n\n.tau-chart__legend__item.disabled .color20-11 {\n  background-color: transparent; }\n\n.tau-chart__legend__item .color20-12 {\n  background: #54762E;\n  border: 1px solid #54762E; }\n\n.tau-chart__legend__item.disabled .color20-12 {\n  background-color: transparent; }\n\n.tau-chart__legend__item .color20-13 {\n  background: #746BC9;\n  border: 1px solid #746BC9; }\n\n.tau-chart__legend__item.disabled .color20-13 {\n  background-color: transparent; }\n\n.tau-chart__legend__item .color20-14 {\n  background: #953441;\n  border: 1px solid #953441; }\n\n.tau-chart__legend__item.disabled .color20-14 {\n  background-color: transparent; }\n\n.tau-chart__legend__item .color20-15 {\n  background: #5C7A76;\n  border: 1px solid #5C7A76; }\n\n.tau-chart__legend__item.disabled .color20-15 {\n  background-color: transparent; }\n\n.tau-chart__legend__item .color20-16 {\n  background: #C8BF87;\n  border: 1px solid #C8BF87; }\n\n.tau-chart__legend__item.disabled .color20-16 {\n  background-color: transparent; }\n\n.tau-chart__legend__item .color20-17 {\n  background: #BFC1C3;\n  border: 1px solid #BFC1C3; }\n\n.tau-chart__legend__item.disabled .color20-17 {\n  background-color: transparent; }\n\n.tau-chart__legend__item .color20-18 {\n  background: #8E5C31;\n  border: 1px solid #8E5C31; }\n\n.tau-chart__legend__item.disabled .color20-18 {\n  background-color: transparent; }\n\n.tau-chart__legend__item .color20-19 {\n  background: #71CE7B;\n  border: 1px solid #71CE7B; }\n\n.tau-chart__legend__item.disabled .color20-19 {\n  background-color: transparent; }\n\n.tau-chart__legend__item .color20-20 {\n  background: #BE478B;\n  border: 1px solid #BE478B; }\n\n.tau-chart__legend__item.disabled .color20-20 {\n  background-color: transparent; }\n\n.tau-chart__filter__wrap {\n  padding: 20px 0 10px 10px;\n  margin-right: 30px;\n  width: 160px;\n  box-sizing: border-box; }\n\n.tau-chart__filter__wrap__title {\n  margin: 0 0 10px 10px;\n  text-transform: capitalize;\n  font-weight: 600;\n  font-size: 13px; }\n\n.tau-chart__filter__wrap rect {\n  fill: rgba(0, 0, 0, 0.2); }\n\n.tau-chart__filter__wrap .brush .overlay,\n.tau-chart__filter__wrap .brush .handle {\n  opacity: 0; }\n\n.tau-chart__filter__wrap .brush .selection {\n  shape-rendering: crispEdges;\n  fill-opacity: 0.4;\n  fill: #0074FF; }\n\n.tau-chart__filter__wrap text.date-label {\n  text-anchor: middle;\n  font-size: 12px; }\n\n.tau-chart__filter__wrap text.date-label .common {\n  font-weight: 600; }\n\n.tau-chart__filter__wrap .resize line {\n  stroke: #000;\n  stroke-width: 1px;\n  shape-rendering: crispEdges; }\n\n.tau-chart__filter__wrap .resize.e text {\n  text-anchor: middle;\n  font-size: 12px; }\n\n.tau-chart__filter__wrap .resize.w text {\n  text-anchor: middle;\n  font-size: 12px; }\n\n.tau-chart__tooltip {\n  background: rgba(255, 255, 255, 0.9);\n  position: absolute;\n  top: 0;\n  left: 0;\n  max-width: none;\n  z-index: 900;\n  align-items: stretch;\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(0, 0, 0, 0.005);\n  font-size: 11px;\n  font-family: Helvetica Neue, Segoe UI, Open Sans, Ubuntu, sans-serif;\n  /* Fade */ }\n\n.tau-chart__tooltip.fade {\n  opacity: 0;\n  transition: opacity 200ms ease-out; }\n\n.tau-chart__tooltip.fade.in {\n  opacity: 1;\n  transition-duration: 500ms; }\n\n.tau-chart__tooltip.top-right,\n.tau-chart__tooltip.bottom-right {\n  margin-left: 8px; }\n\n.tau-chart__tooltip.top-left,\n.tau-chart__tooltip.bottom-left {\n  margin-left: -8px; }\n\n.tau-chart__tooltip.top,\n.tau-chart__tooltip.top-right,\n.tau-chart__tooltip.top-left {\n  margin-top: 8px; }\n\n.tau-chart__tooltip__content {\n  box-sizing: border-box;\n  max-width: 500px;\n  min-width: 100px;\n  overflow: hidden;\n  padding: 15px 15px 10px 15px; }\n\n.tau-chart__tooltip__buttons {\n  background: #EBEEF1;\n  bottom: 100%;\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(0, 0, 0, 0.005);\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  max-width: 500px;\n  min-width: 86px;\n  position: absolute;\n  width: 100%;\n  z-index: -1; }\n\n.tau-chart__tooltip__buttons::after {\n  background: linear-gradient(to bottom, #fff 50%, rgba(255, 255, 255, 0));\n  content: "";\n  display: block;\n  height: 8px;\n  left: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 100%;\n  width: 100%; }\n\n.tau-chart__tooltip__button {\n  color: #65717F;\n  cursor: pointer;\n  display: inline-flex;\n  flex: 1 0 auto;\n  height: 0;\n  overflow: hidden;\n  transition: height 500ms; }\n\n.tau-chart__tooltip__button__wrap {\n  line-height: 26px;\n  padding: 0 15px; }\n\n.tau-chart__tooltip__button:hover {\n  background: #f5f7f8;\n  color: #333; }\n\n.tau-chart__tooltip__button .tau-icon-close-gray {\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIzMHB4IiBoZWlnaHQ9IjMwcHgiIHZpZXdCb3g9IjAgMCAzMCAzMCI+PHBhdGggZmlsbD0iIzg0OTZBNyIgZD0iTTEwLDAuNzE1TDkuMjg1LDBMNSw0LjI4NUwwLjcxNSwwTDAsMC43MTVMNC4yODUsNUwwLDkuMjg1TDAuNzE1LDEwTDUsNS43MTVMOS4yODUsMTBMMTAsOS4yODVMNS43MTUsNUwxMCwwLjcxNXoiLz48L3N2Zz4=);\n  display: inline-block;\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 3px;\n  margin-right: 5px; }\n\n.tau-chart__tooltip.stuck .tau-chart__tooltip__button {\n  height: 26px; }\n\n.tau-chart__tooltip.top .tau-chart__tooltip__buttons,\n.tau-chart__tooltip.top-right .tau-chart__tooltip__buttons,\n.tau-chart__tooltip.top-left .tau-chart__tooltip__buttons {\n  bottom: initial;\n  top: 100%; }\n\n.tau-chart__tooltip.top .tau-chart__tooltip__buttons__wrap,\n.tau-chart__tooltip.top-right .tau-chart__tooltip__buttons__wrap,\n.tau-chart__tooltip.top-left .tau-chart__tooltip__buttons__wrap {\n  position: relative;\n  top: calc(100% - 26px); }\n\n.tau-chart__tooltip.top .tau-chart__tooltip__buttons::after,\n.tau-chart__tooltip.top-right .tau-chart__tooltip__buttons::after,\n.tau-chart__tooltip.top-left .tau-chart__tooltip__buttons::after {\n  background: linear-gradient(to top, #fff 50%, rgba(255, 255, 255, 0));\n  bottom: 100%;\n  top: initial; }\n\n.tau-chart__tooltip.top-right .tau-chart__tooltip__button__wrap,\n.tau-chart__tooltip.top-left .tau-chart__tooltip__button__wrap {\n  position: relative;\n  top: calc(100% - 26px); }\n\n.tau-chart__tooltip__list {\n  display: table; }\n\n.tau-chart__tooltip__list__item {\n  display: table-row; }\n\n.tau-chart__tooltip__list__elem {\n  display: table-cell;\n  padding-bottom: 4px;\n  line-height: 1.3;\n  color: #000; }\n\n.tau-chart__tooltip__list__elem:not(:first-child) {\n  padding-left: 15px; }\n\n.tau-chart__tooltip__list__elem:first-child {\n  color: #8e8e8e; }\n\n.tau-chart__tooltip__gray-text {\n  color: #8e8e8e; }\n\n.tau-chart__tooltip-target {\n  cursor: pointer; }\n\n.tau-chart__tooltip-target .tau-chart__dot.tau-chart__highlighted,\n.tau-chart__tooltip-target .tau-chart__bar.tau-chart__highlighted,\n.tau-chart__tooltip-target .i-data-anchor.tau-chart__highlighted {\n  stroke: #333;\n  stroke-width: 1; }\n\n.tau-chart__tooltip-target .tau-chart__bar.tau-chart__highlighted {\n  shape-rendering: crispEdges; }\n\n.tau-chart__svg .tau-chart__trendline.color20-1 {\n  stroke: #357ac7; }\n\n.tau-chart__svg .tau-chart__trendline.color20-2 {\n  stroke: #a5193d; }\n\n.tau-chart__svg .tau-chart__trendline.color20-3 {\n  stroke: #47991a; }\n\n.tau-chart__svg .tau-chart__trendline.color20-4 {\n  stroke: #261c31; }\n\n.tau-chart__svg .tau-chart__trendline.color20-5 {\n  stroke: #9e790c; }\n\n.tau-chart__svg .tau-chart__trendline.color20-6 {\n  stroke: #0c0a08; }\n\n.tau-chart__svg .tau-chart__trendline.color20-7 {\n  stroke: #872f11; }\n\n.tau-chart__svg .tau-chart__trendline.color20-8 {\n  stroke: #888d18; }\n\n.tau-chart__svg .tau-chart__trendline.color20-9 {\n  stroke: #48b8a8; }\n\n.tau-chart__svg .tau-chart__trendline.color20-10 {\n  stroke: #b16fab; }\n\n.tau-chart__svg .tau-chart__trendline.color20-11 {\n  stroke: #9c2ca1; }\n\n.tau-chart__svg .tau-chart__trendline.color20-12 {\n  stroke: #2d3f19; }\n\n.tau-chart__svg .tau-chart__trendline.color20-13 {\n  stroke: #483eaa; }\n\n.tau-chart__svg .tau-chart__trendline.color20-14 {\n  stroke: #5c2028; }\n\n.tau-chart__svg .tau-chart__trendline.color20-15 {\n  stroke: #3b4e4c; }\n\n.tau-chart__svg .tau-chart__trendline.color20-16 {\n  stroke: #b0a353; }\n\n.tau-chart__svg .tau-chart__trendline.color20-17 {\n  stroke: #989b9e; }\n\n.tau-chart__svg .tau-chart__trendline.color20-18 {\n  stroke: #55371d; }\n\n.tau-chart__svg .tau-chart__trendline.color20-19 {\n  stroke: #3eb44b; }\n\n.tau-chart__svg .tau-chart__trendline.color20-20 {\n  stroke: #883063; }\n\n.tau-chart__svg .tau-chart__trendline.color-default {\n  stroke: #357ac7; }\n\n.tau-chart {\n  /* TrendLine */ }\n\n.tau-chart__trendlinepanel {\n  padding: 20px 0 20px 20px;\n  margin-right: 20px;\n  width: 160px;\n  box-sizing: border-box; }\n\n.tau-chart__trendlinepanel__title {\n  margin: 0 0 10px 0;\n  text-transform: capitalize;\n  font-weight: 600;\n  font-size: 13px; }\n\n.tau-chart__trendlinepanel__control {\n  width: 100%; }\n\n.tau-chart__trendlinepanel__error-message {\n  font-size: 11px;\n  line-height: 16px;\n  margin-left: 5px; }\n\n.tau-chart__trendlinepanel.applicable-false.hide-trendline-error,\n.tau-chart__trendlinepanel.applicable-false .tau-chart__checkbox__input,\n.tau-chart__trendlinepanel.applicable-false .tau-chart__trendlinepanel__control,\n.tau-chart__trendlinepanel.applicable-false .tau-chart__checkbox__icon {\n  display: none; }\n\n.tau-chart__trendline {\n  stroke-dasharray: 4, 4; }\n',""])},function(t,n){t.exports=function(t){var n=[];return n.toString=function(){return this.map(function(n){var e=function(t,n){var e=t[1]||"",r=t[3];if(!r)return e;if(n&&"function"==typeof btoa){var i=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(r),o=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[e].concat(o).concat([i]).join("\n")}return[e].join("\n")}(n,t);return n[2]?"@media "+n[2]+"{"+e+"}":e}).join("")},n.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(e&&!a[2]?a[2]=e:e&&(a[2]="("+a[2]+") and ("+e+")"),n.push(a))}},n}},function(t,n,e){var r={},i=function(t){var n;return function(){return void 0===n&&(n=t.apply(this,arguments)),n}}(function(){return window&&document&&document.all&&!window.atob}),o=function(t){var n={};return function(t){if("function"==typeof t)return t();if(void 0===n[t]){var e=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}n[t]=e}return n[t]}}(),a=null,u=0,c=[],s=e(21);function l(t,n){for(var e=0;e<t.length;e++){var i=t[e],o=r[i.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](i.parts[a]);for(;a<i.parts.length;a++)o.parts.push(_(i.parts[a],n))}else{var u=[];for(a=0;a<i.parts.length;a++)u.push(_(i.parts[a],n));r[i.id]={id:i.id,refs:1,parts:u}}}}function f(t,n){for(var e=[],r={},i=0;i<t.length;i++){var o=t[i],a=n.base?o[0]+n.base:o[0],u={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(u):e.push(r[a]={id:a,parts:[u]})}return e}function h(t,n){var e=o(t.insertInto);if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=c[c.length-1];if("top"===t.insertAt)r?r.nextSibling?e.insertBefore(n,r.nextSibling):e.appendChild(n):e.insertBefore(n,e.firstChild),c.push(n);else if("bottom"===t.insertAt)e.appendChild(n);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=o(t.insertInto+" "+t.insertAt.before);e.insertBefore(n,i)}}function d(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var n=c.indexOf(t);n>=0&&c.splice(n,1)}function p(t){var n=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),g(n,t.attrs),h(t,n),n}function g(t,n){Object.keys(n).forEach(function(e){t.setAttribute(e,n[e])})}function _(t,n){var e,r,i,o;if(n.transform&&t.css){if(!(o=n.transform(t.css)))return function(){};t.css=o}if(n.singleton){var c=u++;e=a||(a=p(n)),r=m.bind(null,e,c,!1),i=m.bind(null,e,c,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(e=function(t){var n=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",g(n,t.attrs),h(t,n),n}(n),r=function(t,n,e){var r=e.css,i=e.sourceMap,o=void 0===n.convertToAbsoluteUrls&&i;(n.convertToAbsoluteUrls||o)&&(r=s(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),u=t.href;t.href=URL.createObjectURL(a),u&&URL.revokeObjectURL(u)}.bind(null,e,n),i=function(){d(e),e.href&&URL.revokeObjectURL(e.href)}):(e=p(n),r=function(t,n){var e=n.css,r=n.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}.bind(null,e),i=function(){d(e)});return r(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;r(t=n)}else i()}}t.exports=function(t,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=i()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var e=f(t,n);return l(e,n),function(t){for(var i=[],o=0;o<e.length;o++){var a=e[o];(u=r[a.id]).refs--,i.push(u)}t&&l(f(t,n),n);for(o=0;o<i.length;o++){var u;if(0===(u=i[o]).refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete r[u.id]}}}};var y=function(){var t=[];return function(n,e){return t[n]=e,t.filter(Boolean).join("\n")}}();function m(t,n,e,r){var i=e?"":r.css;if(t.styleSheet)t.styleSheet.cssText=y(n,i);else{var o=document.createTextNode(i),a=t.childNodes;a[n]&&t.removeChild(a[n]),a.length?t.insertBefore(o,a[n]):t.appendChild(o)}}},function(t,n){t.exports=function(t){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var e=n.protocol+"//"+n.host,r=e+n.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,n){var i,o=n.trim().replace(/^"(.*)"$/,function(t,n){return n}).replace(/^'(.*)'$/,function(t,n){return n});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?e+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(t,n,e){"use strict";e.r(n);var r=function(){return new i};function i(){this.reset()}i.prototype={constructor:i,reset:function(){this.s=this.t=0},add:function(t){a(o,t,this.t),a(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new i;function a(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}var u=1e-6,c=Math.PI,s=c/2,l=c/4,f=2*c,h=180/c,d=c/180,p=Math.abs,g=Math.atan,_=Math.atan2,y=Math.cos,m=Math.ceil,v=Math.exp,b=(Math.floor,Math.log),x=Math.pow,w=Math.sin,M=Math.sign||function(t){return t>0?1:t<0?-1:0},k=Math.sqrt,S=Math.tan;function A(t){return t>1?0:t<-1?c:Math.acos(t)}function E(t){return t>1?s:t<-1?-s:Math.asin(t)}function T(t){return(t=w(t/2))*t}function C(){}function O(t,n){t&&j.hasOwnProperty(t.type)&&j[t.type](t,n)}var N={Feature:function(t,n){O(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)O(e[r].geometry,n)}},j={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){z(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)z(e[r],n,0)},Polygon:function(t,n){D(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)D(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)O(e[r],n)}};function z(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function D(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)z(t[e],n,1);n.polygonEnd()}var L,F,R,P,I,B=function(t,n){t&&N.hasOwnProperty(t.type)?N[t.type](t,n):O(t,n)},U=r(),H=r(),W={point:C,lineStart:C,lineEnd:C,polygonStart:function(){U.reset(),W.lineStart=Y,W.lineEnd=G},polygonEnd:function(){var t=+U;H.add(t<0?f+t:t),this.lineStart=this.lineEnd=this.point=C},sphere:function(){H.add(f)}};function Y(){W.point=X}function G(){q(L,F)}function X(t,n){W.point=q,L=t,F=n,R=t*=d,P=y(n=(n*=d)/2+l),I=w(n)}function q(t,n){n=(n*=d)/2+l;var e=(t*=d)-R,r=e>=0?1:-1,i=r*e,o=y(n),a=w(n),u=I*a,c=P*o+u*y(i),s=u*r*w(i);U.add(_(s,c)),R=t,P=o,I=a}var V=function(t){return H.reset(),B(t,W),2*H};function Z(t){return[_(t[1],t[0]),E(t[2])]}function J(t){var n=t[0],e=t[1],r=y(e);return[r*y(n),r*w(n),w(e)]}function $(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Q(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function K(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function tt(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function nt(t){var n=k(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var et,rt,it,ot,at,ut,ct,st,lt,ft,ht=r(),dt={point:pt,lineStart:_t,lineEnd:yt,polygonStart:function(){dt.point=mt,dt.lineStart=vt,dt.lineEnd=bt,ht.reset(),W.polygonStart()},polygonEnd:function(){W.polygonEnd(),dt.point=pt,dt.lineStart=_t,dt.lineEnd=yt,U<0?(et=-(it=180),rt=-(ot=90)):ht>u?ot=90:ht<-u&&(rt=-90),ft[0]=et,ft[1]=it}};function pt(t,n){lt.push(ft=[et=t,it=t]),n<rt&&(rt=n),n>ot&&(ot=n)}function gt(t,n){var e=J([t*d,n*d]);if(st){var r=Q(st,e),i=Q([r[1],-r[0],0],r);nt(i),i=Z(i);var o,a=t-at,u=a>0?1:-1,c=i[0]*h*u,s=p(a)>180;s^(u*at<c&&c<u*t)?(o=i[1]*h)>ot&&(ot=o):s^(u*at<(c=(c+360)%360-180)&&c<u*t)?(o=-i[1]*h)<rt&&(rt=o):(n<rt&&(rt=n),n>ot&&(ot=n)),s?t<at?xt(et,t)>xt(et,it)&&(it=t):xt(t,it)>xt(et,it)&&(et=t):it>=et?(t<et&&(et=t),t>it&&(it=t)):t>at?xt(et,t)>xt(et,it)&&(it=t):xt(t,it)>xt(et,it)&&(et=t)}else lt.push(ft=[et=t,it=t]);n<rt&&(rt=n),n>ot&&(ot=n),st=e,at=t}function _t(){dt.point=gt}function yt(){ft[0]=et,ft[1]=it,dt.point=pt,st=null}function mt(t,n){if(st){var e=t-at;ht.add(p(e)>180?e+(e>0?360:-360):e)}else ut=t,ct=n;W.point(t,n),gt(t,n)}function vt(){W.lineStart()}function bt(){mt(ut,ct),W.lineEnd(),p(ht)>u&&(et=-(it=180)),ft[0]=et,ft[1]=it,st=null}function xt(t,n){return(n-=t)<0?n+360:n}function wt(t,n){return t[0]-n[0]}function Mt(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var kt,St,At,Et,Tt,Ct,Ot,Nt,jt,zt,Dt,Lt,Ft,Rt,Pt,It,Bt=function(t){var n,e,r,i,o,a,u;if(ot=it=-(et=rt=1/0),lt=[],B(t,dt),e=lt.length){for(lt.sort(wt),n=1,o=[r=lt[0]];n<e;++n)Mt(r,(i=lt[n])[0])||Mt(r,i[1])?(xt(r[0],i[1])>xt(r[0],r[1])&&(r[1]=i[1]),xt(i[0],r[1])>xt(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,n=0,r=o[e=o.length-1];n<=e;r=i,++n)i=o[n],(u=xt(r[1],i[0]))>a&&(a=u,et=i[0],it=r[1])}return lt=ft=null,et===1/0||rt===1/0?[[NaN,NaN],[NaN,NaN]]:[[et,rt],[it,ot]]},Ut={sphere:C,point:Ht,lineStart:Yt,lineEnd:qt,polygonStart:function(){Ut.lineStart=Vt,Ut.lineEnd=Zt},polygonEnd:function(){Ut.lineStart=Yt,Ut.lineEnd=qt}};function Ht(t,n){t*=d;var e=y(n*=d);Wt(e*y(t),e*w(t),w(n))}function Wt(t,n,e){At+=(t-At)/++kt,Et+=(n-Et)/kt,Tt+=(e-Tt)/kt}function Yt(){Ut.point=Gt}function Gt(t,n){t*=d;var e=y(n*=d);Rt=e*y(t),Pt=e*w(t),It=w(n),Ut.point=Xt,Wt(Rt,Pt,It)}function Xt(t,n){t*=d;var e=y(n*=d),r=e*y(t),i=e*w(t),o=w(n),a=_(k((a=Pt*o-It*i)*a+(a=It*r-Rt*o)*a+(a=Rt*i-Pt*r)*a),Rt*r+Pt*i+It*o);St+=a,Ct+=a*(Rt+(Rt=r)),Ot+=a*(Pt+(Pt=i)),Nt+=a*(It+(It=o)),Wt(Rt,Pt,It)}function qt(){Ut.point=Ht}function Vt(){Ut.point=Jt}function Zt(){$t(Lt,Ft),Ut.point=Ht}function Jt(t,n){Lt=t,Ft=n,t*=d,n*=d,Ut.point=$t;var e=y(n);Rt=e*y(t),Pt=e*w(t),It=w(n),Wt(Rt,Pt,It)}function $t(t,n){t*=d;var e=y(n*=d),r=e*y(t),i=e*w(t),o=w(n),a=Pt*o-It*i,u=It*r-Rt*o,c=Rt*i-Pt*r,s=k(a*a+u*u+c*c),l=E(s),f=s&&-l/s;jt+=f*a,zt+=f*u,Dt+=f*c,St+=l,Ct+=l*(Rt+(Rt=r)),Ot+=l*(Pt+(Pt=i)),Nt+=l*(It+(It=o)),Wt(Rt,Pt,It)}var Qt=function(t){kt=St=At=Et=Tt=Ct=Ot=Nt=jt=zt=Dt=0,B(t,Ut);var n=jt,e=zt,r=Dt,i=n*n+e*e+r*r;return i<1e-12&&(n=Ct,e=Ot,r=Nt,St<u&&(n=At,e=Et,r=Tt),(i=n*n+e*e+r*r)<1e-12)?[NaN,NaN]:[_(e,n)*h,E(r/k(i))*h]},Kt=function(t){return function(){return t}},tn=function(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e};function nn(t,n){return[t>c?t-f:t<-c?t+f:t,n]}function en(t,n,e){return(t%=f)?n||e?tn(on(t),an(n,e)):on(t):n||e?an(n,e):nn}function rn(t){return function(n,e){return[(n+=t)>c?n-f:n<-c?n+f:n,e]}}function on(t){var n=rn(t);return n.invert=rn(-t),n}function an(t,n){var e=y(t),r=w(t),i=y(n),o=w(n);function a(t,n){var a=y(n),u=y(t)*a,c=w(t)*a,s=w(n),l=s*e+u*r;return[_(c*i-l*o,u*e-s*r),E(l*i+c*o)]}return a.invert=function(t,n){var a=y(n),u=y(t)*a,c=w(t)*a,s=w(n),l=s*i-c*o;return[_(c*i+s*o,u*e+l*r),E(l*e-u*r)]},a}nn.invert=nn;var un=function(t){function n(n){return(n=t(n[0]*d,n[1]*d))[0]*=h,n[1]*=h,n}return t=en(t[0]*d,t[1]*d,t.length>2?t[2]*d:0),n.invert=function(n){return(n=t.invert(n[0]*d,n[1]*d))[0]*=h,n[1]*=h,n},n};function cn(t,n,e,r,i,o){if(e){var a=y(n),u=w(n),c=r*e;null==i?(i=n+r*f,o=n-c/2):(i=sn(a,i),o=sn(a,o),(r>0?i<o:i>o)&&(i+=r*f));for(var s,l=i;r>0?l>o:l<o;l-=c)s=Z([a,-u*y(l),-u*w(l)]),t.point(s[0],s[1])}}function sn(t,n){(n=J(n))[0]-=t,nt(n);var e=A(-n[1]);return((-n[2]<0?-e:e)+f-u)%f}var ln=function(){var t,n,e=Kt([0,0]),r=Kt(90),i=Kt(6),o={point:function(e,r){t.push(e=n(e,r)),e[0]*=h,e[1]*=h}};function a(){var a=e.apply(this,arguments),u=r.apply(this,arguments)*d,c=i.apply(this,arguments)*d;return t=[],n=en(-a[0]*d,-a[1]*d,0).invert,cn(o,u,c,1),a={type:"Polygon",coordinates:[t]},t=n=null,a}return a.center=function(t){return arguments.length?(e="function"==typeof t?t:Kt([+t[0],+t[1]]),a):e},a.radius=function(t){return arguments.length?(r="function"==typeof t?t:Kt(+t),a):r},a.precision=function(t){return arguments.length?(i="function"==typeof t?t:Kt(+t),a):i},a},fn=function(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:C,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}},hn=function(t,n){return p(t[0]-n[0])<u&&p(t[1]-n[1])<u};function dn(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}var pn=function(t,n,e,r,i){var o,a,u=[],c=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],a=t[n];if(hn(r,a)){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else u.push(e=new dn(r,t,null,!0)),c.push(e.o=new dn(r,null,e,!1)),u.push(e=new dn(a,t,null,!1)),c.push(e.o=new dn(a,null,e,!0))}}),u.length){for(c.sort(n),gn(u),gn(c),o=0,a=c.length;o<a;++o)c[o].e=e=!e;for(var s,l,f=u[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;s=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=s.length;o<a;++o)i.point((l=s[o])[0],l[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(s=h.p.z,o=s.length-1;o>=0;--o)i.point((l=s[o])[0],l[1]);else r(h.x,h.p.x,-1,i);h=h.p}s=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}};function gn(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}var _n=r(),yn=function(t,n){var e=n[0],r=n[1],i=w(r),o=[w(e),-y(e),0],a=0,h=0;_n.reset(),1===i?r=s+u:-1===i&&(r=-s-u);for(var d=0,p=t.length;d<p;++d)if(m=(g=t[d]).length)for(var g,m,v=g[m-1],b=v[0],x=v[1]/2+l,M=w(x),k=y(x),S=0;S<m;++S,b=T,M=O,k=N,v=A){var A=g[S],T=A[0],C=A[1]/2+l,O=w(C),N=y(C),j=T-b,z=j>=0?1:-1,D=z*j,L=D>c,F=M*O;if(_n.add(_(F*z*w(D),k*N+F*y(D))),a+=L?j+z*f:j,L^b>=e^T>=e){var R=Q(J(v),J(A));nt(R);var P=Q(o,R);nt(P);var I=(L^j>=0?-1:1)*E(P[2]);(r>I||r===I&&(R[0]||R[1]))&&(h+=L^j>=0?1:-1)}}return(a<-u||a<u&&_n<-u)^1&h},mn=e(2),vn=function(t,n,e,r){return function(i){var o,a,u,c=n(i),s=fn(),l=n(s),f=!1,h={point:d,lineStart:g,lineEnd:_,polygonStart:function(){h.point=y,h.lineStart=m,h.lineEnd=v,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=_,a=Object(mn.merge)(a);var t=yn(o,r);a.length?(f||(i.polygonStart(),f=!0),pn(a,xn,t,e,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(n,e){t(n,e)&&i.point(n,e)}function p(t,n){c.point(t,n)}function g(){h.point=p,c.lineStart()}function _(){h.point=d,c.lineEnd()}function y(t,n){u.push([t,n]),l.point(t,n)}function m(){l.lineStart(),u=[]}function v(){y(u[0][0],u[0][1]),l.lineEnd();var t,n,e,r,c=l.clean(),h=s.result(),d=h.length;if(u.pop(),o.push(u),u=null,d)if(1&c){if((n=(e=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else d>1&&2&c&&h.push(h.pop().concat(h.shift())),a.push(h.filter(bn))}return h}};function bn(t){return t.length>1}function xn(t,n){return((t=t.x)[0]<0?t[1]-s-u:s-t[1])-((n=n.x)[0]<0?n[1]-s-u:s-n[1])}var wn=vn(function(){return!0},function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var l=o>0?c:-c,f=p(o-e);p(f-c)<u?(t.point(e,r=(r+a)/2>0?s:-s),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(l,r),t.point(o,r),n=0):i!==l&&f>=c&&(p(e-i)<u&&(e-=i*u),p(o-l)<u&&(o-=l*u),r=function(t,n,e,r){var i,o,a=w(t-e);return p(a)>u?g((w(n)*(o=y(r))*w(e)-w(r)*(i=y(n))*w(t))/(i*o*a)):(n+r)/2}(e,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(l,r),n=0),t.point(e=o,r=a),i=l},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}},function(t,n,e,r){var i;if(null==t)i=e*s,r.point(-c,i),r.point(0,i),r.point(c,i),r.point(c,0),r.point(c,-i),r.point(0,-i),r.point(-c,-i),r.point(-c,0),r.point(-c,i);else if(p(t[0]-n[0])>u){var o=t[0]<n[0]?c:-c;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])},[-c,-s]);var Mn=function(t){var n=y(t),e=6*d,r=n>0,i=p(n)>u;function o(t,e){return y(t)*y(e)>n}function a(t,e,r){var i=[1,0,0],o=Q(J(t),J(e)),a=$(o,o),s=o[0],l=a-s*s;if(!l)return!r&&t;var f=n*a/l,h=-n*s/l,d=Q(i,o),g=tt(i,f);K(g,tt(o,h));var _=d,y=$(g,_),m=$(_,_),v=y*y-m*($(g,g)-1);if(!(v<0)){var b=k(v),x=tt(_,(-y-b)/m);if(K(x,g),x=Z(x),!r)return x;var w,M=t[0],S=e[0],A=t[1],E=e[1];S<M&&(w=M,M=S,S=w);var T=S-M,C=p(T-c)<u;if(!C&&E<A&&(w=A,A=E,E=w),C||T<u?C?A+E>0^x[1]<(p(x[0]-M)<u?A:E):A<=x[1]&&x[1]<=E:T>c^(M<=x[0]&&x[0]<=S)){var O=tt(_,(-y+b)/m);return K(O,g),[x,Z(O)]}}}function s(n,e){var i=r?t:c-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return vn(o,function(t){var n,e,l,f,h;return{lineStart:function(){f=l=!1,h=1},point:function(d,p){var g,_=[d,p],y=o(d,p),m=r?y?0:s(d,p):y?s(d+(d<0?c:-c),p):0;if(!n&&(f=l=y)&&t.lineStart(),y!==l&&(!(g=a(n,_))||hn(n,g)||hn(_,g))&&(_[0]+=u,_[1]+=u,y=o(_[0],_[1])),y!==l)h=0,y?(t.lineStart(),g=a(_,n),t.point(g[0],g[1])):(g=a(n,_),t.point(g[0],g[1]),t.lineEnd()),n=g;else if(i&&n&&r^y){var v;m&e||!(v=a(_,n,!0))||(h=0,r?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!y||n&&hn(n,_)||t.point(_[0],_[1]),n=_,l=y,e=m},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return h|(f&&l)<<1}}},function(n,r,i,o){cn(o,t,e,i,n,r)},r?[0,-t]:[-c,t-c])},kn=function(t,n,e,r,i,o){var a,u=t[0],c=t[1],s=0,l=1,f=n[0]-u,h=n[1]-c;if(a=e-u,f||!(a>0)){if(a/=f,f<0){if(a<s)return;a<l&&(l=a)}else if(f>0){if(a>l)return;a>s&&(s=a)}if(a=i-u,f||!(a<0)){if(a/=f,f<0){if(a>l)return;a>s&&(s=a)}else if(f>0){if(a<s)return;a<l&&(l=a)}if(a=r-c,h||!(a>0)){if(a/=h,h<0){if(a<s)return;a<l&&(l=a)}else if(h>0){if(a>l)return;a>s&&(s=a)}if(a=o-c,h||!(a<0)){if(a/=h,h<0){if(a>l)return;a>s&&(s=a)}else if(h>0){if(a<s)return;a<l&&(l=a)}return s>0&&(t[0]=u+s*f,t[1]=c+s*h),l<1&&(n[0]=u+l*f,n[1]=c+l*h),!0}}}}},Sn=1e9,An=-Sn;function En(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,u,c){var l=0,f=0;if(null==i||(l=a(i,u))!==(f=a(o,u))||s(i,o)<0^u>0)do{c.point(0===l||3===l?t:e,l>1?r:n)}while((l=(l+u+4)%4)!==f);else c.point(o[0],o[1])}function a(r,i){return p(r[0]-t)<u?i>0?0:3:p(r[0]-e)<u?i>0?2:1:p(r[1]-n)<u?i>0?1:0:i>0?3:2}function c(t,n){return s(t.x,n.x)}function s(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){var u,s,l,f,h,d,p,g,_,y,m,v=a,b=fn(),x={point:w,lineStart:function(){x.point=M,s&&s.push(l=[]);y=!0,_=!1,p=g=NaN},lineEnd:function(){u&&(M(f,h),d&&_&&b.rejoin(),u.push(b.result()));x.point=w,_&&v.lineEnd()},polygonStart:function(){v=b,u=[],s=[],m=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=s.length;e<i;++e)for(var o,a,u=s[e],c=1,l=u.length,f=u[0],h=f[0],d=f[1];c<l;++c)o=h,a=d,f=u[c],h=f[0],d=f[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(t-o)&&++n:d<=r&&(h-o)*(r-a)<(d-a)*(t-o)&&--n;return n}(),e=m&&n,i=(u=Object(mn.merge)(u)).length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&pn(u,c,n,o,a),a.polygonEnd());v=a,u=s=l=null}};function w(t,n){i(t,n)&&v.point(t,n)}function M(o,a){var u=i(o,a);if(s&&l.push([o,a]),y)f=o,h=a,d=u,y=!1,u&&(v.lineStart(),v.point(o,a));else if(u&&_)v.point(o,a);else{var c=[p=Math.max(An,Math.min(Sn,p)),g=Math.max(An,Math.min(Sn,g))],b=[o=Math.max(An,Math.min(Sn,o)),a=Math.max(An,Math.min(Sn,a))];kn(c,b,t,n,e,r)?(_||(v.lineStart(),v.point(c[0],c[1])),v.point(b[0],b[1]),u||v.lineEnd(),m=!1):u&&(v.lineStart(),v.point(o,a),m=!1)}p=o,g=a,_=u}return x}}var Tn,Cn,On,Nn=function(){var t,n,e,r=0,i=0,o=960,a=500;return e={stream:function(e){return t&&n===e?t:t=En(r,i,o,a)(n=e)},extent:function(u){return arguments.length?(r=+u[0][0],i=+u[0][1],o=+u[1][0],a=+u[1][1],t=n=null,e):[[r,i],[o,a]]}}},jn=r(),zn={sphere:C,point:C,lineStart:function(){zn.point=Ln,zn.lineEnd=Dn},lineEnd:C,polygonStart:C,polygonEnd:C};function Dn(){zn.point=zn.lineEnd=C}function Ln(t,n){Tn=t*=d,Cn=w(n*=d),On=y(n),zn.point=Fn}function Fn(t,n){t*=d;var e=w(n*=d),r=y(n),i=p(t-Tn),o=y(i),a=r*w(i),u=On*e-Cn*r*o,c=Cn*e+On*r*o;jn.add(_(k(a*a+u*u),c)),Tn=t,Cn=e,On=r}var Rn=function(t){return jn.reset(),B(t,zn),+jn},Pn=[null,null],In={type:"LineString",coordinates:Pn},Bn=function(t,n){return Pn[0]=t,Pn[1]=n,Rn(In)},Un={Feature:function(t,n){return Wn(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(Wn(e[r].geometry,n))return!0;return!1}},Hn={Sphere:function(){return!0},Point:function(t,n){return Yn(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Yn(e[r],n))return!0;return!1},LineString:function(t,n){return Gn(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Gn(e[r],n))return!0;return!1},Polygon:function(t,n){return Xn(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Xn(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(Wn(e[r],n))return!0;return!1}};function Wn(t,n){return!(!t||!Hn.hasOwnProperty(t.type))&&Hn[t.type](t,n)}function Yn(t,n){return 0===Bn(t,n)}function Gn(t,n){var e=Bn(t[0],t[1]);return Bn(t[0],n)+Bn(n,t[1])<=e+u}function Xn(t,n){return!!yn(t.map(qn),Vn(n))}function qn(t){return(t=t.map(Vn)).pop(),t}function Vn(t){return[t[0]*d,t[1]*d]}var Zn=function(t,n){return(t&&Un.hasOwnProperty(t.type)?Un[t.type]:Wn)(t,n)};function Jn(t,n,e){var r=Object(mn.range)(t,n-u,e).concat(n);return function(t){return r.map(function(n){return[t,n]})}}function $n(t,n,e){var r=Object(mn.range)(t,n-u,e).concat(n);return function(t){return r.map(function(n){return[n,t]})}}function Qn(){var t,n,e,r,i,o,a,c,s,l,f,h,d=10,g=d,_=90,y=360,v=2.5;function b(){return{type:"MultiLineString",coordinates:x()}}function x(){return Object(mn.range)(m(r/_)*_,e,_).map(f).concat(Object(mn.range)(m(c/y)*y,a,y).map(h)).concat(Object(mn.range)(m(n/d)*d,t,d).filter(function(t){return p(t%_)>u}).map(s)).concat(Object(mn.range)(m(o/g)*g,i,g).filter(function(t){return p(t%y)>u}).map(l))}return b.lines=function(){return x().map(function(t){return{type:"LineString",coordinates:t}})},b.outline=function(){return{type:"Polygon",coordinates:[f(r).concat(h(a).slice(1),f(e).reverse().slice(1),h(c).reverse().slice(1))]}},b.extent=function(t){return arguments.length?b.extentMajor(t).extentMinor(t):b.extentMinor()},b.extentMajor=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],c=+t[0][1],a=+t[1][1],r>e&&(t=r,r=e,e=t),c>a&&(t=c,c=a,a=t),b.precision(v)):[[r,c],[e,a]]},b.extentMinor=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],o=+e[0][1],i=+e[1][1],n>t&&(e=n,n=t,t=e),o>i&&(e=o,o=i,i=e),b.precision(v)):[[n,o],[t,i]]},b.step=function(t){return arguments.length?b.stepMajor(t).stepMinor(t):b.stepMinor()},b.stepMajor=function(t){return arguments.length?(_=+t[0],y=+t[1],b):[_,y]},b.stepMinor=function(t){return arguments.length?(d=+t[0],g=+t[1],b):[d,g]},b.precision=function(u){return arguments.length?(v=+u,s=Jn(o,i,90),l=$n(n,t,v),f=Jn(c,a,90),h=$n(r,e,v),b):v},b.extentMajor([[-180,-90+u],[180,90-u]]).extentMinor([[-180,-80-u],[180,80+u]])}function Kn(){return Qn()()}var te,ne,ee,re,ie=function(t,n){var e=t[0]*d,r=t[1]*d,i=n[0]*d,o=n[1]*d,a=y(r),u=w(r),c=y(o),s=w(o),l=a*y(e),f=a*w(e),p=c*y(i),g=c*w(i),m=2*E(k(T(o-r)+a*c*T(i-e))),v=w(m),b=m?function(t){var n=w(t*=m)/v,e=w(m-t)/v,r=e*l+n*p,i=e*f+n*g,o=e*u+n*s;return[_(i,r)*h,_(o,k(r*r+i*i))*h]}:function(){return[e*h,r*h]};return b.distance=m,b},oe=function(t){return t},ae=r(),ue=r(),ce={point:C,lineStart:C,lineEnd:C,polygonStart:function(){ce.lineStart=se,ce.lineEnd=he},polygonEnd:function(){ce.lineStart=ce.lineEnd=ce.point=C,ae.add(p(ue)),ue.reset()},result:function(){var t=ae/2;return ae.reset(),t}};function se(){ce.point=le}function le(t,n){ce.point=fe,te=ee=t,ne=re=n}function fe(t,n){ue.add(re*t-ee*n),ee=t,re=n}function he(){fe(te,ne)}var de=ce,pe=1/0,ge=pe,_e=-pe,ye=_e;var me,ve,be,xe,we={point:function(t,n){t<pe&&(pe=t);t>_e&&(_e=t);n<ge&&(ge=n);n>ye&&(ye=n)},lineStart:C,lineEnd:C,polygonStart:C,polygonEnd:C,result:function(){var t=[[pe,ge],[_e,ye]];return _e=ye=-(ge=pe=1/0),t}},Me=0,ke=0,Se=0,Ae=0,Ee=0,Te=0,Ce=0,Oe=0,Ne=0,je={point:ze,lineStart:De,lineEnd:Re,polygonStart:function(){je.lineStart=Pe,je.lineEnd=Ie},polygonEnd:function(){je.point=ze,je.lineStart=De,je.lineEnd=Re},result:function(){var t=Ne?[Ce/Ne,Oe/Ne]:Te?[Ae/Te,Ee/Te]:Se?[Me/Se,ke/Se]:[NaN,NaN];return Me=ke=Se=Ae=Ee=Te=Ce=Oe=Ne=0,t}};function ze(t,n){Me+=t,ke+=n,++Se}function De(){je.point=Le}function Le(t,n){je.point=Fe,ze(be=t,xe=n)}function Fe(t,n){var e=t-be,r=n-xe,i=k(e*e+r*r);Ae+=i*(be+t)/2,Ee+=i*(xe+n)/2,Te+=i,ze(be=t,xe=n)}function Re(){je.point=ze}function Pe(){je.point=Be}function Ie(){Ue(me,ve)}function Be(t,n){je.point=Ue,ze(me=be=t,ve=xe=n)}function Ue(t,n){var e=t-be,r=n-xe,i=k(e*e+r*r);Ae+=i*(be+t)/2,Ee+=i*(xe+n)/2,Te+=i,Ce+=(i=xe*t-be*n)*(be+t),Oe+=i*(xe+n),Ne+=3*i,ze(be=t,xe=n)}var He=je;function We(t){this._context=t}We.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,f)}},result:C};var Ye,Ge,Xe,qe,Ve,Ze=r(),Je={point:C,lineStart:function(){Je.point=$e},lineEnd:function(){Ye&&Qe(Ge,Xe),Je.point=C},polygonStart:function(){Ye=!0},polygonEnd:function(){Ye=null},result:function(){var t=+Ze;return Ze.reset(),t}};function $e(t,n){Je.point=Qe,Ge=qe=t,Xe=Ve=n}function Qe(t,n){qe-=t,Ve-=n,Ze.add(k(qe*qe+Ve*Ve)),qe=t,Ve=n}var Ke=Je;function tr(){this._string=[]}function nr(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}tr.prototype={_radius:4.5,_circle:nr(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=nr(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var er=function(t,n){var e,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),B(t,e(r))),r.result()}return o.area=function(t){return B(t,e(de)),de.result()},o.measure=function(t){return B(t,e(Ke)),Ke.result()},o.bounds=function(t){return B(t,e(we)),we.result()},o.centroid=function(t){return B(t,e(He)),He.result()},o.projection=function(n){return arguments.length?(e=null==n?(t=null,oe):(t=n).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(n=null,new tr):new We(n=t),"function"!=typeof i&&r.pointRadius(i),o):n},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(n)},rr=function(t){return{stream:ir(t)}};function ir(t){return function(n){var e=new or;for(var r in t)e[r]=t[r];return e.stream=n,e}}function or(){}function ar(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),B(e,t.stream(we)),n(we.result()),null!=r&&t.clipExtent(r),t}function ur(t,n,e){return ar(t,function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),a=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,u=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([a,u])},e)}function cr(t,n,e){return ur(t,[[0,0],n],e)}function sr(t,n,e){return ar(t,function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,a=-i*e[0][1];t.scale(150*i).translate([o,a])},e)}function lr(t,n,e){return ar(t,function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],a=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,a])},e)}or.prototype={constructor:or,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var fr=16,hr=y(30*d),dr=function(t,n){return+n?function(t,n){function e(r,i,o,a,c,s,l,f,h,d,g,y,m,v){var b=l-r,x=f-i,w=b*b+x*x;if(w>4*n&&m--){var M=a+d,S=c+g,A=s+y,T=k(M*M+S*S+A*A),C=E(A/=T),O=p(p(A)-1)<u||p(o-h)<u?(o+h)/2:_(S,M),N=t(O,C),j=N[0],z=N[1],D=j-r,L=z-i,F=x*D-b*L;(F*F/w>n||p((b*D+x*L)/w-.5)>.3||a*d+c*g+s*y<hr)&&(e(r,i,o,a,c,s,j,z,O,M/=T,S/=T,A,m,v),v.point(j,z),e(j,z,O,M,S,A,l,f,h,d,g,y,m,v))}}return function(n){var r,i,o,a,u,c,s,l,f,h,d,p,g={point:_,lineStart:y,lineEnd:v,polygonStart:function(){n.polygonStart(),g.lineStart=b},polygonEnd:function(){n.polygonEnd(),g.lineStart=y}};function _(e,r){e=t(e,r),n.point(e[0],e[1])}function y(){l=NaN,g.point=m,n.lineStart()}function m(r,i){var o=J([r,i]),a=t(r,i);e(l,f,s,h,d,p,l=a[0],f=a[1],s=r,h=o[0],d=o[1],p=o[2],fr,n),n.point(l,f)}function v(){g.point=_,n.lineEnd()}function b(){y(),g.point=x,g.lineEnd=w}function x(t,n){m(r=t,n),i=l,o=f,a=h,u=d,c=p,g.point=m}function w(){e(l,f,s,h,d,p,i,o,r,a,u,c,fr,n),g.lineEnd=v,v()}return g}}(t,n):function(t){return ir({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)};var pr=ir({point:function(t,n){this.stream.point(t*d,n*d)}});function gr(t,n,e,r){var i=y(r),o=w(r),a=i*t,u=o*t,c=i/t,s=o/t,l=(o*e-i*n)/t,f=(o*n+i*e)/t;function h(t,r){return[a*t-u*r+n,e-u*t-a*r]}return h.invert=function(t,n){return[c*t-s*n+l,f-s*t-c*n]},h}function _r(t){return yr(function(){return t})()}function yr(t){var n,e,r,i,o,a,u,c,s,l,f=150,p=480,g=250,_=0,y=0,m=0,v=0,b=0,x=0,w=null,M=wn,S=null,A=oe,E=.5;function T(t){return c(t[0]*d,t[1]*d)}function C(t){return(t=c.invert(t[0],t[1]))&&[t[0]*h,t[1]*h]}function O(){var t=gr(f,0,0,x).apply(null,n(_,y)),r=(x?gr:function(t,n,e){function r(r,i){return[n+t*r,e-t*i]}return r.invert=function(r,i){return[(r-n)/t,(e-i)/t]},r})(f,p-t[0],g-t[1],x);return e=en(m,v,b),u=tn(n,r),c=tn(e,u),a=dr(u,E),N()}function N(){return s=l=null,T}return T.stream=function(t){return s&&l===t?s:s=pr(function(t){return ir({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(M(a(A(l=t)))))},T.preclip=function(t){return arguments.length?(M=t,w=void 0,N()):M},T.postclip=function(t){return arguments.length?(A=t,S=r=i=o=null,N()):A},T.clipAngle=function(t){return arguments.length?(M=+t?Mn(w=t*d):(w=null,wn),N()):w*h},T.clipExtent=function(t){return arguments.length?(A=null==t?(S=r=i=o=null,oe):En(S=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),N()):null==S?null:[[S,r],[i,o]]},T.scale=function(t){return arguments.length?(f=+t,O()):f},T.translate=function(t){return arguments.length?(p=+t[0],g=+t[1],O()):[p,g]},T.center=function(t){return arguments.length?(_=t[0]%360*d,y=t[1]%360*d,O()):[_*h,y*h]},T.rotate=function(t){return arguments.length?(m=t[0]%360*d,v=t[1]%360*d,b=t.length>2?t[2]%360*d:0,O()):[m*h,v*h,b*h]},T.angle=function(t){return arguments.length?(x=t%360*d,O()):x*h},T.precision=function(t){return arguments.length?(a=dr(u,E=t*t),N()):k(E)},T.fitExtent=function(t,n){return ur(T,t,n)},T.fitSize=function(t,n){return cr(T,t,n)},T.fitWidth=function(t,n){return sr(T,t,n)},T.fitHeight=function(t,n){return lr(T,t,n)},function(){return n=t.apply(this,arguments),T.invert=n.invert&&C,O()}}function mr(t){var n=0,e=c/3,r=yr(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*d,e=t[1]*d):[n*h,e*h]},i}function vr(t,n){var e=w(t),r=(e+w(n))/2;if(p(r)<u)return function(t){var n=y(t);function e(t,e){return[t*n,w(e)/n]}return e.invert=function(t,e){return[t/n,E(e*n)]},e}(t);var i=1+e*(2*r-e),o=k(i)/r;function a(t,n){var e=k(i-2*r*w(n))/r;return[e*w(t*=r),o-e*y(t)]}return a.invert=function(t,n){var e=o-n;return[_(t,p(e))/r*M(e),E((i-(t*t+e*e)*r*r)/(2*r))]},a}var br=function(){return mr(vr).scale(155.424).center([0,33.6442])},xr=function(){return br().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var wr=function(){var t,n,e,r,i,o,a=xr(),c=br().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=br().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){o=[t,n]}};function f(t){var n=t[0],a=t[1];return o=null,e.point(n,a),o||(r.point(n,a),o)||(i.point(n,a),o)}function h(){return t=n=null,f}return f.invert=function(t){var n=a.scale(),e=a.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?c:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:a).invert(t)},f.stream=function(e){return t&&n===e?t:t=function(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}([a.stream(n=e),c.stream(e),s.stream(e)])},f.precision=function(t){return arguments.length?(a.precision(t),c.precision(t),s.precision(t),h()):a.precision()},f.scale=function(t){return arguments.length?(a.scale(t),c.scale(.35*t),s.scale(t),f.translate(a.translate())):a.scale()},f.translate=function(t){if(!arguments.length)return a.translate();var n=a.scale(),o=+t[0],f=+t[1];return e=a.translate(t).clipExtent([[o-.455*n,f-.238*n],[o+.455*n,f+.238*n]]).stream(l),r=c.translate([o-.307*n,f+.201*n]).clipExtent([[o-.425*n+u,f+.12*n+u],[o-.214*n-u,f+.234*n-u]]).stream(l),i=s.translate([o-.205*n,f+.212*n]).clipExtent([[o-.214*n+u,f+.166*n+u],[o-.115*n-u,f+.234*n-u]]).stream(l),h()},f.fitExtent=function(t,n){return ur(f,t,n)},f.fitSize=function(t,n){return cr(f,t,n)},f.fitWidth=function(t,n){return sr(f,t,n)},f.fitHeight=function(t,n){return lr(f,t,n)},f.scale(1070)};function Mr(t){return function(n,e){var r=y(n),i=y(e),o=t(r*i);return[o*i*w(n),o*w(e)]}}function kr(t){return function(n,e){var r=k(n*n+e*e),i=t(r),o=w(i),a=y(i);return[_(n*o,r*a),E(r&&e*o/r)]}}var Sr=Mr(function(t){return k(2/(1+t))});Sr.invert=kr(function(t){return 2*E(t/2)});var Ar=function(){return _r(Sr).scale(124.75).clipAngle(179.999)},Er=Mr(function(t){return(t=A(t))&&t/w(t)});Er.invert=kr(function(t){return t});var Tr=function(){return _r(Er).scale(79.4188).clipAngle(179.999)};function Cr(t,n){return[t,b(S((s+n)/2))]}Cr.invert=function(t,n){return[t,2*g(v(n))-s]};var Or=function(){return Nr(Cr).scale(961/f)};function Nr(t){var n,e,r,i=_r(t),o=i.center,a=i.scale,u=i.translate,s=i.clipExtent,l=null;function f(){var o=c*a(),u=i(un(i.rotate()).invert([0,0]));return s(null==l?[[u[0]-o,u[1]-o],[u[0]+o,u[1]+o]]:t===Cr?[[Math.max(u[0]-o,l),n],[Math.min(u[0]+o,e),r]]:[[l,Math.max(u[1]-o,n)],[e,Math.min(u[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),f()):a()},i.translate=function(t){return arguments.length?(u(t),f()):u()},i.center=function(t){return arguments.length?(o(t),f()):o()},i.clipExtent=function(t){return arguments.length?(null==t?l=n=e=r=null:(l=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),f()):null==l?null:[[l,n],[e,r]]},f()}function jr(t){return S((s+t)/2)}function zr(t,n){var e=y(t),r=t===n?w(t):b(e/y(n))/b(jr(n)/jr(t)),i=e*x(jr(t),r)/r;if(!r)return Cr;function o(t,n){i>0?n<-s+u&&(n=-s+u):n>s-u&&(n=s-u);var e=i/x(jr(n),r);return[e*w(r*t),i-e*y(r*t)]}return o.invert=function(t,n){var e=i-n,o=M(r)*k(t*t+e*e);return[_(t,p(e))/r*M(e),2*g(x(i/o,1/r))-s]},o}var Dr=function(){return mr(zr).scale(109.5).parallels([30,30])};function Lr(t,n){return[t,n]}Lr.invert=Lr;var Fr=function(){return _r(Lr).scale(152.63)};function Rr(t,n){var e=y(t),r=t===n?w(t):(e-y(n))/(n-t),i=e/r+t;if(p(r)<u)return Lr;function o(t,n){var e=i-n,o=r*t;return[e*w(o),i-e*y(o)]}return o.invert=function(t,n){var e=i-n;return[_(t,p(e))/r*M(e),i-M(r)*k(t*t+e*e)]},o}var Pr=function(){return mr(Rr).scale(131.154).center([0,13.9389])};function Ir(t,n){var e=y(n),r=y(t)*e;return[e*w(t)/r,w(n)/r]}Ir.invert=kr(g);var Br=function(){return _r(Ir).scale(144.049).clipAngle(60)};function Ur(t,n,e,r){return 1===t&&1===n&&0===e&&0===r?oe:ir({point:function(i,o){this.stream.point(i*t+e,o*n+r)}})}var Hr=function(){var t,n,e,r,i,o,a=1,u=0,c=0,s=1,l=1,f=oe,h=null,d=oe;function p(){return r=i=null,o}return o={stream:function(t){return r&&i===t?r:r=f(d(i=t))},postclip:function(r){return arguments.length?(d=r,h=t=n=e=null,p()):d},clipExtent:function(r){return arguments.length?(d=null==r?(h=t=n=e=null,oe):En(h=+r[0][0],t=+r[0][1],n=+r[1][0],e=+r[1][1]),p()):null==h?null:[[h,t],[n,e]]},scale:function(t){return arguments.length?(f=Ur((a=+t)*s,a*l,u,c),p()):a},translate:function(t){return arguments.length?(f=Ur(a*s,a*l,u=+t[0],c=+t[1]),p()):[u,c]},reflectX:function(t){return arguments.length?(f=Ur(a*(s=t?-1:1),a*l,u,c),p()):s<0},reflectY:function(t){return arguments.length?(f=Ur(a*s,a*(l=t?-1:1),u,c),p()):l<0},fitExtent:function(t,n){return ur(o,t,n)},fitSize:function(t,n){return cr(o,t,n)},fitWidth:function(t,n){return sr(o,t,n)},fitHeight:function(t,n){return lr(o,t,n)}}};function Wr(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}Wr.invert=function(t,n){var e,r=n,i=25;do{var o=r*r,a=o*o;r-=e=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-n)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(p(e)>u&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var Yr=function(){return _r(Wr).scale(175.295)};function Gr(t,n){return[y(n)*w(t),w(n)]}Gr.invert=kr(E);var Xr=function(){return _r(Gr).scale(249.5).clipAngle(90+u)};function qr(t,n){var e=y(n),r=1+y(t)*e;return[e*w(t)/r,w(n)/r]}qr.invert=kr(function(t){return 2*g(t)});var Vr=function(){return _r(qr).scale(250).clipAngle(142)};function Zr(t,n){return[b(S((s+n)/2)),-t]}Zr.invert=function(t,n){return[-n,2*g(v(t))-s]};var Jr=function(){var t=Nr(Zr),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)};e.d(n,"geoArea",function(){return V}),e.d(n,"geoBounds",function(){return Bt}),e.d(n,"geoCentroid",function(){return Qt}),e.d(n,"geoCircle",function(){return ln}),e.d(n,"geoClipAntimeridian",function(){return wn}),e.d(n,"geoClipCircle",function(){return Mn}),e.d(n,"geoClipExtent",function(){return Nn}),e.d(n,"geoClipRectangle",function(){return En}),e.d(n,"geoContains",function(){return Zn}),e.d(n,"geoDistance",function(){return Bn}),e.d(n,"geoGraticule",function(){return Qn}),e.d(n,"geoGraticule10",function(){return Kn}),e.d(n,"geoInterpolate",function(){return ie}),e.d(n,"geoLength",function(){return Rn}),e.d(n,"geoPath",function(){return er}),e.d(n,"geoAlbers",function(){return xr}),e.d(n,"geoAlbersUsa",function(){return wr}),e.d(n,"geoAzimuthalEqualArea",function(){return Ar}),e.d(n,"geoAzimuthalEqualAreaRaw",function(){return Sr}),e.d(n,"geoAzimuthalEquidistant",function(){return Tr}),e.d(n,"geoAzimuthalEquidistantRaw",function(){return Er}),e.d(n,"geoConicConformal",function(){return Dr}),e.d(n,"geoConicConformalRaw",function(){return zr}),e.d(n,"geoConicEqualArea",function(){return br}),e.d(n,"geoConicEqualAreaRaw",function(){return vr}),e.d(n,"geoConicEquidistant",function(){return Pr}),e.d(n,"geoConicEquidistantRaw",function(){return Rr}),e.d(n,"geoEquirectangular",function(){return Fr}),e.d(n,"geoEquirectangularRaw",function(){return Lr}),e.d(n,"geoGnomonic",function(){return Br}),e.d(n,"geoGnomonicRaw",function(){return Ir}),e.d(n,"geoIdentity",function(){return Hr}),e.d(n,"geoProjection",function(){return _r}),e.d(n,"geoProjectionMutator",function(){return yr}),e.d(n,"geoMercator",function(){return Or}),e.d(n,"geoMercatorRaw",function(){return Cr}),e.d(n,"geoNaturalEarth1",function(){return Yr}),e.d(n,"geoNaturalEarth1Raw",function(){return Wr}),e.d(n,"geoOrthographic",function(){return Xr}),e.d(n,"geoOrthographicRaw",function(){return Gr}),e.d(n,"geoStereographic",function(){return Vr}),e.d(n,"geoStereographicRaw",function(){return qr}),e.d(n,"geoTransverseMercator",function(){return Jr}),e.d(n,"geoTransverseMercatorRaw",function(){return Zr}),e.d(n,"geoRotation",function(){return un}),e.d(n,"geoStream",function(){return B}),e.d(n,"geoTransform",function(){return rr})},function(t,n,e){"use strict";e.r(n);var r=Math.PI,i=2*r,o=i-1e-6;function a(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function u(){return new a}a.prototype=u.prototype={constructor:a,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,i,o){t=+t,n=+n,e=+e,i=+i,o=+o;var a=this._x1,u=this._y1,c=e-t,s=i-n,l=a-t,f=u-n,h=l*l+f*f;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(h>1e-6)if(Math.abs(f*c-s*l)>1e-6&&o){var d=e-a,p=i-u,g=c*c+s*s,_=d*d+p*p,y=Math.sqrt(g),m=Math.sqrt(h),v=o*Math.tan((r-Math.acos((g+h-_)/(2*y*m)))/2),b=v/m,x=v/y;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*l)+","+(n+b*f)),this._+="A"+o+","+o+",0,0,"+ +(f*d>l*p)+","+(this._x1=t+x*c)+","+(this._y1=n+x*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,a,u,c){t=+t,n=+n;var s=(e=+e)*Math.cos(a),l=e*Math.sin(a),f=t+s,h=n+l,d=1^c,p=c?a-u:u-a;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+f+","+h:(Math.abs(this._x1-f)>1e-6||Math.abs(this._y1-h)>1e-6)&&(this._+="L"+f+","+h),e&&(p<0&&(p=p%i+i),p>o?this._+="A"+e+","+e+",0,1,"+d+","+(t-s)+","+(n-l)+"A"+e+","+e+",0,1,"+d+","+(this._x1=f)+","+(this._y1=h):p>1e-6&&(this._+="A"+e+","+e+",0,"+ +(p>=r)+","+d+","+(this._x1=t+e*Math.cos(u))+","+(this._y1=n+e*Math.sin(u))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var c=u,s=function(t){return function(){return t}},l=Math.abs,f=Math.atan2,h=Math.cos,d=Math.max,p=Math.min,g=Math.sin,_=Math.sqrt,y=1e-12,m=Math.PI,v=m/2,b=2*m;function x(t){return t>=1?v:t<=-1?-v:Math.asin(t)}function w(t){return t.innerRadius}function M(t){return t.outerRadius}function k(t){return t.startAngle}function S(t){return t.endAngle}function A(t){return t&&t.padAngle}function E(t,n,e,r,i,o,a){var u=t-e,c=n-r,s=(a?o:-o)/_(u*u+c*c),l=s*c,f=-s*u,h=t+l,p=n+f,g=e+l,y=r+f,m=(h+g)/2,v=(p+y)/2,b=g-h,x=y-p,w=b*b+x*x,M=i-o,k=h*y-g*p,S=(x<0?-1:1)*_(d(0,M*M*w-k*k)),A=(k*x-b*S)/w,E=(-k*b-x*S)/w,T=(k*x+b*S)/w,C=(-k*b+x*S)/w,O=A-m,N=E-v,j=T-m,z=C-v;return O*O+N*N>j*j+z*z&&(A=T,E=C),{cx:A,cy:E,x01:-l,y01:-f,x11:A*(i/M-1),y11:E*(i/M-1)}}var T=function(){var t=w,n=M,e=s(0),r=null,i=k,o=S,a=A,u=null;function d(){var s,d,w=+t.apply(this,arguments),M=+n.apply(this,arguments),k=i.apply(this,arguments)-v,S=o.apply(this,arguments)-v,A=l(S-k),T=S>k;if(u||(u=s=c()),M<w&&(d=M,M=w,w=d),M>y)if(A>b-y)u.moveTo(M*h(k),M*g(k)),u.arc(0,0,M,k,S,!T),w>y&&(u.moveTo(w*h(S),w*g(S)),u.arc(0,0,w,S,k,T));else{var C,O,N=k,j=S,z=k,D=S,L=A,F=A,R=a.apply(this,arguments)/2,P=R>y&&(r?+r.apply(this,arguments):_(w*w+M*M)),I=p(l(M-w)/2,+e.apply(this,arguments)),B=I,U=I;if(P>y){var H=x(P/w*g(R)),W=x(P/M*g(R));(L-=2*H)>y?(z+=H*=T?1:-1,D-=H):(L=0,z=D=(k+S)/2),(F-=2*W)>y?(N+=W*=T?1:-1,j-=W):(F=0,N=j=(k+S)/2)}var Y=M*h(N),G=M*g(N),X=w*h(D),q=w*g(D);if(I>y){var V=M*h(j),Z=M*g(j),J=w*h(z),$=w*g(z);if(A<m){var Q=L>y?function(t,n,e,r,i,o,a,u){var c=e-t,s=r-n,l=a-i,f=u-o,h=(l*(n-o)-f*(t-i))/(f*c-l*s);return[t+h*c,n+h*s]}(Y,G,J,$,V,Z,X,q):[X,q],K=Y-Q[0],tt=G-Q[1],nt=V-Q[0],et=Z-Q[1],rt=1/g(function(t){return t>1?0:t<-1?m:Math.acos(t)}((K*nt+tt*et)/(_(K*K+tt*tt)*_(nt*nt+et*et)))/2),it=_(Q[0]*Q[0]+Q[1]*Q[1]);B=p(I,(w-it)/(rt-1)),U=p(I,(M-it)/(rt+1))}}F>y?U>y?(C=E(J,$,Y,G,M,U,T),O=E(V,Z,X,q,M,U,T),u.moveTo(C.cx+C.x01,C.cy+C.y01),U<I?u.arc(C.cx,C.cy,U,f(C.y01,C.x01),f(O.y01,O.x01),!T):(u.arc(C.cx,C.cy,U,f(C.y01,C.x01),f(C.y11,C.x11),!T),u.arc(0,0,M,f(C.cy+C.y11,C.cx+C.x11),f(O.cy+O.y11,O.cx+O.x11),!T),u.arc(O.cx,O.cy,U,f(O.y11,O.x11),f(O.y01,O.x01),!T))):(u.moveTo(Y,G),u.arc(0,0,M,N,j,!T)):u.moveTo(Y,G),w>y&&L>y?B>y?(C=E(X,q,V,Z,w,-B,T),O=E(Y,G,J,$,w,-B,T),u.lineTo(C.cx+C.x01,C.cy+C.y01),B<I?u.arc(C.cx,C.cy,B,f(C.y01,C.x01),f(O.y01,O.x01),!T):(u.arc(C.cx,C.cy,B,f(C.y01,C.x01),f(C.y11,C.x11),!T),u.arc(0,0,w,f(C.cy+C.y11,C.cx+C.x11),f(O.cy+O.y11,O.cx+O.x11),T),u.arc(O.cx,O.cy,B,f(O.y11,O.x11),f(O.y01,O.x01),!T))):u.arc(0,0,w,D,z,T):u.lineTo(X,q)}else u.moveTo(0,0);if(u.closePath(),s)return u=null,s+""||null}return d.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-m/2;return[h(r)*e,g(r)*e]},d.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:s(+n),d):t},d.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:s(+t),d):n},d.cornerRadius=function(t){return arguments.length?(e="function"==typeof t?t:s(+t),d):e},d.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:s(+t),d):r},d.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:s(+t),d):i},d.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:s(+t),d):o},d.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:s(+t),d):a},d.context=function(t){return arguments.length?(u=null==t?null:t,d):u},d};function C(t){this._context=t}C.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var O=function(t){return new C(t)};function N(t){return t[0]}function j(t){return t[1]}var z=function(){var t=N,n=j,e=s(!0),r=null,i=O,o=null;function a(a){var u,s,l,f=a.length,h=!1;for(null==r&&(o=i(l=c())),u=0;u<=f;++u)!(u<f&&e(s=a[u],u,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(s,u,a),+n(s,u,a));if(l)return o=null,l+""||null}return a.x=function(n){return arguments.length?(t="function"==typeof n?n:s(+n),a):t},a.y=function(t){return arguments.length?(n="function"==typeof t?t:s(+t),a):n},a.defined=function(t){return arguments.length?(e="function"==typeof t?t:s(!!t),a):e},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a},D=function(){var t=N,n=null,e=s(0),r=j,i=s(!0),o=null,a=O,u=null;function l(s){var l,f,h,d,p,g=s.length,_=!1,y=new Array(g),m=new Array(g);for(null==o&&(u=a(p=c())),l=0;l<=g;++l){if(!(l<g&&i(d=s[l],l,s))===_)if(_=!_)f=l,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),h=l-1;h>=f;--h)u.point(y[h],m[h]);u.lineEnd(),u.areaEnd()}_&&(y[l]=+t(d,l,s),m[l]=+e(d,l,s),u.point(n?+n(d,l,s):y[l],r?+r(d,l,s):m[l]))}if(p)return u=null,p+""||null}function f(){return z().defined(i).curve(a).context(o)}return l.x=function(e){return arguments.length?(t="function"==typeof e?e:s(+e),n=null,l):t},l.x0=function(n){return arguments.length?(t="function"==typeof n?n:s(+n),l):t},l.x1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:s(+t),l):n},l.y=function(t){return arguments.length?(e="function"==typeof t?t:s(+t),r=null,l):e},l.y0=function(t){return arguments.length?(e="function"==typeof t?t:s(+t),l):e},l.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:s(+t),l):r},l.lineX0=l.lineY0=function(){return f().x(t).y(e)},l.lineY1=function(){return f().x(t).y(r)},l.lineX1=function(){return f().x(n).y(e)},l.defined=function(t){return arguments.length?(i="function"==typeof t?t:s(!!t),l):i},l.curve=function(t){return arguments.length?(a=t,null!=o&&(u=a(o)),l):a},l.context=function(t){return arguments.length?(null==t?o=u=null:u=a(o=t),l):o},l},L=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},F=function(t){return t},R=function(){var t=F,n=L,e=null,r=s(0),i=s(b),o=s(0);function a(a){var u,c,s,l,f,h=a.length,d=0,p=new Array(h),g=new Array(h),_=+r.apply(this,arguments),y=Math.min(b,Math.max(-b,i.apply(this,arguments)-_)),m=Math.min(Math.abs(y)/h,o.apply(this,arguments)),v=m*(y<0?-1:1);for(u=0;u<h;++u)(f=g[p[u]=u]=+t(a[u],u,a))>0&&(d+=f);for(null!=n?p.sort(function(t,e){return n(g[t],g[e])}):null!=e&&p.sort(function(t,n){return e(a[t],a[n])}),u=0,s=d?(y-h*v)/d:0;u<h;++u,_=l)c=p[u],l=_+((f=g[c])>0?f*s:0)+v,g[c]={data:a[c],index:u,value:f,startAngle:_,endAngle:l,padAngle:m};return g}return a.value=function(n){return arguments.length?(t="function"==typeof n?n:s(+n),a):t},a.sortValues=function(t){return arguments.length?(n=t,e=null,a):n},a.sort=function(t){return arguments.length?(e=t,n=null,a):e},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:s(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:s(+t),a):i},a.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:s(+t),a):o},a},P=B(O);function I(t){this._curve=t}function B(t){function n(n){return new I(t(n))}return n._curve=t,n}function U(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(B(t)):n()._curve},t}I.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var H=function(){return U(z().curve(P))},W=function(){var t=D().curve(P),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return U(e())},delete t.lineX0,t.lineEndAngle=function(){return U(r())},delete t.lineX1,t.lineInnerRadius=function(){return U(i())},delete t.lineY0,t.lineOuterRadius=function(){return U(o())},delete t.lineY1,t.curve=function(t){return arguments.length?n(B(t)):n()._curve},t},Y=function(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]},G=Array.prototype.slice;function X(t){return t.source}function q(t){return t.target}function V(t){var n=X,e=q,r=N,i=j,o=null;function a(){var a,u=G.call(arguments),s=n.apply(this,u),l=e.apply(this,u);if(o||(o=a=c()),t(o,+r.apply(this,(u[0]=s,u)),+i.apply(this,u),+r.apply(this,(u[0]=l,u)),+i.apply(this,u)),a)return o=null,a+""||null}return a.source=function(t){return arguments.length?(n=t,a):n},a.target=function(t){return arguments.length?(e=t,a):e},a.x=function(t){return arguments.length?(r="function"==typeof t?t:s(+t),a):r},a.y=function(t){return arguments.length?(i="function"==typeof t?t:s(+t),a):i},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}function Z(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}function J(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n,e=(e+i)/2,r,e,r,i)}function $(t,n,e,r,i){var o=Y(n,e),a=Y(n,e=(e+i)/2),u=Y(r,e),c=Y(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],u[0],u[1],c[0],c[1])}function Q(){return V(Z)}function K(){return V(J)}function tt(){var t=V($);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var nt={draw:function(t,n){var e=Math.sqrt(n/m);t.moveTo(e,0),t.arc(0,0,e,0,b)}},et={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},rt=Math.sqrt(1/3),it=2*rt,ot={draw:function(t,n){var e=Math.sqrt(n/it),r=e*rt;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},at=Math.sin(m/10)/Math.sin(7*m/10),ut=Math.sin(b/10)*at,ct=-Math.cos(b/10)*at,st={draw:function(t,n){var e=Math.sqrt(.8908130915292852*n),r=ut*e,i=ct*e;t.moveTo(0,-e),t.lineTo(r,i);for(var o=1;o<5;++o){var a=b*o/5,u=Math.cos(a),c=Math.sin(a);t.lineTo(c*e,-u*e),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},lt={draw:function(t,n){var e=Math.sqrt(n),r=-e/2;t.rect(r,r,e,e)}},ft=Math.sqrt(3),ht={draw:function(t,n){var e=-Math.sqrt(n/(3*ft));t.moveTo(0,2*e),t.lineTo(-ft*e,-e),t.lineTo(ft*e,-e),t.closePath()}},dt=Math.sqrt(3)/2,pt=1/Math.sqrt(12),gt=3*(pt/2+1),_t={draw:function(t,n){var e=Math.sqrt(n/gt),r=e/2,i=e*pt,o=r,a=e*pt+e,u=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,c),t.lineTo(-.5*r-dt*i,dt*r+-.5*i),t.lineTo(-.5*o-dt*a,dt*o+-.5*a),t.lineTo(-.5*u-dt*c,dt*u+-.5*c),t.lineTo(-.5*r+dt*i,-.5*i-dt*r),t.lineTo(-.5*o+dt*a,-.5*a-dt*o),t.lineTo(-.5*u+dt*c,-.5*c-dt*u),t.closePath()}},yt=[nt,et,ot,lt,st,ht,_t],mt=function(){var t=s(nt),n=s(64),e=null;function r(){var r;if(e||(e=r=c()),t.apply(this,arguments).draw(e,+n.apply(this,arguments)),r)return e=null,r+""||null}return r.type=function(n){return arguments.length?(t="function"==typeof n?n:s(n),r):t},r.size=function(t){return arguments.length?(n="function"==typeof t?t:s(+t),r):n},r.context=function(t){return arguments.length?(e=null==t?null:t,r):e},r},vt=function(){};function bt(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function xt(t){this._context=t}xt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bt(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bt(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var wt=function(t){return new xt(t)};function Mt(t){this._context=t}Mt.prototype={areaStart:vt,areaEnd:vt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:bt(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var kt=function(t){return new Mt(t)};function St(t){this._context=t}St.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:bt(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var At=function(t){return new St(t)};function Et(t,n){this._basis=new xt(t),this._beta=n}Et.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],o=n[0],a=t[e]-i,u=n[e]-o,c=-1;++c<=e;)r=c/e,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+r*a),this._beta*n[c]+(1-this._beta)*(o+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var Tt=function t(n){function e(t){return 1===n?new xt(t):new Et(t,n)}return e.beta=function(n){return t(+n)},e}(.85);function Ct(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function Ot(t,n){this._context=t,this._k=(1-n)/6}Ot.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ct(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:Ct(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Nt=function t(n){function e(t){return new Ot(t,n)}return e.tension=function(n){return t(+n)},e}(0);function jt(t,n){this._context=t,this._k=(1-n)/6}jt.prototype={areaStart:vt,areaEnd:vt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Ct(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var zt=function t(n){function e(t){return new jt(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Dt(t,n){this._context=t,this._k=(1-n)/6}Dt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ct(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Lt=function t(n){function e(t){return new Dt(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Ft(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>y){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>y){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*s+t._x1*t._l23_2a-n*t._l12_2a)/l,a=(a*s+t._y1*t._l23_2a-e*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function Rt(t,n){this._context=t,this._alpha=n}Rt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Ft(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Pt=function t(n){function e(t){return n?new Rt(t,n):new Ot(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function It(t,n){this._context=t,this._alpha=n}It.prototype={areaStart:vt,areaEnd:vt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Ft(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Bt=function t(n){function e(t){return n?new It(t,n):new jt(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Ut(t,n){this._context=t,this._alpha=n}Ut.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ft(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Ht=function t(n){function e(t){return n?new Ut(t,n):new Dt(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Wt(t){this._context=t}Wt.prototype={areaStart:vt,areaEnd:vt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};var Yt=function(t){return new Wt(t)};function Gt(t){return t<0?-1:1}function Xt(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(Gt(o)+Gt(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function qt(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function Vt(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*n,o-u,a-u*e,o,a)}function Zt(t){this._context=t}function Jt(t){this._context=new $t(t)}function $t(t){this._context=t}function Qt(t){return new Zt(t)}function Kt(t){return new Jt(t)}function tn(t){this._context=t}function nn(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,a[n]-=e*a[n-1];for(i[r-1]=a[r-1]/o[r-1],n=r-2;n>=0;--n)i[n]=(a[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}Zt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vt(this,this._t0,qt(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Vt(this,qt(this,e=Xt(this,t,n)),e);break;default:Vt(this,this._t0,e=Xt(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(Jt.prototype=Object.create(Zt.prototype)).point=function(t,n){Zt.prototype.point.call(this,n,t)},$t.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},tn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=nn(t),i=nn(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],n[a]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var en=function(t){return new tn(t)};function rn(t,n){this._context=t,this._t=n}rn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}};var on=function(t){return new rn(t,.5)};function an(t){return new rn(t,0)}function un(t){return new rn(t,1)}var cn=function(t,n){if((i=t.length)>1)for(var e,r,i,o=1,a=t[n[0]],u=a.length;o<i;++o)for(r=a,a=t[n[o]],e=0;e<u;++e)a[e][1]+=a[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]},sn=function(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e};function ln(t,n){return t[n]}var fn=function(){var t=s([]),n=sn,e=cn,r=ln;function i(i){var o,a,u=t.apply(this,arguments),c=i.length,s=u.length,l=new Array(s);for(o=0;o<s;++o){for(var f,h=u[o],d=l[o]=new Array(c),p=0;p<c;++p)d[p]=f=[0,+r(i[p],h,p,i)],f.data=i[p];d.key=h}for(o=0,a=n(l);o<s;++o)l[a[o]].index=o;return e(l,a),l}return i.keys=function(n){return arguments.length?(t="function"==typeof n?n:s(G.call(n)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:s(+t),i):r},i.order=function(t){return arguments.length?(n=null==t?sn:"function"==typeof t?t:s(G.call(t)),i):n},i.offset=function(t){return arguments.length?(e=null==t?cn:t,i):e},i},hn=function(t,n){if((r=t.length)>0){for(var e,r,i,o=0,a=t[0].length;o<a;++o){for(i=e=0;e<r;++e)i+=t[e][o][1]||0;if(i)for(e=0;e<r;++e)t[e][o][1]/=i}cn(t,n)}},dn=function(t,n){if((u=t.length)>1)for(var e,r,i,o,a,u,c=0,s=t[n[0]].length;c<s;++c)for(o=a=0,e=0;e<u;++e)(i=(r=t[n[e]][c])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):r[0]=o},pn=function(t,n){if((e=t.length)>0){for(var e,r=0,i=t[n[0]],o=i.length;r<o;++r){for(var a=0,u=0;a<e;++a)u+=t[a][r][1]||0;i[r][1]+=i[r][0]=-u/2}cn(t,n)}},gn=function(t,n){if((i=t.length)>0&&(r=(e=t[n[0]]).length)>0){for(var e,r,i,o=0,a=1;a<r;++a){for(var u=0,c=0,s=0;u<i;++u){for(var l=t[n[u]],f=l[a][1]||0,h=(f-(l[a-1][1]||0))/2,d=0;d<u;++d){var p=t[n[d]];h+=(p[a][1]||0)-(p[a-1][1]||0)}c+=f,s+=h*f}e[a-1][1]+=e[a-1][0]=o,c&&(o-=s/c)}e[a-1][1]+=e[a-1][0]=o,cn(t,n)}},_n=function(t){var n=t.map(yn);return sn(t).sort(function(t,e){return n[t]-n[e]})};function yn(t){for(var n,e=0,r=-1,i=t.length;++r<i;)(n=+t[r][1])&&(e+=n);return e}var mn=function(t){return _n(t).reverse()},vn=function(t){var n,e,r=t.length,i=t.map(yn),o=sn(t).sort(function(t,n){return i[n]-i[t]}),a=0,u=0,c=[],s=[];for(n=0;n<r;++n)e=o[n],a<u?(a+=i[e],c.push(e)):(u+=i[e],s.push(e));return s.reverse().concat(c)},bn=function(t){return sn(t).reverse()};e.d(n,"arc",function(){return T}),e.d(n,"area",function(){return D}),e.d(n,"line",function(){return z}),e.d(n,"pie",function(){return R}),e.d(n,"areaRadial",function(){return W}),e.d(n,"radialArea",function(){return W}),e.d(n,"lineRadial",function(){return H}),e.d(n,"radialLine",function(){return H}),e.d(n,"pointRadial",function(){return Y}),e.d(n,"linkHorizontal",function(){return Q}),e.d(n,"linkVertical",function(){return K}),e.d(n,"linkRadial",function(){return tt}),e.d(n,"symbol",function(){return mt}),e.d(n,"symbols",function(){return yt}),e.d(n,"symbolCircle",function(){return nt}),e.d(n,"symbolCross",function(){return et}),e.d(n,"symbolDiamond",function(){return ot}),e.d(n,"symbolSquare",function(){return lt}),e.d(n,"symbolStar",function(){return st}),e.d(n,"symbolTriangle",function(){return ht}),e.d(n,"symbolWye",function(){return _t}),e.d(n,"curveBasisClosed",function(){return kt}),e.d(n,"curveBasisOpen",function(){return At}),e.d(n,"curveBasis",function(){return wt}),e.d(n,"curveBundle",function(){return Tt}),e.d(n,"curveCardinalClosed",function(){return zt}),e.d(n,"curveCardinalOpen",function(){return Lt}),e.d(n,"curveCardinal",function(){return Nt}),e.d(n,"curveCatmullRomClosed",function(){return Bt}),e.d(n,"curveCatmullRomOpen",function(){return Ht}),e.d(n,"curveCatmullRom",function(){return Pt}),e.d(n,"curveLinearClosed",function(){return Yt}),e.d(n,"curveLinear",function(){return O}),e.d(n,"curveMonotoneX",function(){return Qt}),e.d(n,"curveMonotoneY",function(){return Kt}),e.d(n,"curveNatural",function(){return en}),e.d(n,"curveStep",function(){return on}),e.d(n,"curveStepAfter",function(){return un}),e.d(n,"curveStepBefore",function(){return an}),e.d(n,"stack",function(){return fn}),e.d(n,"stackOffsetExpand",function(){return hn}),e.d(n,"stackOffsetDiverging",function(){return dn}),e.d(n,"stackOffsetNone",function(){return cn}),e.d(n,"stackOffsetSilhouette",function(){return pn}),e.d(n,"stackOffsetWiggle",function(){return gn}),e.d(n,"stackOrderAscending",function(){return _n}),e.d(n,"stackOrderDescending",function(){return mn}),e.d(n,"stackOrderInsideOut",function(){return vn}),e.d(n,"stackOrderNone",function(){return sn}),e.d(n,"stackOrderReverse",function(){return bn})},function(t,n,e){"use strict";e.r(n);var r=e(2),i=e(10),o=Array.prototype,a=o.map,u=o.slice,c={name:"implicit"};function s(t){var n=Object(i.a)(),e=[],r=c;function o(i){var o=i+"",a=n.get(o);if(!a){if(r!==c)return r;n.set(o,a=e.push(i))}return t[(a-1)%t.length]}return t=null==t?[]:u.call(t),o.domain=function(t){if(!arguments.length)return e.slice();e=[],n=Object(i.a)();for(var r,a,u=-1,c=t.length;++u<c;)n.has(a=(r=t[u])+"")||n.set(a,e.push(r));return o},o.range=function(n){return arguments.length?(t=u.call(n),o):t.slice()},o.unknown=function(t){return arguments.length?(r=t,o):r},o.copy=function(){return s().domain(e).range(t).unknown(r)},o}function l(){var t,n,e=s().unknown(void 0),i=e.domain,o=e.range,a=[0,1],u=!1,c=0,f=0,h=.5;function d(){var e=i().length,s=a[1]<a[0],l=a[s-0],d=a[1-s];t=(d-l)/Math.max(1,e-c+2*f),u&&(t=Math.floor(t)),l+=(d-l-t*(e-c))*h,n=t*(1-c),u&&(l=Math.round(l),n=Math.round(n));var p=Object(r.range)(e).map(function(n){return l+t*n});return o(s?p.reverse():p)}return delete e.unknown,e.domain=function(t){return arguments.length?(i(t),d()):i()},e.range=function(t){return arguments.length?(a=[+t[0],+t[1]],d()):a.slice()},e.rangeRound=function(t){return a=[+t[0],+t[1]],u=!0,d()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(u=!!t,d()):u},e.padding=function(t){return arguments.length?(c=f=Math.max(0,Math.min(1,t)),d()):c},e.paddingInner=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),d()):c},e.paddingOuter=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),d()):f},e.align=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),d()):h},e.copy=function(){return l().domain(i()).range(a).round(u).paddingInner(c).paddingOuter(f).align(h)},d()}function f(){return function t(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return t(e())},n}(l().paddingInner(1))}var h=e(4),d=function(t){return function(){return t}},p=function(t){return+t},g=[0,1];function _(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:d(n)}function y(t,n,e,r){var i=t[0],o=t[1],a=n[0],u=n[1];return o<i?(i=e(o,i),a=r(u,a)):(i=e(i,o),a=r(a,u)),function(t){return a(i(t))}}function m(t,n,e,i){var o=Math.min(t.length,n.length)-1,a=new Array(o),u=new Array(o),c=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++c<o;)a[c]=e(t[c],t[c+1]),u[c]=i(n[c],n[c+1]);return function(n){var e=Object(r.bisect)(t,n,1,o)-1;return u[e](a[e](n))}}function v(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function b(t,n){var e,r,i,o=g,c=g,s=h.a,l=!1;function f(){return e=Math.min(o.length,c.length)>2?m:y,r=i=null,d}function d(n){return(r||(r=e(o,c,l?function(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=n?0:t>=e?1:r(t)}}}(t):t,s)))(+n)}return d.invert=function(t){return(i||(i=e(c,o,_,l?function(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=0?n:t>=1?e:r(t)}}}(n):n)))(+t)},d.domain=function(t){return arguments.length?(o=a.call(t,p),f()):o.slice()},d.range=function(t){return arguments.length?(c=u.call(t),f()):c.slice()},d.rangeRound=function(t){return c=u.call(t),s=h.e,f()},d.clamp=function(t){return arguments.length?(l=!!t,f()):l},d.interpolate=function(t){return arguments.length?(s=t,f()):s},f()}var x=e(7),w=function(t,n,e){var i,o=t[0],a=t[t.length-1],u=Object(r.tickStep)(o,a,null==n?10:n);switch((e=Object(x.formatSpecifier)(null==e?",f":e)).type){case"s":var c=Math.max(Math.abs(o),Math.abs(a));return null!=e.precision||isNaN(i=Object(x.precisionPrefix)(u,c))||(e.precision=i),Object(x.formatPrefix)(e,c);case"":case"e":case"g":case"p":case"r":null!=e.precision||isNaN(i=Object(x.precisionRound)(u,Math.max(Math.abs(o),Math.abs(a))))||(e.precision=i-("e"===e.type));break;case"f":case"%":null!=e.precision||isNaN(i=Object(x.precisionFixed)(u))||(e.precision=i-2*("%"===e.type))}return Object(x.format)(e)};function M(t){var n=t.domain;return t.ticks=function(t){var e=n();return Object(r.ticks)(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){return w(n(),t,e)},t.nice=function(e){null==e&&(e=10);var i,o=n(),a=0,u=o.length-1,c=o[a],s=o[u];return s<c&&(i=c,c=s,s=i,i=a,a=u,u=i),(i=Object(r.tickIncrement)(c,s,e))>0?(c=Math.floor(c/i)*i,s=Math.ceil(s/i)*i,i=Object(r.tickIncrement)(c,s,e)):i<0&&(c=Math.ceil(c*i)/i,s=Math.floor(s*i)/i,i=Object(r.tickIncrement)(c,s,e)),i>0?(o[a]=Math.floor(c/i)*i,o[u]=Math.ceil(s/i)*i,n(o)):i<0&&(o[a]=Math.ceil(c*i)/i,o[u]=Math.floor(s*i)/i,n(o)),t},t}function k(){var t=b(_,h.c);return t.copy=function(){return v(t,k())},M(t)}function S(){var t=[0,1];function n(t){return+t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=a.call(e,p),n):t.slice()},n.copy=function(){return S().domain(t)},M(n)}var A=function(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(e=r,r=i,i=e,e=o,o=a,a=e),t[r]=n.floor(o),t[i]=n.ceil(a),t};function E(t,n){return(n=Math.log(n/t))?function(e){return Math.log(e/t)/n}:d(n)}function T(t,n){return t<0?function(e){return-Math.pow(-n,e)*Math.pow(-t,1-e)}:function(e){return Math.pow(n,e)*Math.pow(t,1-e)}}function C(t){return isFinite(t)?+("1e"+t):t<0?0:t}function O(t){return 10===t?C:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}function N(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}function j(t){return function(n){return-t(-n)}}function z(){var t=b(E,T).domain([1,10]),n=t.domain,e=10,i=N(10),o=O(10);function a(){return i=N(e),o=O(e),n()[0]<0&&(i=j(i),o=j(o)),t}return t.base=function(t){return arguments.length?(e=+t,a()):e},t.domain=function(t){return arguments.length?(n(t),a()):n()},t.ticks=function(t){var a,u=n(),c=u[0],s=u[u.length-1];(a=s<c)&&(d=c,c=s,s=d);var l,f,h,d=i(c),p=i(s),g=null==t?10:+t,_=[];if(!(e%1)&&p-d<g){if(d=Math.round(d)-1,p=Math.round(p)+1,c>0){for(;d<p;++d)for(f=1,l=o(d);f<e;++f)if(!((h=l*f)<c)){if(h>s)break;_.push(h)}}else for(;d<p;++d)for(f=e-1,l=o(d);f>=1;--f)if(!((h=l*f)<c)){if(h>s)break;_.push(h)}}else _=Object(r.ticks)(d,p,Math.min(p-d,g)).map(o);return a?_.reverse():_},t.tickFormat=function(n,r){if(null==r&&(r=10===e?".0e":","),"function"!=typeof r&&(r=Object(x.format)(r)),n===1/0)return r;null==n&&(n=10);var a=Math.max(1,e*n/t.ticks().length);return function(t){var n=t/o(Math.round(i(t)));return n*e<e-.5&&(n*=e),n<=a?r(t):""}},t.nice=function(){return n(A(n(),{floor:function(t){return o(Math.floor(i(t)))},ceil:function(t){return o(Math.ceil(i(t)))}}))},t.copy=function(){return v(t,z().base(e))},t}function D(t,n){return t<0?-Math.pow(-t,n):Math.pow(t,n)}function L(){var t=1,n=b(function(n,e){return(e=D(e,t)-(n=D(n,t)))?function(r){return(D(r,t)-n)/e}:d(e)},function(n,e){return e=D(e,t)-(n=D(n,t)),function(r){return D(n+e*r,1/t)}}),e=n.domain;return n.exponent=function(n){return arguments.length?(t=+n,e(e())):t},n.copy=function(){return v(n,L().exponent(t))},M(n)}function F(){return L().exponent(.5)}function R(){var t=[],n=[],e=[];function i(){var i=0,a=Math.max(1,n.length);for(e=new Array(a-1);++i<a;)e[i-1]=Object(r.quantile)(t,i/a);return o}function o(t){if(!isNaN(t=+t))return n[Object(r.bisect)(e,t)]}return o.invertExtent=function(r){var i=n.indexOf(r);return i<0?[NaN,NaN]:[i>0?e[i-1]:t[0],i<e.length?e[i]:t[t.length-1]]},o.domain=function(n){if(!arguments.length)return t.slice();t=[];for(var e,o=0,a=n.length;o<a;++o)null==(e=n[o])||isNaN(e=+e)||t.push(e);return t.sort(r.ascending),i()},o.range=function(t){return arguments.length?(n=u.call(t),i()):n.slice()},o.quantiles=function(){return e.slice()},o.copy=function(){return R().domain(t).range(n)},o}function P(){var t=0,n=1,e=1,i=[.5],o=[0,1];function a(t){if(t<=t)return o[Object(r.bisect)(i,t,0,e)]}function c(){var r=-1;for(i=new Array(e);++r<e;)i[r]=((r+1)*n-(r-e)*t)/(e+1);return a}return a.domain=function(e){return arguments.length?(t=+e[0],n=+e[1],c()):[t,n]},a.range=function(t){return arguments.length?(e=(o=u.call(t)).length-1,c()):o.slice()},a.invertExtent=function(r){var a=o.indexOf(r);return a<0?[NaN,NaN]:a<1?[t,i[0]]:a>=e?[i[e-1],n]:[i[a-1],i[a]]},a.copy=function(){return P().domain([t,n]).range(o)},M(a)}function I(){var t=[.5],n=[0,1],e=1;function i(i){if(i<=i)return n[Object(r.bisect)(t,i,0,e)]}return i.domain=function(r){return arguments.length?(t=u.call(r),e=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(r){return arguments.length?(n=u.call(r),e=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.copy=function(){return I().domain(t).range(n)},i}var B=e(1),U=e(9),H=1e3,W=60*H,Y=60*W,G=24*Y,X=7*G,q=30*G,V=365*G;function Z(t){return new Date(t)}function J(t){return t instanceof Date?+t:+new Date(+t)}function $(t,n,e,i,o,u,c,s,l){var f=b(_,h.c),d=f.invert,p=f.domain,g=l(".%L"),y=l(":%S"),m=l("%I:%M"),x=l("%I %p"),w=l("%a %d"),M=l("%b %d"),k=l("%B"),S=l("%Y"),E=[[c,1,H],[c,5,5*H],[c,15,15*H],[c,30,30*H],[u,1,W],[u,5,5*W],[u,15,15*W],[u,30,30*W],[o,1,Y],[o,3,3*Y],[o,6,6*Y],[o,12,12*Y],[i,1,G],[i,2,2*G],[e,1,X],[n,1,q],[n,3,3*q],[t,1,V]];function T(r){return(c(r)<r?g:u(r)<r?y:o(r)<r?m:i(r)<r?x:n(r)<r?e(r)<r?w:M:t(r)<r?k:S)(r)}function C(n,e,i,o){if(null==n&&(n=10),"number"==typeof n){var a=Math.abs(i-e)/n,u=Object(r.bisector)(function(t){return t[2]}).right(E,a);u===E.length?(o=Object(r.tickStep)(e/V,i/V,n),n=t):u?(o=(u=E[a/E[u-1][2]<E[u][2]/a?u-1:u])[1],n=u[0]):(o=Math.max(Object(r.tickStep)(e,i,n),1),n=s)}return null==o?n:n.every(o)}return f.invert=function(t){return new Date(d(t))},f.domain=function(t){return arguments.length?p(a.call(t,J)):p().map(Z)},f.ticks=function(t,n){var e,r=p(),i=r[0],o=r[r.length-1],a=o<i;return a&&(e=i,i=o,o=e),e=(e=C(t,i,o,n))?e.range(i,o+1):[],a?e.reverse():e},f.tickFormat=function(t,n){return null==n?T:l(n)},f.nice=function(t,n){var e=p();return(t=C(t,e[0],e[e.length-1],n))?p(A(e,t)):f},f.copy=function(){return v(f,$(t,n,e,i,o,u,c,s,l))},f}var Q=function(){return $(B.timeYear,B.timeMonth,B.timeWeek,B.timeDay,B.timeHour,B.timeMinute,B.timeSecond,B.timeMillisecond,U.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},K=function(){return $(B.utcYear,B.utcMonth,B.utcWeek,B.utcDay,B.utcHour,B.utcMinute,B.utcSecond,B.utcMillisecond,U.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},tt=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})},nt=tt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),et=tt("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),rt=tt("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),it=tt("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),ot=e(3),at=Object(h.b)(Object(ot.cubehelix)(300,.5,0),Object(ot.cubehelix)(-240,.5,1)),ut=Object(h.b)(Object(ot.cubehelix)(-100,.75,.35),Object(ot.cubehelix)(80,1.5,.8)),ct=Object(h.b)(Object(ot.cubehelix)(260,.75,.35),Object(ot.cubehelix)(80,1.5,.8)),st=Object(ot.cubehelix)(),lt=function(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return st.h=360*t-100,st.s=1.5-1.5*n,st.l=.8-.9*n,st+""};function ft(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}var ht=ft(tt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),dt=ft(tt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),pt=ft(tt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),gt=ft(tt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function _t(t){var n=0,e=1,r=!1;function i(i){var o=(i-n)/(e-n);return t(r?Math.max(0,Math.min(1,o)):o)}return i.domain=function(t){return arguments.length?(n=+t[0],e=+t[1],i):[n,e]},i.clamp=function(t){return arguments.length?(r=!!t,i):r},i.interpolator=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return _t(t).domain([n,e]).clamp(r)},M(i)}e.d(n,"scaleBand",function(){return l}),e.d(n,"scalePoint",function(){return f}),e.d(n,"scaleIdentity",function(){return S}),e.d(n,"scaleLinear",function(){return k}),e.d(n,"scaleLog",function(){return z}),e.d(n,"scaleOrdinal",function(){return s}),e.d(n,"scaleImplicit",function(){return c}),e.d(n,"scalePow",function(){return L}),e.d(n,"scaleSqrt",function(){return F}),e.d(n,"scaleQuantile",function(){return R}),e.d(n,"scaleQuantize",function(){return P}),e.d(n,"scaleThreshold",function(){return I}),e.d(n,"scaleTime",function(){return Q}),e.d(n,"scaleUtc",function(){return K}),e.d(n,"schemeCategory10",function(){return nt}),e.d(n,"schemeCategory20b",function(){return et}),e.d(n,"schemeCategory20c",function(){return rt}),e.d(n,"schemeCategory20",function(){return it}),e.d(n,"interpolateCubehelixDefault",function(){return at}),e.d(n,"interpolateRainbow",function(){return lt}),e.d(n,"interpolateWarm",function(){return ut}),e.d(n,"interpolateCool",function(){return ct}),e.d(n,"interpolateViridis",function(){return ht}),e.d(n,"interpolateMagma",function(){return dt}),e.d(n,"interpolateInferno",function(){return pt}),e.d(n,"interpolatePlasma",function(){return gt}),e.d(n,"scaleSequential",function(){return _t})},function(t,n,e){"use strict";e.r(n);function r(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,a,u,c,s,l,f,h,d=t._root,p={data:r},g=t._x0,_=t._y0,y=t._x1,m=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((s=n>=(o=(g+y)/2))?g=o:y=o,(l=e>=(a=(_+m)/2))?_=a:m=a,i=d,!(d=d[f=l<<1|s]))return i[f]=p,t;if(u=+t._x.call(null,d.data),c=+t._y.call(null,d.data),n===u&&e===c)return p.next=d,i?i[f]=p:t._root=p,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(s=n>=(o=(g+y)/2))?g=o:y=o,(l=e>=(a=(_+m)/2))?_=a:m=a}while((f=l<<1|s)==(h=(c>=a)<<1|u>=o));return i[h]=d,i[f]=p,t}var i=function(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i};function o(t){return t[0]}function a(t){return t[1]}function u(t,n,e){var r=new c(null==n?o:n,null==e?a:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function c(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function s(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var l=u.prototype=c.prototype;l.copy=function(){var t,n,e=new c(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=s(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=s(n));return e},l.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return r(this.cover(n,e),n,e,t)},l.addAll=function(t){var n,e,i,o,a=t.length,u=new Array(a),c=new Array(a),s=1/0,l=1/0,f=-1/0,h=-1/0;for(e=0;e<a;++e)isNaN(i=+this._x.call(null,n=t[e]))||isNaN(o=+this._y.call(null,n))||(u[e]=i,c[e]=o,i<s&&(s=i),i>f&&(f=i),o<l&&(l=o),o>h&&(h=o));for(f<s&&(s=this._x0,f=this._x1),h<l&&(l=this._y0,h=this._y1),this.cover(s,l).cover(f,h),e=0;e<a;++e)r(this,u[e],c[e],t[e]);return this},l.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{if(!(e>t||t>i||r>n||n>o))return this;var a,u,c=i-e,s=this._root;switch(u=(n<(r+o)/2)<<1|t<(e+i)/2){case 0:do{(a=new Array(4))[u]=s,s=a}while(o=r+(c*=2),t>(i=e+c)||n>o);break;case 1:do{(a=new Array(4))[u]=s,s=a}while(o=r+(c*=2),(e=i-c)>t||n>o);break;case 2:do{(a=new Array(4))[u]=s,s=a}while(r=o-(c*=2),t>(i=e+c)||r>n);break;case 3:do{(a=new Array(4))[u]=s,s=a}while(r=o-(c*=2),(e=i-c)>t||r>n)}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},l.data=function(){var t=[];return this.visit(function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)}),t},l.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},l.find=function(t,n,e){var r,o,a,u,c,s,l,f=this._x0,h=this._y0,d=this._x1,p=this._y1,g=[],_=this._root;for(_&&g.push(new i(_,f,h,d,p)),null==e?e=1/0:(f=t-e,h=n-e,d=t+e,p=n+e,e*=e);s=g.pop();)if(!(!(_=s.node)||(o=s.x0)>d||(a=s.y0)>p||(u=s.x1)<f||(c=s.y1)<h))if(_.length){var y=(o+u)/2,m=(a+c)/2;g.push(new i(_[3],y,m,u,c),new i(_[2],o,m,y,c),new i(_[1],y,a,u,m),new i(_[0],o,a,y,m)),(l=(n>=m)<<1|t>=y)&&(s=g[g.length-1],g[g.length-1]=g[g.length-1-l],g[g.length-1-l]=s)}else{var v=t-+this._x.call(null,_.data),b=n-+this._y.call(null,_.data),x=v*v+b*b;if(x<e){var w=Math.sqrt(e=x);f=t-w,h=n-w,d=t+w,p=n+w,r=_.data}}return r},l.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var n,e,r,i,o,a,u,c,s,l,f,h,d=this._root,p=this._x0,g=this._y0,_=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((s=o>=(u=(p+_)/2))?p=u:_=u,(l=a>=(c=(g+y)/2))?g=c:y=c,n=d,!(d=d[f=l<<1|s]))return this;if(!d.length)break;(n[f+1&3]||n[f+2&3]||n[f+3&3])&&(e=n,h=f)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[f]=i:delete n[f],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)},l.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},l.root=function(){return this._root},l.size=function(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t},l.visit=function(t){var n,e,r,o,a,u,c=[],s=this._root;for(s&&c.push(new i(s,this._x0,this._y0,this._x1,this._y1));n=c.pop();)if(!t(s=n.node,r=n.x0,o=n.y0,a=n.x1,u=n.y1)&&s.length){var l=(r+a)/2,f=(o+u)/2;(e=s[3])&&c.push(new i(e,l,f,a,u)),(e=s[2])&&c.push(new i(e,r,f,l,u)),(e=s[1])&&c.push(new i(e,l,o,a,f)),(e=s[0])&&c.push(new i(e,r,o,l,f))}return this},l.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new i(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var o=n.node;if(o.length){var a,u=n.x0,c=n.y0,s=n.x1,l=n.y1,f=(u+s)/2,h=(c+l)/2;(a=o[0])&&e.push(new i(a,u,c,f,h)),(a=o[1])&&e.push(new i(a,f,c,s,h)),(a=o[2])&&e.push(new i(a,u,h,f,l)),(a=o[3])&&e.push(new i(a,f,h,s,l))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},l.x=function(t){return arguments.length?(this._x=t,this):this._x},l.y=function(t){return arguments.length?(this._y=t,this):this._y},e.d(n,"quadtree",function(){return u})},function(t,n,e){"use strict";e.r(n);var r=e(10),i=e(8),o=function(t,n){var e,o,a,u,c=Object(i.a)("beforesend","progress","load","error"),s=Object(r.a)(),l=new XMLHttpRequest,f=null,h=null,d=0;function p(t){var n,r=l.status;if(!r&&function(t){var n=t.responseType;return n&&"text"!==n?t.response:t.responseText}(l)||r>=200&&r<300||304===r){if(a)try{n=a.call(e,l)}catch(t){return void c.call("error",e,t)}else n=l;c.call("load",e,n)}else c.call("error",e,t)}if("undefined"==typeof XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=l.ontimeout=p:l.onreadystatechange=function(t){l.readyState>3&&p(t)},l.onprogress=function(t){c.call("progress",e,t)},e={header:function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?s.get(t):(null==n?s.remove(t):s.set(t,n+""),e)},mimeType:function(t){return arguments.length?(o=null==t?null:t+"",e):o},responseType:function(t){return arguments.length?(u=t,e):u},timeout:function(t){return arguments.length?(d=+t,e):d},user:function(t){return arguments.length<1?f:(f=null==t?null:t+"",e)},password:function(t){return arguments.length<1?h:(h=null==t?null:t+"",e)},response:function(t){return a=t,e},get:function(t,n){return e.send("GET",t,n)},post:function(t,n){return e.send("POST",t,n)},send:function(n,r,i){return l.open(n,t,!0,f,h),null==o||s.has("accept")||s.set("accept",o+",*/*"),l.setRequestHeader&&s.each(function(t,n){l.setRequestHeader(n,t)}),null!=o&&l.overrideMimeType&&l.overrideMimeType(o),null!=u&&(l.responseType=u),d>0&&(l.timeout=d),null==i&&"function"==typeof r&&(i=r,r=null),null!=i&&1===i.length&&(i=function(t){return function(n,e){t(null==n?e:null)}}(i)),null!=i&&e.on("error",i).on("load",function(t){i(null,t)}),c.call("beforesend",e,l),l.send(null==r?null:r),e},abort:function(){return l.abort(),e},on:function(){var t=c.on.apply(c,arguments);return t===c?e:t}},null!=n){if("function"!=typeof n)throw new Error("invalid callback: "+n);return e.get(n)}return e};var a=function(t,n){return function(e,r){var i=o(e).mimeType(t).response(n);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}},u=a("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),c=a("application/json",function(t){return JSON.parse(t.responseText)}),s=a("text/plain",function(t){return t.responseText}),l=a("application/xml",function(t){var n=t.responseXML;if(!n)throw new Error("parse error");return n}),f={},h={},d=34,p=10,g=13;function _(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}var y=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,a=0,u=0,c=o<=0,s=!1;function l(){if(c)return h;if(s)return s=!1,f;var n,r,i=a;if(t.charCodeAt(i)===d){for(;a++<o&&t.charCodeAt(a)!==d||t.charCodeAt(++a)===d;);return(n=a)>=o?c=!0:(r=t.charCodeAt(a++))===p?s=!0:r===g&&(s=!0,t.charCodeAt(a)===p&&++a),t.slice(i+1,n-1).replace(/""/g,'"')}for(;a<o;){if((r=t.charCodeAt(n=a++))===p)s=!0;else if(r===g)s=!0,t.charCodeAt(a)===p&&++a;else if(r!==e)continue;return t.slice(i,n)}return c=!0,t.slice(i,o)}for(t.charCodeAt(o-1)===p&&--o,t.charCodeAt(o-1)===g&&--o;(r=l())!==h;){for(var _=[];r!==f&&r!==h;)_.push(r),r=l();n&&null==(_=n(_,u++))||i.push(_)}return i}function i(n){return n.map(o).join(t)}function o(t){return null==t?"":n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=_(t);return function(r,i){return n(e(r),i,t)}}(t,n):_(t)});return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=function(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}(n)),[e.map(o).join(t)].concat(n.map(function(n){return e.map(function(t){return o(n[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(i).join("\n")}}},m=y(","),v=m.parse,b=(m.parseRows,m.format,m.formatRows,y("\t")),x=b.parse,w=(b.parseRows,b.format,b.formatRows,function(t,n){return function(e,r,i){arguments.length<3&&(i=r,r=null);var a=o(e).mimeType(t);return a.row=function(t){return arguments.length?a.response(function(t,n){return function(e){return t(e.responseText,n)}}(n,r=t)):r},a.row(r),i?a.get(i):a}});var M=w("text/csv",v),k=w("text/tab-separated-values",x);e.d(n,"request",function(){return o}),e.d(n,"html",function(){return u}),e.d(n,"json",function(){return c}),e.d(n,"text",function(){return s}),e.d(n,"xml",function(){return l}),e.d(n,"csv",function(){return M}),e.d(n,"tsv",function(){return k})},function(t,n,e){"use strict";e.r(n);var r=function(t){return t},i=function(t){if(null==t)return r;var n,e,i=t.scale[0],o=t.scale[1],a=t.translate[0],u=t.translate[1];return function(t,r){r||(n=e=0);var c=2,s=t.length,l=new Array(s);for(l[0]=(n+=t[0])*i+a,l[1]=(e+=t[1])*o+u;c<s;)l[c]=t[c],++c;return l}},o=function(t){var n,e=i(t.transform),r=1/0,o=r,a=-r,u=-r;function c(t){(t=e(t))[0]<r&&(r=t[0]),t[0]>a&&(a=t[0]),t[1]<o&&(o=t[1]),t[1]>u&&(u=t[1])}function s(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(s);break;case"Point":c(t.coordinates);break;case"MultiPoint":t.coordinates.forEach(c)}}for(n in t.arcs.forEach(function(t){for(var n,i=-1,c=t.length;++i<c;)(n=e(t[i],i))[0]<r&&(r=n[0]),n[0]>a&&(a=n[0]),n[1]<o&&(o=n[1]),n[1]>u&&(u=n[1])}),t.objects)s(t.objects[n]);return[r,o,a,u]},a=function(t,n){for(var e,r=t.length,i=r-n;i<--r;)e=t[i],t[i++]=t[r],t[r]=e},u=function(t,n){return"GeometryCollection"===n.type?{type:"FeatureCollection",features:n.geometries.map(function(n){return c(t,n)})}:c(t,n)};function c(t,n){var e=n.id,r=n.bbox,i=null==n.properties?{}:n.properties,o=s(t,n);return null==e&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:e,properties:i,geometry:o}:{type:"Feature",id:e,bbox:r,properties:i,geometry:o}}function s(t,n){var e=i(t.transform),r=t.arcs;function o(t,n){n.length&&n.pop();for(var i=r[t<0?~t:t],o=0,u=i.length;o<u;++o)n.push(e(i[o],o));t<0&&a(n,u)}function u(t){return e(t)}function c(t){for(var n=[],e=0,r=t.length;e<r;++e)o(t[e],n);return n.length<2&&n.push(n[0]),n}function s(t){for(var n=c(t);n.length<4;)n.push(n[0]);return n}function l(t){return t.map(s)}return function t(n){var e,r=n.type;switch(r){case"GeometryCollection":return{type:r,geometries:n.geometries.map(t)};case"Point":e=u(n.coordinates);break;case"MultiPoint":e=n.coordinates.map(u);break;case"LineString":e=c(n.arcs);break;case"MultiLineString":e=n.arcs.map(c);break;case"Polygon":e=l(n.arcs);break;case"MultiPolygon":e=n.arcs.map(l);break;default:return null}return{type:r,coordinates:e}}(n)}var l=function(t,n){var e={},r={},i={},o=[],a=-1;function u(t,n){for(var r in t){var i=t[r];delete n[i.start],delete i.start,delete i.end,i.forEach(function(t){e[t<0?~t:t]=1}),o.push(i)}}return n.forEach(function(e,r){var i,o=t.arcs[e<0?~e:e];o.length<3&&!o[1][0]&&!o[1][1]&&(i=n[++a],n[a]=e,n[r]=i)}),n.forEach(function(n){var e,o,a=function(n){var e,r=t.arcs[n<0?~n:n],i=r[0];t.transform?(e=[0,0],r.forEach(function(t){e[0]+=t[0],e[1]+=t[1]})):e=r[r.length-1];return n<0?[e,i]:[i,e]}(n),u=a[0],c=a[1];if(e=i[u])if(delete i[e.end],e.push(n),e.end=c,o=r[c]){delete r[o.start];var s=o===e?e:e.concat(o);r[s.start=e.start]=i[s.end=o.end]=s}else r[e.start]=i[e.end]=e;else if(e=r[c])if(delete r[e.start],e.unshift(n),e.start=u,o=i[u]){delete i[o.end];var l=o===e?e:o.concat(e);r[l.start=o.start]=i[l.end=e.end]=l}else r[e.start]=i[e.end]=e;else r[(e=[n]).start=u]=i[e.end=c]=e}),u(i,r),u(r,i),n.forEach(function(t){e[t<0?~t:t]||o.push([t])}),o},f=function(t){return s(t,h.apply(this,arguments))};function h(t,n,e){var r,i,o;if(arguments.length>1)r=function(t,n,e){var r,i=[],o=[];function a(t){var n=t<0?~t:t;(o[n]||(o[n]=[])).push({i:t,g:r})}function u(t){t.forEach(a)}function c(t){t.forEach(u)}return function t(n){switch(r=n,n.type){case"GeometryCollection":n.geometries.forEach(t);break;case"LineString":u(n.arcs);break;case"MultiLineString":case"Polygon":c(n.arcs);break;case"MultiPolygon":!function(t){t.forEach(c)}(n.arcs)}}(n),o.forEach(null==e?function(t){i.push(t[0].i)}:function(t){e(t[0].g,t[t.length-1].g)&&i.push(t[0].i)}),i}(0,n,e);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:l(t,r)}}var d=function(t){return s(t,p.apply(this,arguments))};function p(t,n){var e={},r=[],i=[];function o(t){t.forEach(function(n){n.forEach(function(n){(e[n=n<0?~n:n]||(e[n]=[])).push(t)})}),r.push(t)}function a(n){return function(t){for(var n,e=-1,r=t.length,i=t[r-1],o=0;++e<r;)n=i,i=t[e],o+=n[0]*i[1]-n[1]*i[0];return Math.abs(o)}(s(t,{type:"Polygon",arcs:[n]}).coordinates[0])}return n.forEach(function t(n){switch(n.type){case"GeometryCollection":n.geometries.forEach(t);break;case"Polygon":o(n.arcs);break;case"MultiPolygon":n.arcs.forEach(o)}}),r.forEach(function(t){if(!t._){var n=[],r=[t];for(t._=1,i.push(n);t=r.pop();)n.push(t),t.forEach(function(t){t.forEach(function(t){e[t<0?~t:t].forEach(function(t){t._||(t._=1,r.push(t))})})})}}),r.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:i.map(function(n){var r,i=[];if(n.forEach(function(t){t.forEach(function(t){t.forEach(function(t){e[t<0?~t:t].length<2&&i.push(t)})})}),(r=(i=l(t,i)).length)>1)for(var o,u,c=1,s=a(i[0]);c<r;++c)(o=a(i[c]))>s&&(u=i[0],i[0]=i[c],i[c]=u,s=o);return i})}}var g=function(t,n){for(var e=0,r=t.length;e<r;){var i=e+r>>>1;t[i]<n?e=i+1:r=i}return e},_=function(t){var n={},e=t.map(function(){return[]});function r(t,e){t.forEach(function(t){t<0&&(t=~t);var r=n[t];r?r.push(e):n[t]=[e]})}function i(t,n){t.forEach(function(t){r(t,n)})}var o={LineString:r,MultiLineString:i,Polygon:i,MultiPolygon:function(t,n){t.forEach(function(t){i(t,n)})}};for(var a in t.forEach(function t(n,e){"GeometryCollection"===n.type?n.geometries.forEach(function(n){t(n,e)}):n.type in o&&o[n.type](n.arcs,e)}),n)for(var u=n[a],c=u.length,s=0;s<c;++s)for(var l=s+1;l<c;++l){var f,h=u[s],d=u[l];(f=e[h])[a=g(f,d)]!==d&&f.splice(a,0,d),(f=e[d])[a=g(f,h)]!==h&&f.splice(a,0,h)}return e},y=function(t){if(null==t)return r;var n,e,i=t.scale[0],o=t.scale[1],a=t.translate[0],u=t.translate[1];return function(t,r){r||(n=e=0);var c=2,s=t.length,l=new Array(s),f=Math.round((t[0]-a)/i),h=Math.round((t[1]-u)/o);for(l[0]=f-n,n=f,l[1]=h-e,e=h;c<s;)l[c]=t[c],++c;return l}},m=function(t,n){if(t.transform)throw new Error("already quantized");if(n&&n.scale)c=t.bbox;else{if(!((e=Math.floor(n))>=2))throw new Error("n must be ≥2");var e,r=(c=t.bbox||o(t))[0],i=c[1],a=c[2],u=c[3];n={scale:[a-r?(a-r)/(e-1):1,u-i?(u-i)/(e-1):1],translate:[r,i]}}var c,s,l=y(n),f=t.objects,h={};function d(t){return l(t)}function p(t){var n;switch(t.type){case"GeometryCollection":n={type:"GeometryCollection",geometries:t.geometries.map(p)};break;case"Point":n={type:"Point",coordinates:d(t.coordinates)};break;case"MultiPoint":n={type:"MultiPoint",coordinates:t.coordinates.map(d)};break;default:return t}return null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),null!=t.properties&&(n.properties=t.properties),n}for(s in f)h[s]=p(f[s]);return{type:"Topology",bbox:c,transform:n,objects:h,arcs:t.arcs.map(function(t){var n,e=0,r=1,i=t.length,o=new Array(i);for(o[0]=l(t[0],0);++e<i;)((n=l(t[e],e))[0]||n[1])&&(o[r++]=n);return 1===r&&(o[r++]=[0,0]),o.length=r,o})}};e.d(n,"bbox",function(){return o}),e.d(n,"feature",function(){return u}),e.d(n,"mesh",function(){return f}),e.d(n,"meshArcs",function(){return h}),e.d(n,"merge",function(){return d}),e.d(n,"mergeArcs",function(){return p}),e.d(n,"neighbors",function(){return _}),e.d(n,"quantize",function(){return m}),e.d(n,"transform",function(){return i}),e.d(n,"untransform",function(){return y})},function(t,n,e){"use strict";e.r(n);var r=e(8),i=e(0);var o=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()},a=function(t){var n=t.document.documentElement,e=Object(i.select)(t).on("dragstart.drag",o,!0);"onselectstart"in n?e.on("selectstart.drag",o,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")};function u(t,n){var e=t.document.documentElement,r=Object(i.select)(t).on("dragstart.drag",null);n&&(r.on("click.drag",o,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function c(t,n,e,r,i,o,a,u,c,s){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=u,this.dy=c,this._=s}c.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var s=e(4),l=e(11),f=function(t){return function(){return t}},h=function(t,n,e){this.target=t,this.type=n,this.selection=e};function d(){i.event.stopImmediatePropagation()}var p=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()},g={name:"drag"},_={name:"space"},y={name:"handle"},m={name:"center"},v={name:"x",handles:["e","w"].map(E),input:function(t,n){return t&&[[t[0],n[0][1]],[t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},b={name:"y",handles:["n","s"].map(E),input:function(t,n){return t&&[[n[0][0],t[0]],[n[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},x={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(E),input:function(t){return t},output:function(t){return t}},w={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},M={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},k={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},S={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},A={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function E(t){return{type:t}}function T(){return!i.event.button}function C(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function O(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function N(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function j(t){var n=t.__brush;return n?n.dim.output(n.selection):null}function z(){return F(v)}function D(){return F(b)}var L=function(){return F(x)};function F(t){var n,e=C,o=T,c=Object(r.a)(j,"start","brush","end"),x=6;function j(n){var e=n.property("__brush",R).selectAll(".overlay").data([E("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",w.overlay).merge(e).each(function(){var t=O(this).extent;Object(i.select)(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),n.selectAll(".selection").data([E("selection")]).enter().append("rect").attr("class","selection").attr("cursor",w.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=n.selectAll(".handle").data(t.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return w[t.type]}),n.each(z).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",F)}function z(){var t=Object(i.select)(this),n=O(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?n[1][0]-x/2:n[0][0]-x/2}).attr("y",function(t){return"s"===t.type[0]?n[1][1]-x/2:n[0][1]-x/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+x:x}).attr("height",function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+x:x})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function D(t,n){return t.__brush.emitter||new L(t,n)}function L(t,n){this.that=t,this.args=n,this.state=t.__brush,this.active=0}function F(){if(i.event.touches){if(i.event.changedTouches.length<i.event.touches.length)return p()}else if(n)return;if(o.apply(this,arguments)){var e,r,c,s,f,h,x,E,T,C,j,L,F,R=this,P=i.event.target.__data__.type,I="selection"===(i.event.metaKey?P="overlay":P)?g:i.event.altKey?m:y,B=t===b?null:S[P],U=t===v?null:A[P],H=O(R),W=H.extent,Y=H.selection,G=W[0][0],X=W[0][1],q=W[1][0],V=W[1][1],Z=B&&U&&i.event.shiftKey,J=Object(i.mouse)(R),$=J,Q=D(R,arguments).beforestart();"overlay"===P?H.selection=Y=[[e=t===b?G:J[0],c=t===v?X:J[1]],[f=t===b?q:e,x=t===v?V:c]]:(e=Y[0][0],c=Y[0][1],f=Y[1][0],x=Y[1][1]),r=e,s=c,h=f,E=x;var K=Object(i.select)(R).attr("pointer-events","none"),tt=K.selectAll(".overlay").attr("cursor",w[P]);if(i.event.touches)K.on("touchmove.brush",et,!0).on("touchend.brush touchcancel.brush",it,!0);else{var nt=Object(i.select)(i.event.view).on("keydown.brush",function(){switch(i.event.keyCode){case 16:Z=B&&U;break;case 18:I===y&&(B&&(f=h-T*B,e=r+T*B),U&&(x=E-C*U,c=s+C*U),I=m,rt());break;case 32:I!==y&&I!==m||(B<0?f=h-T:B>0&&(e=r-T),U<0?x=E-C:U>0&&(c=s-C),I=_,tt.attr("cursor",w.selection),rt());break;default:return}p()},!0).on("keyup.brush",function(){switch(i.event.keyCode){case 16:Z&&(L=F=Z=!1,rt());break;case 18:I===m&&(B<0?f=h:B>0&&(e=r),U<0?x=E:U>0&&(c=s),I=y,rt());break;case 32:I===_&&(i.event.altKey?(B&&(f=h-T*B,e=r+T*B),U&&(x=E-C*U,c=s+C*U),I=m):(B<0?f=h:B>0&&(e=r),U<0?x=E:U>0&&(c=s),I=y),tt.attr("cursor",w[P]),rt());break;default:return}p()},!0).on("mousemove.brush",et,!0).on("mouseup.brush",it,!0);a(i.event.view)}d(),Object(l.interrupt)(R),z.call(R),Q.start()}function et(){var t=Object(i.mouse)(R);!Z||L||F||(Math.abs(t[0]-$[0])>Math.abs(t[1]-$[1])?F=!0:L=!0),$=t,j=!0,p(),rt()}function rt(){var t;switch(T=$[0]-J[0],C=$[1]-J[1],I){case _:case g:B&&(T=Math.max(G-e,Math.min(q-f,T)),r=e+T,h=f+T),U&&(C=Math.max(X-c,Math.min(V-x,C)),s=c+C,E=x+C);break;case y:B<0?(T=Math.max(G-e,Math.min(q-e,T)),r=e+T,h=f):B>0&&(T=Math.max(G-f,Math.min(q-f,T)),r=e,h=f+T),U<0?(C=Math.max(X-c,Math.min(V-c,C)),s=c+C,E=x):U>0&&(C=Math.max(X-x,Math.min(V-x,C)),s=c,E=x+C);break;case m:B&&(r=Math.max(G,Math.min(q,e-T*B)),h=Math.max(G,Math.min(q,f+T*B))),U&&(s=Math.max(X,Math.min(V,c-C*U)),E=Math.max(X,Math.min(V,x+C*U)))}h<r&&(B*=-1,t=e,e=f,f=t,t=r,r=h,h=t,P in M&&tt.attr("cursor",w[P=M[P]])),E<s&&(U*=-1,t=c,c=x,x=t,t=s,s=E,E=t,P in k&&tt.attr("cursor",w[P=k[P]])),H.selection&&(Y=H.selection),L&&(r=Y[0][0],h=Y[1][0]),F&&(s=Y[0][1],E=Y[1][1]),Y[0][0]===r&&Y[0][1]===s&&Y[1][0]===h&&Y[1][1]===E||(H.selection=[[r,s],[h,E]],z.call(R),Q.brush())}function it(){if(d(),i.event.touches){if(i.event.touches.length)return;n&&clearTimeout(n),n=setTimeout(function(){n=null},500),K.on("touchmove.brush touchend.brush touchcancel.brush",null)}else u(i.event.view,j),nt.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);K.attr("pointer-events","all"),tt.attr("cursor",w.overlay),H.selection&&(Y=H.selection),N(Y)&&(H.selection=null,z.call(R)),Q.end()}}function R(){var n=this.__brush||{selection:null};return n.extent=e.apply(this,arguments),n.dim=t,n}return j.move=function(n,e){n.selection?n.on("start.brush",function(){D(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){D(this,arguments).end()}).tween("brush",function(){var n=this,r=n.__brush,i=D(n,arguments),o=r.selection,a=t.input("function"==typeof e?e.apply(this,arguments):e,r.extent),u=Object(s.a)(o,a);function c(t){r.selection=1===t&&N(a)?null:u(t),z.call(n),i.brush()}return o&&a?c:c(1)}):n.each(function(){var n=arguments,r=this.__brush,i=t.input("function"==typeof e?e.apply(this,n):e,r.extent),o=D(this,n).beforestart();Object(l.interrupt)(this),r.selection=null==i||N(i)?null:i,z.call(this),o.start().brush().end()})},L.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(n){Object(i.customEvent)(new h(j,n,t.output(this.state.selection)),c.apply,c,[n,this.that,this.args])}},j.extent=function(t){return arguments.length?(e="function"==typeof t?t:f([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),j):e},j.filter=function(t){return arguments.length?(o="function"==typeof t?t:f(!!t),j):o},j.handleSize=function(t){return arguments.length?(x=+t,j):x},j.on=function(){var t=c.on.apply(c,arguments);return t===c?j:t},j}e.d(n,"brush",function(){return L}),e.d(n,"brushX",function(){return z}),e.d(n,"brushY",function(){return D}),e.d(n,"brushSelection",function(){return j})},function(t,n,e){"use strict";e.r(n);var r=Array.prototype.slice,i=function(t){return t},o=1,a=2,u=3,c=4,s=1e-6;function l(t){return"translate("+(t+.5)+",0)"}function f(t){return"translate(0,"+(t+.5)+")"}function h(){return!this.__axis}function d(t,n){var e=[],d=null,p=null,g=6,_=6,y=3,m=t===o||t===c?-1:1,v=t===c||t===a?"x":"y",b=t===o||t===u?l:f;function x(r){var l=null==d?n.ticks?n.ticks.apply(n,e):n.domain():d,f=null==p?n.tickFormat?n.tickFormat.apply(n,e):i:p,x=Math.max(g,0)+y,w=n.range(),M=+w[0]+.5,k=+w[w.length-1]+.5,S=(n.bandwidth?function(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}:function(t){return function(n){return+t(n)}})(n.copy()),A=r.selection?r.selection():r,E=A.selectAll(".domain").data([null]),T=A.selectAll(".tick").data(l,n).order(),C=T.exit(),O=T.enter().append("g").attr("class","tick"),N=T.select("line"),j=T.select("text");E=E.merge(E.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),T=T.merge(O),N=N.merge(O.append("line").attr("stroke","#000").attr(v+"2",m*g)),j=j.merge(O.append("text").attr("fill","#000").attr(v,m*x).attr("dy",t===o?"0em":t===u?"0.71em":"0.32em")),r!==A&&(E=E.transition(r),T=T.transition(r),N=N.transition(r),j=j.transition(r),C=C.transition(r).attr("opacity",s).attr("transform",function(t){return isFinite(t=S(t))?b(t):this.getAttribute("transform")}),O.attr("opacity",s).attr("transform",function(t){var n=this.parentNode.__axis;return b(n&&isFinite(n=n(t))?n:S(t))})),C.remove(),E.attr("d",t===c||t==a?"M"+m*_+","+M+"H0.5V"+k+"H"+m*_:"M"+M+","+m*_+"V0.5H"+k+"V"+m*_),T.attr("opacity",1).attr("transform",function(t){return b(S(t))}),N.attr(v+"2",m*g),j.attr(v,m*x).text(f),A.filter(h).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===a?"start":t===c?"end":"middle"),A.each(function(){this.__axis=S})}return x.scale=function(t){return arguments.length?(n=t,x):n},x.ticks=function(){return e=r.call(arguments),x},x.tickArguments=function(t){return arguments.length?(e=null==t?[]:r.call(t),x):e.slice()},x.tickValues=function(t){return arguments.length?(d=null==t?null:r.call(t),x):d&&d.slice()},x.tickFormat=function(t){return arguments.length?(p=t,x):p},x.tickSize=function(t){return arguments.length?(g=_=+t,x):g},x.tickSizeInner=function(t){return arguments.length?(g=+t,x):g},x.tickSizeOuter=function(t){return arguments.length?(_=+t,x):_},x.tickPadding=function(t){return arguments.length?(y=+t,x):y},x}function p(t){return d(o,t)}function g(t){return d(a,t)}function _(t){return d(u,t)}function y(t){return d(c,t)}e.d(n,"axisTop",function(){return p}),e.d(n,"axisRight",function(){return g}),e.d(n,"axisBottom",function(){return _}),e.d(n,"axisLeft",function(){return y})}]);